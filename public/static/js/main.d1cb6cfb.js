/*! For license information please see main.d1cb6cfb.js.LICENSE.txt */
(()=>{var e={8210:function(e,t,n){var r;!function(){"use strict";var i,o=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,c="[DecimalError] ",l=c+"Invalid argument: ",u=c+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,g=9007199254740991,m=d(1286742750677284.5),v={};function y(e,t){var n,r,i,o,a,c,l,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?C(t,h):t;if(l=e.d,u=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i){for(o<0?(r=l,o=-o,c=u.length):(r=u,i=a,c=l.length),o>(c=(a=Math.ceil(h/7))>c?a+1:c+1)&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((c=l.length)-(o=u.length)<0&&(o=c,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/p|0,l[o]%=p;for(n&&(l.unshift(n),++i),c=l.length;0==l[--c];)l.pop();return t.d=l,t.e=i,s?C(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(l+e)}function w(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=O(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=O(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return x(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return C(x(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return E(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,r=n.constructor,o=r.precision,a=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(c+"NaN");if(n.s<1)throw Error(c+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=x(T(n,a),T(e,a),a),s=!0,C(t,o))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?j(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(c+"NaN");return n.s?(s=!1,t=x(n,e,0,1).times(e),s=!0,n.minus(t)):C(new r(n),i)},v.naturalExponential=v.exp=function(){return S(this)},v.naturalLogarithm=v.ln=function(){return T(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):j(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(l+e);if(t=E(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,r,i,o,a,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(c+"NaN")}for(e=E(l),s=!1,0==(i=Math.sqrt(+l))||i==1/0?(((t=w(l.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=a=(n=u.precision)+3;;)if(r=(o=r).plus(x(l,o,a+2)).times(.5),w(o.d).slice(0,a)===(t=w(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(C(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if("9999"!=t)break;a+=4}return s=!0,C(r,n)},v.times=v.mul=function(e){var t,n,r,i,o,a,c,l,u,d=this,h=d.constructor,f=d.d,g=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(l=f.length)<(u=g.length)&&(o=f,f=g,g=o,a=l,l=u,u=a),o=[],r=a=l+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)c=o[i]+g[r]*f[i-r-1]+t,o[i--]=c%p|0,t=c/p|0;o[i]=(o[i]+t)%p|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,s?C(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,o),void 0===t?t=r.rounding:b(t,0,8),C(n,e+E(n)+1,t))},v.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=A(r,!0):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),n=A(r=C(new i(r),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?A(i):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),n=A((r=C(new a(i),e+E(i)+1,t)).abs(),!1,e+E(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return C(new t(e),E(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,r,o,a,l,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(c+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return C(u,r);if(l=(t=e.e)>=(n=e.d.length-1),a=u.s,l){if((n=f<0?-f:f)<=g){for(o=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&_((o=o.times(u)).d,t),0!==(n=d(n/2));)_((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(o):C(o,r)}}else if(a<0)throw Error(c+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,o=e.times(T(u,r+12)),s=!0,(o=S(o)).s=a,o},v.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=A(i,(n=E(i))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,o),void 0===t?t=a.rounding:b(t,0,8),r=A(i=C(new a(i),e,t),e<=(n=E(i))||n<=a.toExpNeg,e)),r},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,o),void 0===t?t=n.rounding:b(t,0,8)),C(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=E(e),n=e.constructor;return A(e,t<=n.toExpNeg||t>=n.toExpPos)};var x=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,l,u,d,h,f,g,m,v,y,b,w,x,S,k,O,T,P,j=r.constructor,A=r.s==i.s?1:-1,_=r.d,I=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(c+"Division by zero");for(l=r.e-i.e,T=I.length,k=_.length,m=(g=new j(A)).d=[],u=0;I[u]==(_[u]||0);)++u;if(I[u]>(_[u]||0)&&--l,(w=null==o?o=j.precision:a?o+(E(r)-E(i))+1:o)<0)return new j(0);if(w=w/7+2|0,u=0,1==T)for(d=0,I=I[0],w++;(u<k||d)&&w--;u++)x=d*p+(_[u]||0),m[u]=x/I|0,d=x%I|0;else{for((d=p/(I[0]+1)|0)>1&&(I=e(I,d),_=e(_,d),T=I.length,k=_.length),S=T,y=(v=_.slice(0,T)).length;y<T;)v[y++]=0;(P=I.slice()).unshift(0),O=I[0],I[1]>=p/2&&++O;do{d=0,(s=t(I,v,T,y))<0?(b=v[0],T!=y&&(b=b*p+(v[1]||0)),(d=b/O|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(I,d),v,f=h.length,y=v.length))&&(d--,n(h,T<f?P:I,f))):(0==d&&(s=d=1),h=I.slice()),(f=h.length)<y&&h.unshift(0),n(v,h,y),-1==s&&(s=t(I,v,T,y=v.length))<1&&(d++,n(v,T<y?P:I,y)),y=v.length):0===s&&(d++,v=[0]),m[u++]=d,s&&v[0]?v[y++]=_[S]||0:(v=[_[S]],y=1)}while((S++<k||void 0!==v[0])&&w--)}return m[0]||m.shift(),g.e=l,C(g,a?o+E(g)+1:o)}}();function S(e,t){var n,r,o,a,c,l=0,d=0,f=e.constructor,p=f.precision;if(E(e)>16)throw Error(u+E(e));if(!e.s)return new f(i);for(null==t?(s=!1,c=p):c=t,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(c+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=o=new f(i),f.precision=c;;){if(r=C(r.times(e),c),n=n.times(++l),w((a=o.plus(x(r,n,c))).d).slice(0,c)===w(o.d).slice(0,c)){for(;d--;)o=C(o.times(o),c);return f.precision=p,null==t?(s=!0,C(o,p)):o}o=a}}function E(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function k(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(c+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function O(e){for(var t="";e--;)t+="0";return t}function T(e,t){var n,r,o,a,l,u,d,h,f,p=1,g=e,m=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(c+(g.s?"NaN":"-Infinity"));if(g.eq(i))return new v(0);if(null==t?(s=!1,h=y):h=t,g.eq(10))return null==t&&(s=!0),k(v,h);if(h+=10,v.precision=h,r=(n=w(m)).charAt(0),a=E(g),!(Math.abs(a)<15e14))return d=k(v,h+2,y).times(a+""),g=T(new v(r+"."+n.slice(1)),h-10).plus(d),v.precision=y,null==t?(s=!0,C(g,y)):g;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=w((g=g.times(e)).d)).charAt(0),p++;for(a=E(g),r>1?(g=new v("0."+n),a++):g=new v(r+"."+n.slice(1)),u=l=g=x(g.minus(i),g.plus(i),h),f=C(g.times(g),h),o=3;;){if(l=C(l.times(f),h),w((d=u.plus(x(l,new v(o),h))).d).slice(0,h)===w(u.d).slice(0,h))return u=u.times(2),0!==a&&(u=u.plus(k(v,h+2,y).times(a+""))),u=x(u,new v(p),h),v.precision=y,null==t?(s=!0,C(u,y)):u;u=d,o+=2}}function P(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>m||e.e<-m))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,n){var r,i,o,a,c,l,f,g,v=e.d;for(a=1,o=v[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,f=v[g=0];else{if((g=Math.ceil((r+1)/7))>=(o=v.length))return e;for(f=o=v[g],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(c=f/(o=h(10,a-i-1))%10|0,l=t<0||void 0!==v[g+1]||f%o,l=n<4?(c||l)&&(0==n||n==(e.s<0?3:2)):c>5||5==c&&(4==n||l||6==n&&(r>0?i>0?f/h(10,a-i):0:v[g-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return l?(o=E(e),v.length=1,t=t-o-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=g,o=1,g--):(v.length=g+1,o=h(10,7-r),v[g]=i>0?(f/h(10,a-i)%h(10,i)|0)*o:0),l)for(;;){if(0==g){(v[0]+=o)==p&&(v[0]=1,++e.e);break}if(v[g]+=o,v[g]!=p)break;v[g--]=0,o=1}for(r=v.length;0===v[--r];)v.pop();if(s&&(e.e>m||e.e<-m))throw Error(u+E(e));return e}function j(e,t){var n,r,i,o,a,c,l,u,d,h,f=e.constructor,g=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?C(t,g):t;if(l=e.d,h=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r){for((d=a<0)?(n=l,a=-a,c=h.length):(n=h,r=u,c=l.length),a>(i=Math.max(Math.ceil(g/7),c)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((d=(i=l.length)<(c=h.length))&&(c=i),i=0;i<c;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}a=0}for(d&&(n=l,l=h,h=n,t.s=-t.s),c=l.length,i=h.length-c;i>0;--i)l[c++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(o=i;o&&0===l[--o];)l[o]=p-1;--l[o],l[i]+=p}l[i]-=h[i]}for(;0===l[--c];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,s?C(t,g):t):new f(0)}function A(e,t,n){var r,i=E(e),o=w(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+O(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+O(-i-1)+o,n&&(r=n-a)>0&&(o+=O(r))):i>=a?(o+=O(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+O(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=O(r))),e.s<0?"-"+o:o}function _(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!==typeof e)throw Error(c+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(l+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(l+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(l+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):P(t,e.toString())}if("string"!==typeof e)throw Error(l+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(l+e);P(t,e)}if(o.prototype=v,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=I,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||i&&!s[c].once||r&&s[c].context!==r)&&l.push(s[c]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},8724:(e,t,n)=>{var r=n(7615),i=n(5051),o=n(2154),a=n(8734),s=n(2662);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},7160:(e,t,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},4816:(e,t,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},8902:(e,t,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},5538:(e,t,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),c=n(6788);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,e.exports=l},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),c=n(1268),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&c(e),f=n||u||d||h,p=f?r(e.length,String):[],g=p.length;for(var m in e)!t&&!l.call(e,m)||f&&("length"==m||d&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},5967:e=>{e.exports=function(e){return e.split("")}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===c?s===s&&!r(s):n(s,c)))var c=s,l=a}return l}},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,o,a,s){var c=-1,l=t.length;for(o||(o=i),s||(s=[]);++c<l;){var u=t[c];n>0&&o(u)?n>1?e(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},7498:e=>{e.exports=function(e,t){return e>t}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8468:(e,t,n)=>{var r=n(5816),i=n(644),o=n(4020);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),c=n(4052),l=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,v){var y=c(e),b=c(t),w=y?h:s(e),x=b?h:s(t),S=(w=w==d?f:w)==f,E=(x=x==d?f:x)==f,k=w==x;if(k&&l(e)){if(!l(t))return!1;y=!0,S=!1}if(k&&!S)return v||(v=new r),y||u(e)?i(e,t,n,g,m,v):o(e,t,w,n,g,m,v);if(!(1&n)){var O=S&&p.call(e,"__wrapped__"),T=E&&p.call(t,"__wrapped__");if(O||T){var P=O?e.value():e,C=T?t.value():t;return v||(v=new r),m(P,C,n,g,v)}}return!!k&&(v||(v=new r),a(e,t,n,g,m,v))}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var u=(l=n[a])[0],d=e[u],h=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(o)var p=o(d,h,u,e,t,f);if(!(void 0===p?i(h,d,3,o,f):p))return!1}}return!0}},644:e=>{e.exports=function(e){return e!==e}},6954:(e,t,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},5428:(e,t,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},9096:(e,t,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},61:e=>{e.exports=function(e,t){return e<t}},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),o=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},5029:(e,t,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),c=n(1310),l=n(914);e.exports=function(e,t){return a(e)&&s(t)?c(l(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},2536:(e,t,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),c=n(7574),l=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[u];var h=-1;t=r(t,c(o));var f=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++h,value:e}}));return s(f,(function(e,t){return l(e,t,n)}))}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),c=Array(s);s--;)c[o?s:++a]=e,e+=i;return c}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),o=n(6350);e.exports=function(e,t){return o(i(e,t,r),e+"")}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},8541:(e,t,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},4416:(e,t,n)=>{var r=n(8902),i=n(5866),o=n(1558),a=n(8114),s=n(8182),c=n(2074);e.exports=function(e,t,n){var l=-1,u=i,d=e.length,h=!0,f=[],p=f;if(n)h=!1,u=o;else if(d>=200){var g=t?null:s(e);if(g)return c(g);h=!1,u=a,p=new r}else p=t?[]:f;e:for(;++l<d;){var m=e[l],v=t?t(m):m;if(m=n||0!==m?m:0,h&&v===v){for(var y=p.length;y--;)if(p[y]===v)continue e;t&&p.push(v),f.push(m)}else u(p,v,n)||(p!==f&&p.push(v),f.push(m))}return f}},8114:e=>{e.exports=function(e,t){return e.has(t)}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,c=null===t,l=t===t,u=r(t);if(!c&&!u&&!a&&e>t||a&&s&&l&&!c&&!u||i&&s&&l||!n&&l||!o)return 1;if(!i&&!a&&!u&&e<t||u&&n&&o&&!i&&!a||c&&n&&o||!s&&o||!l)return-1}return 0}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,c=n.length;++i<s;){var l=r(o[i],a[i]);if(l)return i>=c?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),o=n(9115),a=n(1069);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),c=n?r(n,1).join(""):t.slice(1);return s[e]()+c}}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),o=n(8673);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var c=r(n,3);t=o(t),n=function(e){return c(s[e],e,s)}}var l=e(t,n,a);return l>-1?s[c?t[l]:l]:void 0}}},3331:(e,t,n)=>{var r=n(9676),i=n(929),o=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},8182:(e,t,n)=>{var r=n(2070),i=n(5713),o=n(2074),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},3668:(e,t,n)=>{var r=n(8902),i=n(2587),o=n(8114);e.exports=function(e,t,n,a,s,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var h=c.get(e),f=c.get(t);if(h&&f)return h==t&&f==e;var p=-1,g=!0,m=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<u;){var v=e[p],y=t[p];if(a)var b=l?a(y,v,p,t,e,c):a(v,y,p,e,t,c);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(v===e||s(v,e,n,a,c)))return m.push(t)}))){g=!1;break}}else if(v!==y&&!s(v,y,n,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),c=n(2074),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=c),e.size!=t.size&&!p)return!1;var g=h.get(e);if(g)return g==t;r|=2,h.set(e,t);var m=a(f(e),f(t),r,l,d,h);return h.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var c=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!c)return!1;for(var d=u;d--;){var h=l[d];if(!(c?h in t:i.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=c;++d<u;){var v=e[h=l[d]],y=t[h];if(o)var b=c?o(y,v,h,t,e,s):o(v,y,h,e,t,s);if(!(void 0===b?v===y||a(v,y,n,o,s):b)){g=!1;break}m||(m="constructor"==h)}if(g&&!m){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(g=!1)}return s.delete(e),s.delete(t),g}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9395:(e,t,n)=>{var r=n(4262),i=n(9621),o=n(8673);e.exports=function(e){return r(e,o,i)}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(c){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},6924:(e,t,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),c=n(6913),l=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",g=l(r),m=l(i),v=l(o),y=l(a),b=l(s),w=c;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=u||o&&w(o.resolve())!=d||a&&w(new a)!=h||s&&w(new s)!=f)&&(w=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return p;case m:return u;case v:return d;case y:return h;case b:return f}return t}),e.exports=w},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},9057:(e,t,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),c=n(914);e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,d=!1;++l<u;){var h=c(t[l]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(o(e)||i(e))}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},7116:(e,t,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},929:(e,t,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=n(c),r(e,this,l)}}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),o=n(715);e.exports=function(e){return i(e)?o(e):r(e)}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")"+"?",l="[\\ufe0e\\ufe0f]?",u=l+c+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+l+c+")*"),d="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},2541:e=>{e.exports=function(e){return function(){return e}}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),o=n(801),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,u,d,h,f,p=0,g=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=c,r=l;return c=l=void 0,p=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||m&&e-p>=u}function w(){var e=i();if(b(e))return x(e);h=setTimeout(w,function(e){var n=t-(e-f);return m?s(n,u-(e-p)):n}(e))}function x(e){return h=void 0,v&&c?y(e):(c=l=void 0,d)}function S(){var e=i(),n=b(e);if(c=arguments,l=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(w,t),g?y(e):d}(f);if(m)return clearTimeout(h),h=setTimeout(w,t),y(f)}return void 0===h&&(h=setTimeout(w,t)),d}return t=o(t)||0,r(n)&&(g=!!n.leading,u=(m="maxWait"in n)?a(o(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==h&&clearTimeout(h),p=0,c=f=l=h=void 0},S.flush=function(){return void 0===h?d:x(i())},S}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),o=n(9096),a=n(4052),s=n(929);e.exports=function(e,t,n){var c=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),c(e,o(t,3))}},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},2520:(e,t,n)=>{var r=n(5816),i=n(9096),o=n(9140),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:o(n);return c<0&&(c=a(s+c,0)),r(e,i(t,3),c)}},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3279:e=>{e.exports=function(e){return e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},4052:e=>{var t=Array.isArray;e.exports=t},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},9686:e=>{e.exports=function(e){return null==e}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),o=n(2761),a=Function.prototype,s=Object.prototype,c=a.toString,l=s.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==u}},620:(e,t,n)=>{var r=n(6913),i=n(4052),o=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},8673:(e,t,n)=>{var r=n(3204),i=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):i(e)}},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},3411:(e,t,n)=>{var r=n(149),i=n(9096),o=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},539:(e,t,n)=>{var r=n(9742),i=n(7498),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},6745:(e,t,n)=>{var r=n(9742),i=n(61),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},5713:e=>{e.exports=function(){}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},3932:(e,t,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);e.exports=function(e){return o(e)?r(a(e)):i(e)}},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},4597:(e,t,n)=>{var r=n(2587),i=n(9096),o=n(2165),a=n(4052),s=n(929);e.exports=function(e,t,n){var c=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),c(e,i(t,3))}},7424:(e,t,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},7828:e=>{e.exports=function(){return[]}},14:e=>{e.exports=function(){return!1}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},801:(e,t,n)=>{var r=n(1141),i=n(6686),o=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),P=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,H=Object.assign;function $(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var L=!1;function q(e,t){if(!e||L)return"";L=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{L=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function F(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case O:return"Profiler";case k:return"StrictMode";case j:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function oe(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,ke=null;function Oe(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function Te(e){Ee?ke?ke.push(e):ke=[e]:Ee=e}function Pe(){if(Ee){var e=Ee,t=ke;if(ke=Ee=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Ce(e,t){return e(t)}function je(){}var Ae=!1;function _e(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==ke)&&(je(),Pe())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){De=!1}function Ne(e,t,n,r,i,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Me=!1,He=null,$e=!1,Le=null,qe={onError:function(e){Me=!0,He=e}};function Fe(e,t,n,r,i,o,a,s,c){Me=!1,He=null,Ne.apply(qe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(Be(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ze(i),e;if(a===r)return ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,Et,kt,Ot,Tt=!1,Pt=[],Ct=null,jt=null,At=null,_t=new Map,It=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":_t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ht(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Ot(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function $t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Lt(e,t,n){$t(e)&&n.delete(t)}function qt(){Tt=!1,null!==Ct&&$t(Ct)&&(Ct=null),null!==jt&&$t(jt)&&(jt=null),null!==At&&$t(At)&&(At=null),_t.forEach(Lt),It.forEach(Lt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qt)))}function Bt(e){function t(t){return Ft(t,e)}if(0<Pt.length){Ft(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ft(Ct,e),null!==jt&&Ft(jt,e),null!==At&&Ft(At,e),_t.forEach(t),It.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ht(n),null===n.blockedOn&&Dt.shift()}var Ut=w.ReactCurrentBatchConfig,zt=!0;function Vt(e,t,n,r){var i=bt,o=Ut.transition;Ut.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Ut.transition=o}}function Wt(e,t,n,r){var i=bt,o=Ut.transition;Ut.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Ut.transition=o}}function Gt(e,t,n,r){if(zt){var i=Yt(e,t,n,r);if(null===i)zr(e,t,r,Kt,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return jt=Mt(jt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return _t.set(o,Mt(_t.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,It.set(o,Mt(It.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Yt(e,t,n,r))&&zr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=yi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),dn=H({},ln,{view:0,detail:0}),hn=on(dn),fn=H({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),gn=on(H({},fn,{dataTransfer:0})),mn=on(H({},dn,{relatedTarget:0})),vn=on(H({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=H({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(H({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function On(){return kn}var Tn=H({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=on(Tn),Cn=on(H({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=on(H({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),An=on(H({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=H({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=on(_n),Dn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var Mn=u&&"TextEvent"in window&&!Nn,Hn=u&&(!Rn||Nn&&8<Nn&&11>=Nn),$n=String.fromCharCode(32),Ln=!1;function qn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Vn(e,t,n,r){Te(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Kn(e){$r(e,0)}function Yn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Zn;if(u){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Zn=Qn}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Vn(t,Gn,e,xe(e)),_e(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Er={},kr={};function Or(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Er[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=Or("animationend"),Pr=Or("animationiteration"),Cr=Or("animationstart"),jr=Or("transitionend"),Ar=new Map,_r="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Ar.set(e,t),c(t,[e])}for(var Dr=0;Dr<_r.length;Dr++){var Rr=_r[Dr];Ir(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Ir(Tr,"onAnimationEnd"),Ir(Pr,"onAnimationIteration"),Ir(Cr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(jr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Hr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,c,l){if(Fe.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=He;Me=!1,He=null,$e||($e=!0,Le=u)}}(r,t,void 0,e),e.currentTarget=null}function $r(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Hr(i,s,l),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,l=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Hr(i,s,l),o=c}}}if($e)throw e=Le,$e=!1,Le=null,e}function Lr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function qr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Fr]){e[Fr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||qr(t,!1,e),qr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,qr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Xt(t)){case 1:var i=Vt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}_e((function(){var r=o,i=xe(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Pn;break;case"focusin":l="focus",c=mn;break;case"focusout":l="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=jn;break;case Tr:case Pr:case Cr:c=vn;break;case jr:c=An;break;case"scroll":c=hn;break;case"wheel":c=In;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Ie(p,h))&&u.push(Vr(p,g,f)))),d)break;p=p.return}0<u.length&&(s=new c(s,l,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(d=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==c?s:wi(c),f=null==l?s:wi(l),(s=new u(g,p+"leave",c,n,i)).target=d,s.relatedTarget=f,g=null,yi(i)===r&&((u=new u(h,p+"enter",l,n,i)).target=f,u.relatedTarget=d,g=u),d=g,c&&l)e:{for(h=l,p=0,f=u=c;f;f=Gr(f))p++;for(f=0,g=h;g;g=Gr(g))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==c&&Kr(a,s,c,u,!1),null!==l&&null!==d&&Kr(a,d,l,u,!0)}if("select"===(c=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var m=Xn;else if(zn(s))if(Jn)m=ar;else{m=ir;var v=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Vn(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(zn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Hn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Fn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Ln=!0,$n);case"textInput":return(e=t.data)===$n&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&qn(e,t)?(e=en(),Qt=Zt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}$r(a,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ie(e,n))&&r.unshift(Vr(e,o,i)),null!=(o=Ie(e,t))&&r.push(Vr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(c=Ie(n,o))&&a.unshift(Vr(n,c,s)):i||null!=(c=Ie(n,o))&&a.push(Vr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Qr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var Si=[],Ei=-1;function ki(e){return{current:e}}function Oi(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function Ti(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Pi={},Ci=ki(Pi),ji=ki(!1),Ai=Pi;function _i(e,t){var n=e.type.contextTypes;if(!n)return Pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Oi(ji),Oi(Ci)}function Ri(e,t,n){if(Ci.current!==Pi)throw Error(o(168));Ti(Ci,t),Ti(ji,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,U(e)||"Unknown",i));return H({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,Ai=Ci.current,Ti(Ci,e),Ti(ji,ji.current),!0}function Hi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ni(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Oi(ji),Oi(Ci),Ti(Ci,e)):Oi(ji),Ti(ji,n)}var $i=null,Li=!1,qi=!1;function Fi(e){null===$i?$i=[e]:$i.push(e)}function Bi(){if(!qi&&null!==$i){qi=!0;var e=0,t=bt;try{var n=$i;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}$i=null,Li=!1}catch(i){throw null!==$i&&($i=$i.slice(e+1)),Ge(Qe,Bi),i}finally{bt=t,qi=!1}}return null}var Ui=[],zi=0,Vi=null,Wi=0,Gi=[],Ki=0,Yi=null,Xi=1,Ji="";function Zi(e,t){Ui[zi++]=Wi,Ui[zi++]=Vi,Vi=e,Wi=t}function Qi(e,t,n){Gi[Ki++]=Xi,Gi[Ki++]=Ji,Gi[Ki++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Ji=o+e}else Xi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Zi(e,1),Qi(e,1,0))}function to(e){for(;e===Vi;)Vi=Ui[--zi],Ui[zi]=null,Wi=Ui[--zi],Ui[zi]=null;for(;e===Yi;)Yi=Gi[--Ki],Gi[Ki]=null,Ji=Gi[--Ki],Gi[Ki]=null,Xi=Gi[--Ki],Gi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=_l(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=_l(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(co(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=li(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Hl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Rl(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Nl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Hl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Rl(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case S:return(t=$l(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Nl(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?l(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case I:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function g(i,o,s,c){for(var l=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,s[g],c);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,g),null===u?l=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(i,d),io&&Zi(i,g),l;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],c))&&(o=a(d,o,g),null===u?l=d:u.sibling=d,u=d);return io&&Zi(i,g),l}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===u?l=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),io&&Zi(i,g),l}function m(i,s,c,l){var u=N(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var d=u=null,g=s,m=s=0,v=null,y=c.next();null!==g&&!y.done;m++,y=c.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,l);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),io&&Zi(i,m),u;if(null===g){for(;!y.done;m++,y=c.next())null!==(y=h(i,y.value,l))&&(s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return io&&Zi(i,m),u}for(g=r(i,g);!y.done;m++,y=c.next())null!==(y=p(g,i,m,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Zi(i,m),u}return function e(r,o,a,c){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var l=a.key,u=o;null!==u;){if(u.key===l){if((l=a.type)===E){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===I&&bo(l)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=vo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((o=Nl(a.props.children,r.mode,c,a.key)).return=r,r=o):((c=Rl(a.type,a.key,a.props,null,r.mode,c)).ref=vo(r,o,a),c.return=r,r=c)}return s(r);case S:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=$l(a,r.mode,c)).return=r,r=o}return s(r);case I:return e(r,o,(u=a._init)(a._payload),c)}if(te(a))return g(r,o,a,c);if(N(a))return m(r,o,a,c);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Hl(a,r.mode,c)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),So=wo(!1),Eo=ki(null),ko=null,Oo=null,To=null;function Po(){To=Oo=ko=null}function Co(e){var t=Eo.current;Oi(Eo),e._currentValue=t}function jo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t){ko=e,To=Oo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function _o(e){var t=e._currentValue;if(To!==e)if(e={context:e,memoizedValue:t,next:null},null===Oo){if(null===ko)throw Error(o(308));Oo=e,ko.dependencies={lanes:0,firstContext:e}}else Oo=Oo.next=e;return t}var Io=null;function Do(e){null===Io?Io=[e]:Io.push(e)}function Ro(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Do(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $o(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return null===(i=r.interleaved)?(t.next=t,Do(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function Fo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===a?o=l:a.next=l,a=c;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(null!==o){var d=i.baseState;for(a=0,u=l=c=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=H({},d,h);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=f,c=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Mc|=a,e.lanes=a,e.memoizedState=d}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo={},Wo=ki(Vo),Go=ki(Vo),Ko=ki(Vo);function Yo(e){if(e===Vo)throw Error(o(174));return e}function Xo(e,t){switch(Ti(Ko,t),Ti(Go,e),Ti(Wo,Vo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Oi(Wo),Ti(Wo,t)}function Jo(){Oi(Wo),Oi(Go),Oi(Ko)}function Zo(e){Yo(Ko.current);var t=Yo(Wo.current),n=ce(t,e.type);t!==n&&(Ti(Go,e),Ti(Wo,n))}function Qo(e){Go.current===e&&(Oi(Wo),Oi(Go))}var ea=ki(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,ca=null,la=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(o(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Qa:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,la=ca=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Za,t=null!==ca&&null!==ca.next,aa=0,la=ca=sa=null,ua=!1,t)throw Error(o(300));return e}function va(){var e=0!==ha;return ha=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?sa.memoizedState=la=e:la=la.next=e,la}function ba(){if(null===ca){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===la?sa.memoizedState:la.next;if(null!==t)la=t,ca=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===la?sa.memoizedState=la=e:la=la.next=e}return la}function wa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ca,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=s=null,l=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,s=r):l=l.next=h,sa.lanes|=d,Mc|=d}u=u.next}while(null!==u&&u!==a);null===l?s=r:l.next=c,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Mc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ea(){}function ka(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ma(Pa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,_a(9,Ta.bind(null,n,r,i,t),void 0,null),null===jc)throw Error(o(349));0!==(30&aa)||Oa(n,t,i)}return i}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ta(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&ja(e)}function Pa(e,t,n){return n((function(){Ca(t)&&ja(e)}))}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function ja(e){var t=No(e,1);null!==t&&nl(t,e,1,-1)}function Aa(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[t.memoizedState,e]}function _a(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ia(){return ba().memoizedState}function Da(e,t,n,r){var i=ya();sa.flags|=e,i.memoizedState=_a(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==ca){var a=ca.memoizedState;if(o=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=_a(t,n,o,r))}sa.flags|=e,i.memoizedState=_a(1|t,n,o,r)}function Na(e,t){return Da(8390656,8,e,t)}function Ma(e,t){return Ra(2048,8,e,t)}function Ha(e,t){return Ra(4,2,e,t)}function $a(e,t){return Ra(4,4,e,t)}function La(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,La.bind(null,t,e),n)}function Fa(){}function Ba(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ua(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function za(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),sa.lanes|=n,Mc|=n,e.baseState=!0),t)}function Va(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Wa(){return ba().memoizedState}function Ga(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Xa(t,n);else if(null!==(n=Ro(e,t,n,r))){nl(n,e,r,el()),Ja(n,t,r)}}function Ka(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Xa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var c=t.interleaved;return null===c?(i.next=i,Do(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ro(e,t,i,r))&&(nl(n,e,r,i=el()),Ja(n,t,r))}}function Ya(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Xa(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ja(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Za={readContext:_o,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Qa={readContext:_o,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:_o,useEffect:Na,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4194308,4,La.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Da(4194308,4,e,t)},useInsertionEffect:function(e,t){return Da(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Aa,useDebugValue:Fa,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Aa(!1),t=e[0];return e=Va.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ya();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===jc)throw Error(o(349));0!==(30&aa)||Oa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Na(Pa.bind(null,r,a,e),[e]),r.flags|=2048,_a(9,Ta.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=jc.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:_o,useCallback:Ba,useContext:_o,useEffect:Ma,useImperativeHandle:qa,useInsertionEffect:Ha,useLayoutEffect:$a,useMemo:Ua,useReducer:xa,useRef:Ia,useState:function(){return xa(wa)},useDebugValue:Fa,useDeferredValue:function(e){return za(ba(),ca.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:Ea,useSyncExternalStore:ka,useId:Wa,unstable_isNewReconciler:!1},ts={readContext:_o,useCallback:Ba,useContext:_o,useEffect:Ma,useImperativeHandle:qa,useInsertionEffect:Ha,useLayoutEffect:$a,useMemo:Ua,useReducer:Sa,useRef:Ia,useState:function(){return Sa(wa)},useDebugValue:Fa,useDeferredValue:function(e){var t=ba();return null===ca?t.memoizedState=e:za(t,ca.memoizedState,e)},useTransition:function(){return[Sa(wa)[0],ba().memoizedState]},useMutableSource:Ea,useSyncExternalStore:ka,useId:Wa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=H({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:H({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=qo(e,o,i))&&(nl(t,e,i,r),Fo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=qo(e,o,i))&&(nl(t,e,i,r),Fo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=qo(e,i,r))&&(nl(t,e,r,n),Fo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function as(e,t,n){var r=!1,i=Pi,o=t.contextType;return"object"===typeof o&&null!==o?o=_o(o):(i=Ii(t)?Ai:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?_i(e,i):Pi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function cs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ho(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=_o(o):(o=Ii(t)?Ai:Ci.current,i.context=_i(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Uo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ls(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zc||(zc=!0,Vc=r),ds(0,t)},n}function ps(e,t,n){(n=Lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Wc?Wc=new Set([this]):Wc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ol.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Lo(-1,1)).tag=2,qo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?So(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Ao(t,i),r=ma(e,t,n,r,o,i),n=va(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Il(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return zs(e,t,i)}return t.flags|=1,(e=Dl(o,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,zs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Dc,Ic),Ic|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Dc,Ic),Ic|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Dc,Ic),Ic|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Dc,Ic),Ic|=r;return ws(e,t,i,n),t.child}function Os(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var o=Ii(n)?Ai:Ci.current;return o=_i(t,o),Ao(t,i),n=ma(e,t,n,r,o,i),r=va(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Ps(e,t,n,r,i){if(Ii(n)){var o=!0;Mi(t)}else o=!1;if(Ao(t,i),null===t.stateNode)Us(e,t),as(t,n,r),cs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=_o(l):l=_i(t,l=Ii(n)?Ai:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==l)&&ss(t,a,r,l),Mo=!1;var h=t.memoizedState;a.state=h,Uo(t,r,a,i),c=t.memoizedState,s!==r||h!==c||ji.current||Mo?("function"===typeof u&&(rs(t,n,u,r),c=t.memoizedState),(s=Mo||os(t,n,s,r,h,c,l))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,$o(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ns(t.type,s),a.props=l,d=t.pendingProps,h=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=_o(c):c=_i(t,c=Ii(n)?Ai:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==c)&&ss(t,a,r,c),Mo=!1,h=t.memoizedState,a.state=h,Uo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||ji.current||Mo?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(l=Mo||os(t,n,l,r,h,p,c)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,o,i)}function Cs(e,t,n,r,i,o){Os(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Hi(t,n,!1),zs(e,t,o);r=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Hi(t,n,!0),t.child}function js(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Xo(e,t.containerInfo)}function As(e,t,n,r,i){return po(),go(i),t.flags|=256,ws(e,t,n,r),t.child}var _s,Is,Ds,Rs,Ns={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hs(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(ea,1&a),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,s?(i=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Ml(c,i,0,null),e=Nl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ns,e):$s(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Ls(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ml({mode:"visible",children:r.children},i,0,null),(a=Nl(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ns,a);if(0===(1&t.mode))return Ls(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Ls(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(c=0!==(s&e.childLanes),bs||c){if(null!==(r=jc)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,No(e,i),nl(r,e,i,-1))}return gl(),Ls(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Ki++]=Xi,Gi[Ki++]=Ji,Gi[Ki++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=$s(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,a,n);if(s){s=i.fallback,c=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Dl(r,s):(s=Nl(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,c=null===(c=e.child.memoizedState)?Ms(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i}return e=(s=e.child).sibling,i=Dl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function $s(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ls(e,t,n,r){return null!==r&&go(r),xo(t,e.child,null,n),(e=$s(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),jo(e.return,t,n)}function Fs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qs(e,n,t);else if(19===e.tag)qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fs(t,!0,n,null,o);break;case"together":Fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Us(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ii(t.type)&&Di(),Ws(t),null;case 3:return r=t.stateNode,Jo(),Oi(ji),Oi(Ci),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(al(oo),oo=null))),Is(e,t),Ws(t),null;case 5:Qo(t);var i=Yo(Ko.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=Yo(Wo.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)Lr(Nr[i],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":X(r,a),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Lr("invalid",r);break;case"textarea":ie(r,a),Lr("invalid",r)}for(var c in ye(n,a),i=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Lr("scroll",r)}switch(n){case"input":W(r),Q(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Qr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[hi]=t,e[fi]=r,_s(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Lr("cancel",e),Lr("close",e),i=r;break;case"iframe":case"object":case"embed":Lr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Lr(Nr[i],e);i=r;break;case"source":Lr("error",e),i=r;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),i=r;break;case"details":Lr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Lr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=H({},r,{value:void 0}),Lr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Lr("invalid",e)}for(a in ye(n,i),l=i)if(l.hasOwnProperty(a)){var u=l[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Lr("scroll",e):null!=u&&b(e,a,u,c))}switch(n){case"input":W(e),Q(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Ko.current),Yo(Wo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Oi(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==oo&&(al(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Rc&&(Rc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Jo(),Is(e,t),null===e&&Br(t.stateNode.containerInfo),Ws(t),null;case 10:return Co(t.type._context),Ws(t),null;case 19:if(Oi(ea),null===(a=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)Vs(a,!1);else{if(0!==Rc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ta(e))){for(t.flags|=128,Vs(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Bc&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!io)return Ws(t),null}else 2*Je()-a.renderingStartTime>Bc&&1073741824!==n&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=ea.current,Ti(ea,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ic)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(to(t),t.tag){case 1:return Ii(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Oi(ji),Oi(Ci),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qo(t),null;case 13:if(Oi(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Oi(ea),null;case 4:return Jo(),null;case 10:return Co(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}_s=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(Wo.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=H({},i,{value:void 0}),r=H({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Lr("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kl(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){kl(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ec(t,n,o)}i=i.next}while(i!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function sc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var uc=null,dc=!1;function hc(e,t,n){for(n=n.child;null!==n;)fc(e,t,n),n=n.sibling}function fc(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Qs(n,t);case 6:var r=uc,i=dc;uc=null,hc(e,t,n),dc=i,null!==(uc=r)&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Bt(e)):ci(uc,n.stateNode));break;case 4:r=uc,i=dc,uc=n.stateNode.containerInfo,dc=!0,hc(e,t,n),uc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&ec(n,t,a),i=i.next}while(i!==r)}hc(e,t,n);break;case 1:if(!Xs&&(Qs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kl(n,t,s)}hc(e,t,n);break;case 21:hc(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hc(e,t,n),Xs=r):hc(e,t,n);break;default:hc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,dc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===uc)throw Error(o(160));fc(a,s,i),uc=null,dc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){kl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mc(t,e),t=t.sibling}function mc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),vc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(m){kl(e,e.return,m)}try{nc(5,e,e.return)}catch(m){kl(e,e.return,m)}}break;case 1:gc(t,e),vc(e),512&r&&null!==n&&Qs(n,n.return);break;case 5:if(gc(t,e),vc(e),512&r&&null!==n&&Qs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){kl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===a.type&&null!=a.name&&J(i,a),be(c,s);var u=be(c,a);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(c){case"input":Z(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(m){kl(e,e.return,m)}}break;case 6:if(gc(t,e),vc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){kl(e,e.return,m)}}break;case 3:if(gc(t,e),vc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){kl(e,e.return,m)}break;case 4:default:gc(t,e),vc(e);break;case 13:gc(t,e),vc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Fc=Je())),4&r&&pc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,gc(t,e),Xs=u):gc(t,e),vc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(h=Zs=d;null!==Zs;){switch(p=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:nc(4,f,f.return);break;case 1:Qs(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){kl(r,n,m)}}break;case 5:Qs(f,f.return);break;case 22:if(null!==f.memoizedState){xc(h);continue}}null!==p?(p.return=f,Zs=p):xc(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=ge("display",s))}catch(m){kl(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){kl(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gc(t,e),vc(e),4&r&&pc(e);case 21:}}function vc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lc(e,sc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cc(e,sc(e),a);break;default:throw Error(o(161))}}catch(s){kl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,n){Zs=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,c=null!==s&&null!==s.memoizedState||Xs;s=Ys;var l=Xs;if(Ys=a,(Xs=c)&&!l)for(Zs=i;null!==Zs;)c=(a=Zs).child,22===a.tag&&null!==a.memoizedState?Sc(i):null!==c?(c.return=a,Zs=c):Sc(i);for(;null!==o;)Zs=o,bc(o,t,n),o=o.sibling;Zs=i,Ys=s,Xs=l}wc(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):wc(e)}}function wc(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&zo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&ic(t)}catch(f){kl(t,t.return,f)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xc(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Sc(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){kl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){kl(t,i,c)}}var o=t.return;try{ic(t)}catch(c){kl(t,o,c)}break;case 5:var a=t.return;try{ic(t)}catch(c){kl(t,a,c)}}}catch(c){kl(t,t.return,c)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Ec,kc=Math.ceil,Oc=w.ReactCurrentDispatcher,Tc=w.ReactCurrentOwner,Pc=w.ReactCurrentBatchConfig,Cc=0,jc=null,Ac=null,_c=0,Ic=0,Dc=ki(0),Rc=0,Nc=null,Mc=0,Hc=0,$c=0,Lc=null,qc=null,Fc=0,Bc=1/0,Uc=null,zc=!1,Vc=null,Wc=null,Gc=!1,Kc=null,Yc=0,Xc=0,Jc=null,Zc=-1,Qc=0;function el(){return 0!==(6&Cc)?Je():-1!==Zc?Zc:Zc=Je()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Cc)&&0!==_c?_c&-_c:null!==mo.transition?(0===Qc&&(Qc=gt()),Qc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nl(e,t,n,r){if(50<Xc)throw Xc=0,Jc=null,Error(o(185));vt(e,n,r),0!==(2&Cc)&&e===jc||(e===jc&&(0===(2&Cc)&&(Hc|=n),4===Rc&&sl(e,_c)),rl(e,r),1===n&&0===Cc&&0===(1&t.mode)&&(Bc=Je()+500,Li&&Bi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,c=i[a];-1===c?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===jc?_c:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Li=!0,Fi(e)}(cl.bind(null,e)):Fi(cl.bind(null,e)),ai((function(){0===(6&Cc)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Zc=-1,Qc=0,0!==(6&Cc))throw Error(o(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=ht(e,e===jc?_c:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Cc;Cc|=2;var a=pl();for(jc===e&&_c===t||(Uc=null,Bc=Je()+500,hl(e,t));;)try{yl();break}catch(c){fl(e,c)}Po(),Oc.current=a,Cc=i,null!==Ac?t=0:(jc=null,_c=0,t=Rc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Nc,hl(e,0),sl(e,r),rl(e,Je()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(a=pt(e))&&(r=a,t=ol(e,a))),1===t))throw n=Nc,hl(e,0),sl(e,r),rl(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xl(e,qc,Uc);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Fc+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xl.bind(null,e,qc,Uc),t);break}xl(e,qc,Uc);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kc(r/1960))-r)){e.timeoutHandle=ri(xl.bind(null,e,qc,Uc),r);break}xl(e,qc,Uc);break;default:throw Error(o(329))}}}return rl(e,Je()),e.callbackNode===n?il.bind(null,e):null}function ol(e,t){var n=Lc;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=qc,qc=n,null!==t&&al(t)),e}function al(e){null===qc?qc=e:qc.push.apply(qc,e)}function sl(e,t){for(t&=~$c,t&=~Hc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&Cc))throw Error(o(327));Sl();var t=ht(e,0);if(0===(1&t))return rl(e,Je()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Nc,hl(e,0),sl(e,t),rl(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xl(e,qc,Uc),rl(e,Je()),null}function ll(e,t){var n=Cc;Cc|=1;try{return e(t)}finally{0===(Cc=n)&&(Bc=Je()+500,Li&&Bi())}}function ul(e){null!==Kc&&0===Kc.tag&&0===(6&Cc)&&Sl();var t=Cc;Cc|=1;var n=Pc.transition,r=bt;try{if(Pc.transition=null,bt=1,e)return e()}finally{bt=r,Pc.transition=n,0===(6&(Cc=t))&&Bi()}}function dl(){Ic=Dc.current,Oi(Dc)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ac)for(n=Ac.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:Jo(),Oi(ji),Oi(Ci),ra();break;case 5:Qo(r);break;case 4:Jo();break;case 13:case 19:Oi(ea);break;case 10:Co(r.type._context);break;case 22:case 23:dl()}n=n.return}if(jc=e,Ac=e=Dl(e.current,null),_c=Ic=t,Rc=0,Nc=null,$c=Hc=Mc=0,qc=Lc=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return e}function fl(e,t){for(;;){var n=Ac;try{if(Po(),ia.current=Za,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,la=ca=sa=null,da=!1,ha=0,Tc.current=null,null===n||null===n.return){Rc=1,Nc=t,Ac=null;break}e:{var a=e,s=n.return,c=n,l=t;if(t=_c,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,vs(p,s,c,0,t),1&p.mode&&gs(a,u,t),l=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}if(0===(1&t)){gs(a,u,t),gl();break e}l=Error(o(426))}else if(io&&1&c.mode){var v=ms(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,c,0,t),go(ls(l,c));break e}}a=l=ls(l,c),4!==Rc&&(Rc=2),null===Lc?Lc=[a]:Lc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,fs(0,l,t));break e;case 1:c=l;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wc||!Wc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,ps(a,c,t));break e}}a=a.return}while(null!==a)}wl(n)}catch(w){t=w,Ac===n&&null!==n&&(Ac=n=n.return);continue}break}}function pl(){var e=Oc.current;return Oc.current=Za,null===e?Za:e}function gl(){0!==Rc&&3!==Rc&&2!==Rc||(Rc=4),null===jc||0===(268435455&Mc)&&0===(268435455&Hc)||sl(jc,_c)}function ml(e,t){var n=Cc;Cc|=2;var r=pl();for(jc===e&&_c===t||(Uc=null,hl(e,t));;)try{vl();break}catch(i){fl(e,i)}if(Po(),Cc=n,Oc.current=r,null!==Ac)throw Error(o(261));return jc=null,_c=0,Rc}function vl(){for(;null!==Ac;)bl(Ac)}function yl(){for(;null!==Ac&&!Ye();)bl(Ac)}function bl(e){var t=Ec(e.alternate,e,Ic);e.memoizedProps=e.pendingProps,null===t?wl(e):Ac=t,Tc.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ic)))return void(Ac=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Ac=n);if(null===e)return Rc=6,void(Ac=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ac=t);Ac=t=e}while(null!==t);0===Rc&&(Rc=5)}function xl(e,t,n){var r=bt,i=Pc.transition;try{Pc.transition=null,bt=1,function(e,t,n,r){do{Sl()}while(null!==Kc);if(0!==(6&Cc))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===jc&&(Ac=jc=null,_c=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gc||(Gc=!0,jl(tt,(function(){return Sl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Pc.transition,Pc.transition=null;var s=bt;bt=1;var c=Cc;Cc|=4,Tc.current=null,function(e,t){if(ei=zt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,c=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(c=s+i),h!==a||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(c=s),f===a&&++d===r&&(l=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){kl(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}g=tc,tc=!1}(e,n),mc(n,e),pr(ti),zt=!!ei,ti=ei=null,e.current=n,yc(n,e,i),Xe(),Cc=c,bt=s,Pc.transition=a}else e.current=n;if(Gc&&(Gc=!1,Kc=e,Yc=i),a=e.pendingLanes,0===a&&(Wc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zc)throw zc=!1,e=Vc,Vc=null,e;0!==(1&Yc)&&0!==e.tag&&Sl(),a=e.pendingLanes,0!==(1&a)?e===Jc?Xc++:(Xc=0,Jc=e):Xc=0,Bi()}(e,t,n,r)}finally{Pc.transition=i,bt=r}return null}function Sl(){if(null!==Kc){var e=wt(Yc),t=Pc.transition,n=bt;try{if(Pc.transition=null,bt=16>e?16:e,null===Kc)var r=!1;else{if(e=Kc,Kc=null,Yc=0,0!==(6&Cc))throw Error(o(331));var i=Cc;for(Cc|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Zs=u;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:nc(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zs=h;else for(;null!==Zs;){var f=(d=Zs).sibling,p=d.return;if(oc(d),d===u){Zs=null;break}if(null!==f){f.return=p,Zs=f;break}Zs=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:nc(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zs=y;break e}Zs=a.return}}var b=e.current;for(Zs=b;null!==Zs;){var w=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Zs=w;else e:for(s=b;null!==Zs;){if(0!==(2048&(c=Zs).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(S){kl(c,c.return,S)}if(c===s){Zs=null;break e}var x=c.sibling;if(null!==x){x.return=c.return,Zs=x;break e}Zs=c.return}}if(Cc=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Pc.transition=t}}return!1}function El(e,t,n){e=qo(e,t=fs(0,t=ls(n,t),1),1),t=el(),null!==e&&(vt(e,1,t),rl(e,t))}function kl(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wc||!Wc.has(r))){t=qo(t,e=ps(t,e=ls(n,e),1),1),e=el(),null!==t&&(vt(t,1,e),rl(t,e));break}}t=t.return}}function Ol(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,jc===e&&(_c&n)===n&&(4===Rc||3===Rc&&(130023424&_c)===_c&&500>Je()-Fc?hl(e,0):$c|=n),rl(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=el();null!==(e=No(e,t))&&(vt(e,t,n),rl(e,n))}function Pl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tl(e,n)}function jl(e,t){return Ge(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _l(e,t,n,r){return new Al(e,t,n,r)}function Il(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=_l(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Il(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Nl(n.children,i,a,t);case k:s=8,i|=8;break;case O:return(e=_l(12,n,t,2|i)).elementType=O,e.lanes=a,e;case j:return(e=_l(13,n,t,i)).elementType=j,e.lanes=a,e;case A:return(e=_l(19,n,t,i)).elementType=A,e.lanes=a,e;case D:return Ml(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case P:s=9;break e;case C:s=11;break e;case _:s=14;break e;case I:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=_l(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Nl(e,t,n,r){return(e=_l(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=_l(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Hl(e,t,n){return(e=_l(6,e,null,t)).lanes=n,e}function $l(e,t,n){return(t=_l(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ll(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ql(e,t,n,r,i,o,a,s,c){return e=new Ll(e,t,n,s,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=_l(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ho(o),e}function Fl(e){if(!e)return Pi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Ni(e,n,t)}return t}function Bl(e,t,n,r,i,o,a,s,c){return(e=ql(n,r,!0,e,0,o,0,s,c)).context=Fl(null),n=e.current,(o=Lo(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,qo(n,o,i),e.current.lanes=i,vt(e,i,r),rl(e,r),e}function Ul(e,t,n,r){var i=t.current,o=el(),a=tl(i);return n=Fl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Lo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=qo(i,t,a))&&(nl(e,i,a,o),Fo(e,i,a)),a}function zl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){Vl(e,t),(e=e.alternate)&&Vl(e,t)}Ec=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ji.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:js(t),po();break;case 5:Zo(t);break;case 1:Ii(t.type)&&Mi(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(Eo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Hs(e,t,n):(Ti(ea,1&ea.current),null!==(e=zs(e,t,n))?e.sibling:null);Ti(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return zs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Qi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Us(e,t),e=t.pendingProps;var i=_i(t,Ci.current);Ao(t,n),i=ma(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ho(t),i.updater=is,t.stateNode=i,i._reactInternals=t,cs(t,r,e,n),t=Cs(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Us(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Il(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===_)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(js(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,$o(e,t),Uo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=As(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=zs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Zo(t),null===e&&lo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Os(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Hs(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ti(Eo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!ji.current){t=zs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Lo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),jo(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),jo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ao(t,n),r=r(i=_o(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),Ss(e,t,r,i=ns(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Us(e,t),t.tag=1,Ii(r)?(e=!0,Mi(t)):e=!1,Ao(t,n),as(t,r,i),cs(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function Kl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function Ql(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=zl(a);s.call(e)}}Ul(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=zl(a);o.call(e)}}var a=Bl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),ul(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=zl(c);s.call(e)}}var c=ql(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[pi]=c.current,Br(8===e.nodeType?e.parentNode:e),ul((function(){Ul(t,c,n,r)})),c}(n,t,e,i,r);return zl(a)}Yl.prototype.render=Kl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Ul(e,t,null,null)},Yl.prototype.unmount=Kl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){Ul(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ht(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Je()),0===(6&Cc)&&(Bc=Je()+500,Bi()))}break;case 13:ul((function(){var t=No(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Wl(e,1)}},St=function(e){if(13===e.tag){var t=No(e,134217728);if(null!==t)nl(t,e,134217728,el());Wl(e,134217728)}},Et=function(e){if(13===e.tag){var t=tl(e),n=No(e,t);if(null!==n)nl(n,e,t,el());Wl(e,t)}},kt=function(){return bt},Ot=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));G(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=ll,je=ul;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Te,Pe,ll]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(o(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=ql(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Kl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(o(200));return Ql(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bl(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(o(200));return Ql(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(o(40));return!!e._reactRootContainer&&(ul((function(){Ql(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Ql(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===o?"."+C(c,0):o,x(a)?(i="",null!=e&&(i=e.replace(P,"$&/")+"/"),j(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=""===o?".":o+":",x(e))for(var l=0;l<e.length;l++){var u=o+C(s=e[l],l);c+=j(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=j(s=s.value,t,i,u=o+C(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function _(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},D={transition:null},R={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};function N(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)S.call(t,l)&&!k.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=N,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case l:case d:case g:case p:case c:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return v(e)===o}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>o(c,n))l<i&&0>o(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else{if(!(l<i&&0>o(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function x(e){if(m=!1,w(e),!g)if(null!==r(l))g=!0,D(S);else{var t=r(u);null!==t&&R(x,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,y(T),T=-1),p=!0;var o=f;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!j());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),w(n)}else i(l);h=r(l)}if(null!==h)var c=!0;else{var d=r(u);null!==d&&R(x,d.startTime-n),c=!1}return c}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,O=null,T=-1,P=5,C=-1;function j(){return!(t.unstable_now()-C<P)}function A(){if(null!==O){var e=t.unstable_now();C=e;var n=!0;try{n=O(!0,e)}finally{n?E():(k=!1,O=null)}}else k=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,I=_.port2;_.port1.onmessage=A,E=function(){I.postMessage(null)}}else E=function(){v(A,0)};function D(e){O=e,k||(k=!0,E())}function R(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(l)&&e===r(u)&&(m?(y(T),T=-1):m=!0,R(x,o-a))):(e.sortIndex=s,n(l,e),g||p||(g=!0,D(S))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".258b012d.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="client:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],c=r[2],l=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(c)c(n)}for(t&&t(r);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkclient=self.webpackChunkclient||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>Wc,scaleDiverging:()=>kp,scaleDivergingLog:()=>Op,scaleDivergingPow:()=>Pp,scaleDivergingSqrt:()=>Cp,scaleDivergingSymlog:()=>Tp,scaleIdentity:()=>vd,scaleImplicit:()=>zc,scaleLinear:()=>md,scaleLog:()=>Td,scaleOrdinal:()=>Vc,scalePoint:()=>Kc,scalePow:()=>Nd,scaleQuantile:()=>Gd,scaleQuantize:()=>Kd,scaleRadial:()=>$d,scaleSequential:()=>vp,scaleSequentialLog:()=>yp,scaleSequentialPow:()=>wp,scaleSequentialQuantile:()=>Sp,scaleSequentialSqrt:()=>xp,scaleSequentialSymlog:()=>bp,scaleSqrt:()=>Md,scaleSymlog:()=>Ad,scaleThreshold:()=>Yd,scaleTime:()=>fp,scaleUtc:()=>pp,tickFormat:()=>pd});var t,r=n(5043),i=n.t(r,2),o=n(4391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const s="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,f=o.history,p=t.Pop,g=null,m=v();function v(){return(f.state||{idx:null}).idx}function y(){p=t.Pop;let e=v(),n=null==e?null:e-m;m=e,g&&g({action:p,location:w.location,delta:n})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,f.replaceState(a({},f.state,{idx:m}),""));let w={get action(){return p},get location(){return e(o,f)},listen(e){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(s,y),g=e,()=>{o.removeEventListener(s,y),g=null}},createHref:e=>n(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let i=d(w.location,e,n);r&&r(i,e),m=v()+1;let a=u(i,m),s=w.createHref(i);try{f.pushState(a,"",s)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;o.location.assign(s)}l&&g&&g({action:p,location:w.location,delta:1})},replace:function(e,n){p=t.Replace;let i=d(w.location,e,n);r&&r(i,e),m=v();let o=u(i,m),a=w.createHref(i);f.replaceState(o,"",a),l&&g&&g({action:p,location:w.location,delta:0})},go:e=>f.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let i=_(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let o=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=A(i);a=C(o[s],e,r)}return a}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=M([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),y(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:P(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=b(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,x=3,S=2,E=1,k=10,O=-2,T=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=O),t&&(r+=S),n.filter((e=>!T(e))).reduce(((e,t)=>e+(w.test(t)?x:""===t?E:k)),r)}function C(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],c=s===r.length-1,l="/"===o?t:t.slice(o.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:c},l),d=e.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:M([o,u.pathname]),pathnameBase:H(M([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=M([o,u.pathnameBase]))}return a}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),c=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=s[n];return e[r]=i&&!c?void 0:(c||"").replace(/%2F/g,"/"),e}),{});return{params:c,pathname:o,pathnameBase:a,pattern:e}}function A(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function _(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t){let n=D(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function N(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=a({},e),c(!i.pathname||!i.pathname.includes("?"),I("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),I("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),I("#","search","hash",i)));let o,s=""===e||""===i.pathname,l=s?"/":i.pathname;if(null==l)o=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:$(r),hash:L(i)}}(i,o),d=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),H=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",L=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const F=["post","put","patch","delete"],B=(new Set(F),["get",...F]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}const z=r.createContext(null);const V=r.createContext(null);const W=r.createContext(null);const G=r.createContext(null);const K=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=r.createContext(null);function X(){return null!=r.useContext(G)}function J(){return X()||c(!1),r.useContext(G).location}function Z(e){r.useContext(W).static||r.useLayoutEffect(e)}function Q(){let{isDataRoute:e}=r.useContext(K);return e?function(){let{router:e}=ce(ae.UseNavigateStable),t=ue(se.UseNavigateStable),n=r.useRef(!1);return Z((()=>{n.current=!0})),r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,U({fromRouteId:t},i)))}),[e,t])}():function(){X()||c(!1);let e=r.useContext(z),{basename:t,future:n,navigator:i}=r.useContext(W),{matches:o}=r.useContext(K),{pathname:a}=J(),s=JSON.stringify(R(o,n.v7_relativeSplatPath)),l=r.useRef(!1);Z((()=>{l.current=!0}));let u=r.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let o=N(n,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:M([t,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[t,i,s,a,e]);return u}()}function ee(e,n,i,o){X()||c(!1);let{navigator:a}=r.useContext(W),{matches:s}=r.useContext(K),l=s[s.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=J();if(n){var g;let e="string"===typeof n?f(n):n;"/"===d||(null==(g=e.pathname)?void 0:g.startsWith(d))||c(!1),h=e}else h=p;let v=h.pathname||"/",y=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=m(e,{pathname:y});let w=oe(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,i,o);return n&&w?r.createElement(G.Provider,{value:{location:U({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},w):w}function te(){let e=function(){var e;let t=r.useContext(Y),n=le(se.UseRouteError),i=ue(se.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const ne=r.createElement(te,null);class re extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(K.Provider,{value:this.props.routeContext},r.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(z);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(K.Provider,{value:t},i)}function oe(e,t,n,i){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight(((e,i,o)=>{let a,c=!1,h=null,f=null;var p;n&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||ne,u&&(d<0&&0===o?(p="route-fallback",!1||de[p]||(de[p]=!0),c=!0,f=null):d===o&&(c=!0,f=i.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,o+1)),m=()=>{let t;return t=a?h:c?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(ie,{match:i,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement(re,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ae||{}),se=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(se||{});function ce(e){let t=r.useContext(z);return t||c(!1),t}function le(e){let t=r.useContext(V);return t||c(!1),t}function ue(e){let t=function(){let e=r.useContext(K);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const de={};const he={};const fe=(e,t,n)=>{var r;he[r="\u26a0\ufe0f React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+n+"."]||(he[r]=!0,console.warn(r))};function pe(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&fe("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&t.v7_relativeSplatPath||fe("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&fe("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&fe("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&fe("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&fe("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}i.startTransition;function ge(e){let{to:t,replace:n,state:i,relative:o}=e;X()||c(!1);let{future:a,static:s}=r.useContext(W),{matches:l}=r.useContext(K),{pathname:u}=J(),d=Q(),h=N(t,R(l,a.v7_relativeSplatPath),u,"path"===o),f=JSON.stringify(h);return r.useEffect((()=>d(JSON.parse(f),{replace:n,state:i,relative:o})),[d,f,o,n,i]),null}function me(e){c(!1)}function ve(e){let{basename:n="/",children:i=null,location:o,navigationType:a=t.Pop,navigator:s,static:l=!1,future:u}=e;X()&&c(!1);let d=n.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:d,navigator:s,static:l,future:U({v7_relativeSplatPath:!1},u)})),[d,u,s,l]);"string"===typeof o&&(o=f(o));let{pathname:p="/",search:g="",hash:m="",state:v=null,key:y="default"}=o,b=r.useMemo((()=>{let e=_(p,d);return null==e?null:{location:{pathname:e,search:g,hash:m,state:v,key:y},navigationType:a}}),[d,p,g,m,v,y,a]);return null==b?null:r.createElement(W.Provider,{value:h},r.createElement(G.Provider,{children:i,value:b}))}function ye(e){let{children:t,location:n}=e;return ee(be(t),n)}new Promise((()=>{}));r.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,be(e.props.children,o));e.type!==me&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=be(e.props.children,o)),n.push(a)})),n}var we=n(7950),xe=n.t(we,2);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(cE){}new Map;const Se=i.startTransition;xe.flushSync,i.useId;function Ee(e){let{basename:t,children:n,future:i,window:o}=e,a=r.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),p((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,s)));let c=a.current,[l,u]=r.useState({action:c.action,location:c.location}),{v7_startTransition:f}=i||{},g=r.useCallback((e=>{f&&Se?Se((()=>u(e))):u(e)}),[u,f]);return r.useLayoutEffect((()=>c.listen(g)),[c,g]),r.useEffect((()=>pe(i)),[i]),r.createElement(ve,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:c,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ke,Oe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ke||(ke={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));const Te="http://localhost:5000/api",Pe=()=>{const e=localStorage.getItem("token");return{"Content-Type":"application/json",Authorization:e?"Bearer ".concat(e):""}},Ce=async e=>{const t=await e.text();let n;try{n=t?JSON.parse(t):{}}catch(cE){console.error("Error parsing response:",t),n={message:t}}if(!e.ok)throw 401===e.status&&(localStorage.removeItem("token"),window.location.href="/"),console.error("API Error:",{status:e.status,data:n,url:e.url}),new Error(n.message||"Something went wrong");return n},je={login:e=>fetch("".concat(Te,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(Ce),logout:async()=>{try{const e=await fetch("".concat(Te,"/auth/logout"),{method:"POST",headers:Pe()});return await Ce(e),!0}catch(e){throw console.error("Logout API error:",e),e}},register:e=>fetch("".concat(Te,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(Ce),getUserProfile:()=>fetch("".concat(Te,"/user/profile"),{headers:Pe()}).then(Ce),updateProfile:e=>fetch("".concat(Te,"/user/profile"),{method:"PUT",headers:Pe(),body:JSON.stringify(e)}).then(Ce),changePassword:e=>fetch("".concat(Te,"/user/change-password"),{method:"POST",headers:Pe(),body:JSON.stringify(e)}).then(Ce),getBreaks:()=>fetch("".concat(Te,"/breaks"),{headers:Pe()}).then(Ce),getContacts:()=>fetch("".concat(Te,"/contacts"),{headers:Pe()}).then(Ce),getContactHistory:e=>fetch("".concat(Te,"/contacts/").concat(e,"/history"),{headers:Pe()}).then(Ce),endCall:e=>fetch("".concat(Te,"/contacts/").concat(e,"/end"),{method:"POST",headers:Pe()}).then(Ce),holdCall:(e,t)=>fetch("".concat(Te,"/contacts/").concat(e,"/hold"),{method:"POST",headers:Pe(),body:JSON.stringify({isHold:t})}).then(Ce),transferCall:(e,t)=>fetch("".concat(Te,"/contacts/").concat(e,"/transfer"),{method:"POST",headers:Pe(),body:JSON.stringify({targetAgent:t})}).then(Ce),toggleRecording:(e,t)=>fetch("".concat(Te,"/contacts/").concat(e,"/recording"),{method:"POST",headers:Pe(),body:JSON.stringify({isPaused:t})}).then(Ce),getPermissions:()=>fetch("".concat(Te,"/user/permissions"),{headers:Pe()}).then(Ce),getNotifications:()=>fetch("".concat(Te,"/notifications"),{headers:Pe()}).then(Ce),markNotificationRead:e=>fetch("".concat(Te,"/notifications/").concat(e,"/read"),{method:"POST",headers:Pe()}).then(Ce),getUserSettings:()=>fetch("".concat(Te,"/user/settings"),{headers:Pe()}).then(Ce),updateUserSettings:e=>fetch("".concat(Te,"/user/settings"),{method:"PUT",headers:Pe(),body:JSON.stringify(e)}).then(Ce),getDashboardStats:()=>fetch("".concat(Te,"/dashboard/stats"),{headers:Pe()}).then(Ce),getActiveAgents:()=>fetch("".concat(Te,"/dashboard/active-agents"),{headers:Pe()}).then(Ce),getSipConfig:()=>fetch("".concat(Te,"/sip/config"),{headers:Pe()}).then(Ce),lookupContact:e=>fetch("".concat(Te,"/contacts/lookup/").concat(e),{headers:Pe()}).then(Ce),addContact:e=>fetch("".concat(Te,"/contacts"),{method:"POST",headers:Pe(),body:JSON.stringify(e)}).then(Ce),updateContact:(e,t)=>fetch("".concat(Te,"/contacts/").concat(e),{method:"PUT",headers:Pe(),body:JSON.stringify(t)}).then(Ce),updateAgentStatus:e=>fetch("".concat(Te,"/agent/status"),{method:"POST",headers:Pe(),body:JSON.stringify(e)}).then(Ce),getUserStatus:()=>fetch("".concat(Te,"/user/status"),{headers:Pe()}).then(Ce),updateUserStatus:e=>fetch("".concat(Te,"/user/status"),{method:"PUT",headers:Pe(),body:JSON.stringify(e)}).then(Ce),testSipConfig:async()=>{try{const e=await fetch("".concat(Te,"/sip/config"),{headers:Pe()}),t=await e.text();console.log("Raw SIP config response:",t);try{return JSON.parse(t)}catch(cE){throw console.error("JSON parse error:",cE),new Error("Invalid JSON response")}}catch(e){throw console.error("SIP config fetch error:",e),e}}};function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function _e(e){var t=function(e,t){if("object"!=Ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ae(t)?t:t+""}function Ie(e,t,n){return(t=_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Ne{constructor(e){this.parameters={};for(const t in e)e.hasOwnProperty(t)&&this.setParam(t,e[t])}setParam(e,t){e&&(this.parameters[e.toLowerCase()]="undefined"===typeof t||null===t?null:t.toString())}getParam(e){if(e)return this.parameters[e.toLowerCase()]}hasParam(e){return!(!e||void 0===this.parameters[e.toLowerCase()])}deleteParam(e){if(e=e.toLowerCase(),this.hasParam(e)){const t=this.parameters[e];return delete this.parameters[e],t}}clearParams(){this.parameters={}}}class Me extends Ne{constructor(e,t,n){super(n),this.uri=e,this._displayName=t}get friendlyName(){return this.displayName||this.uri.aor}get displayName(){return this._displayName}set displayName(e){this._displayName=e}clone(){return new Me(this.uri.clone(),this._displayName,JSON.parse(JSON.stringify(this.parameters)))}toString(){let e=this.displayName||"0"===this.displayName?'"'+this.displayName+'" ':"";e+="<"+this.uri.toString()+">";for(const t in this.parameters)this.parameters.hasOwnProperty(t)&&(e+=";"+t,null!==this.parameters[t]&&(e+="="+this.parameters[t]));return e}}class He extends Ne{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sip",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>5?arguments[5]:void 0;if(super((arguments.length>4?arguments[4]:void 0)||{}),this.headers={},!n)throw new TypeError('missing or invalid "host" parameter');for(const o in i)i.hasOwnProperty(o)&&this.setHeader(o,i[o]);this.raw={scheme:e,user:t,host:n,port:r},this.normal={scheme:e.toLowerCase(),user:t,host:n.toLowerCase(),port:r}}get scheme(){return this.normal.scheme}set scheme(e){this.raw.scheme=e,this.normal.scheme=e.toLowerCase()}get user(){return this.normal.user}set user(e){this.normal.user=this.raw.user=e}get host(){return this.normal.host}set host(e){this.raw.host=e,this.normal.host=e.toLowerCase()}get aor(){return this.normal.user+"@"+this.normal.host}get port(){return this.normal.port}set port(e){this.normal.port=this.raw.port=e}setHeader(e,t){this.headers[this.headerize(e)]=t instanceof Array?t:[t]}getHeader(e){if(e)return this.headers[this.headerize(e)]}hasHeader(e){return!!e&&!!this.headers.hasOwnProperty(this.headerize(e))}deleteHeader(e){if(e=this.headerize(e),this.headers.hasOwnProperty(e)){const t=this.headers[e];return delete this.headers[e],t}}clearHeaders(){this.headers={}}clone(){return new He(this._raw.scheme,this._raw.user||"",this._raw.host,this._raw.port,JSON.parse(JSON.stringify(this.parameters)),JSON.parse(JSON.stringify(this.headers)))}toRaw(){return this._toString(this._raw)}toString(){return this._toString(this._normal)}get _normal(){return this.normal}get _raw(){return this.raw}_toString(e){let t=e.scheme+":";e.scheme.toLowerCase().match("^sips?$")||(t+="//"),e.user&&(t+=this.escapeUser(e.user)+"@"),t+=e.host,(e.port||0===e.port)&&(t+=":"+e.port);for(const r in this.parameters)this.parameters.hasOwnProperty(r)&&(t+=";"+r,null!==this.parameters[r]&&(t+="="+this.parameters[r]));const n=[];for(const r in this.headers)if(this.headers.hasOwnProperty(r))for(const e in this.headers[r])this.headers[r].hasOwnProperty(e)&&n.push(r+"="+this.headers[r][e]);return n.length>0&&(t+="?"+n.join("&")),t}escapeUser(e){let t;try{t=decodeURIComponent(e)}catch(n){throw n}return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}headerize(e){const t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},n=e.toLowerCase().replace(/_/g,"-").split("-"),r=n.length;let i="";for(let o=0;o<r;o++)0!==o&&(i+="-"),i+=n[o].charAt(0).toUpperCase()+n[o].substring(1);return t[i]&&(i=t[i]),i}}function $e(e,t){if(e.scheme!==t.scheme)return!1;if(e.user!==t.user||e.host!==t.host||e.port!==t.port)return!1;if(!function(e,t){const n=Object.keys(e.parameters),r=Object.keys(t.parameters);return!!n.filter((e=>r.includes(e))).every((n=>e.parameters[n]===t.parameters[n]))&&(!!["user","ttl","method","transport"].every((n=>e.hasParam(n)&&t.hasParam(n)||!e.hasParam(n)&&!t.hasParam(n)))&&!!["maddr"].every((n=>e.hasParam(n)&&t.hasParam(n)||!e.hasParam(n)&&!t.hasParam(n))))}(e,t))return!1;const n=Object.keys(e.headers),r=Object.keys(t.headers);if(0!==n.length||0!==r.length){if(n.length!==r.length)return!1;const i=n.filter((e=>r.includes(e)));if(i.length!==r.length)return!1;if(!i.every((n=>e.headers[n].length&&t.headers[n].length&&e.headers[n][0]===t.headers[n][0])))return!1}return!0}function Le(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}class qe extends Error{constructor(e,t,n,r){super(),this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError","function"===typeof Object.setPrototypeOf?Object.setPrototypeOf(this,qe.prototype):this.__proto__=qe.prototype,"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,qe)}static buildMessage(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(e=>"\\x0"+n(e))).replace(/[\x10-\x1F\x7F-\x9F]/g,(e=>"\\x"+n(e)))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(e=>"\\x0"+n(e))).replace(/[\x10-\x1F\x7F-\x9F]/g,(e=>"\\x"+n(e)))}function o(e){switch(e.type){case"literal":return'"'+r(e.text)+'"';case"class":const t=e.parts.map((e=>Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){const t=e.map(o);let n,r;if(t.sort(),t.length>0){for(n=1,r=1;n<t.length;n++)t[n-1]!==t[n]&&(t[r]=t[n],r++);t.length=r}switch(t.length){case 1:return t[0];case 2:return t[0]+" or "+t[1];default:return t.slice(0,-1).join(", ")+", or "+t[t.length-1]}}(e)+" but "+(((a=t)?'"'+r(a)+'"':"end of input")+" found.");var a}format(e){let t="Error: "+this.message;if(this.location){let n,r=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}let i=this.location.start,o=this.location.source+":"+i.line+":"+i.column;if(r){let e=this.location.end,n=Le("",i.line.toString().length," "),a=r[i.line-1],s=i.line===e.line?e.column:a.length+1;t+="\n --\x3e "+o+"\n"+n+" |\n"+i.line+" | "+a+"\n"+n+" | "+Le("",i.column-1," ")+Le("",s-i.column,"^")}else t+="\n at "+o}return t}}const Fe=function(e,t){const n={},r=(t=void 0!==t?t:{}).grammarSource,i={Contact:119,Name_Addr_Header:156,Record_Route:176,Request_Response:81,SIP_URI:45,Subscription_State:186,Supported:191,Require:182,Via:194,absoluteURI:84,Call_ID:118,Content_Disposition:130,Content_Length:135,Content_Type:136,CSeq:146,displayName:122,Event:149,From:151,host:52,Max_Forwards:154,Min_SE:213,Proxy_Authenticate:157,quoted_string:40,Refer_To:178,Replaces:179,Session_Expires:210,stun_URI:217,To:192,turn_URI:223,uuid:226,WWW_Authenticate:209,challenge:158,sipfrag:230,Referred_By:231};let o=119;const a=["\r\n",v("\r\n",!1),/^[0-9]/,y([["0","9"]],!1,!1),/^[a-zA-Z]/,y([["a","z"],["A","Z"]],!1,!1),/^[0-9a-fA-F]/,y([["0","9"],["a","f"],["A","F"]],!1,!1),/^[\0-\xFF]/,y([["\0","\xff"]],!1,!1),/^["]/,y(['"'],!1,!1)," ",v(" ",!1),"\t",v("\t",!1),/^[a-zA-Z0-9]/,y([["a","z"],["A","Z"],["0","9"]],!1,!1),";",v(";",!1),"/",v("/",!1),"?",v("?",!1),":",v(":",!1),"@",v("@",!1),"&",v("&",!1),"=",v("=",!1),"+",v("+",!1),"$",v("$",!1),",",v(",",!1),"-",v("-",!1),"_",v("_",!1),".",v(".",!1),"!",v("!",!1),"~",v("~",!1),"*",v("*",!1),"'",v("'",!1),"(",v("(",!1),")",v(")",!1),"%",v("%",!1),function(){return" "},function(){return":"},/^[!-~]/,y([["!","~"]],!1,!1),/^[\x80-\uFFFF]/,y([["\x80","\uffff"]],!1,!1),/^[\x80-\xBF]/,y([["\x80","\xbf"]],!1,!1),/^[a-f]/,y([["a","f"]],!1,!1),"`",v("`",!1),"<",v("<",!1),">",v(">",!1),"\\",v("\\",!1),"[",v("[",!1),"]",v("]",!1),"{",v("{",!1),"}",v("}",!1),function(){return"*"},function(){return"/"},function(){return"="},function(){return"("},function(){return")"},function(){return">"},function(){return"<"},function(){return","},function(){return";"},function(){return":"},function(){return'"'},/^[!-']/,y([["!","'"]],!1,!1),/^[*-[]/,y([["*","["]],!1,!1),/^[\]-~]/,y([["]","~"]],!1,!1),function(e){return e},/^[#-[]/,y([["#","["]],!1,!1),/^[\0-\t]/,y([["\0","\t"]],!1,!1),/^[\v-\f]/,y([["\v","\f"]],!1,!1),/^[\x0E-\x7F]/,y([["\x0e","\x7f"]],!1,!1),function(){(t=t||{data:{}}).data.uri=new He(t.data.scheme,t.data.user,t.data.host,t.data.port),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port},function(){(t=t||{data:{}}).data.uri=new He(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params,"SIP_URI"===t.startRule&&(t.data=t.data.uri)},"sips",v("sips",!0),"sip",v("sip",!0),function(e){(t=t||{data:{}}).data.scheme=e},function(){(t=t||{data:{}}).data.user=decodeURIComponent(g().slice(0,-1))},function(){(t=t||{data:{}}).data.password=g()},function(){return(t=t||{data:{}}).data.host=g(),t.data.host},function(){return(t=t||{data:{}}).data.host_type="domain",g()},/^[a-zA-Z0-9_\-]/,y([["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),/^[a-zA-Z0-9\-]/,y([["a","z"],["A","Z"],["0","9"],"-"],!1,!1),function(){return(t=t||{data:{}}).data.host_type="IPv6",g()},"::",v("::",!1),function(){return(t=t||{data:{}}).data.host_type="IPv6",g()},function(){return(t=t||{data:{}}).data.host_type="IPv4",g()},"25",v("25",!1),/^[0-5]/,y([["0","5"]],!1,!1),"2",v("2",!1),/^[0-4]/,y([["0","4"]],!1,!1),"1",v("1",!1),/^[1-9]/,y([["1","9"]],!1,!1),function(e){return t=t||{data:{}},e=parseInt(e.join("")),t.data.port=e,e},"transport=",v("transport=",!0),"udp",v("udp",!0),"tcp",v("tcp",!0),"sctp",v("sctp",!0),"tls",v("tls",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.transport=e.toLowerCase()},"user=",v("user=",!0),"phone",v("phone",!0),"ip",v("ip",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.user=e.toLowerCase()},"method=",v("method=",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.method=e},"ttl=",v("ttl=",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.ttl=e},"maddr=",v("maddr=",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.maddr=e},"lr",v("lr",!0),function(){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.lr=void 0},function(e,n){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),n=null===n?void 0:n[1],t.data.uri_params[e.toLowerCase()]=n},function(e,n){e=e.join("").toLowerCase(),n=n.join(""),(t=t||{data:{}}).data.uri_headers||(t.data.uri_headers={}),t.data.uri_headers[e]?t.data.uri_headers[e].push(n):t.data.uri_headers[e]=[n]},function(){"Refer_To"===(t=t||{data:{}}).startRule&&(t.data.uri=new He(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params)},"//",v("//",!1),function(){(t=t||{data:{}}).data.scheme=g()},v("SIP",!0),function(){(t=t||{data:{}}).data.sip_version=g()},"INVITE",v("INVITE",!1),"ACK",v("ACK",!1),"VXACH",v("VXACH",!1),"OPTIONS",v("OPTIONS",!1),"BYE",v("BYE",!1),"CANCEL",v("CANCEL",!1),"REGISTER",v("REGISTER",!1),"SUBSCRIBE",v("SUBSCRIBE",!1),"NOTIFY",v("NOTIFY",!1),"REFER",v("REFER",!1),"PUBLISH",v("PUBLISH",!1),function(){return(t=t||{data:{}}).data.method=g(),t.data.method},function(e){(t=t||{data:{}}).data.status_code=parseInt(e.join(""))},function(){(t=t||{data:{}}).data.reason_phrase=g()},function(){(t=t||{data:{}}).data=g()},function(){var e,n;for(n=(t=t||{data:{}}).data.multi_header.length,e=0;e<n;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}null!==t.data?t.data=t.data.multi_header:t.data=-1},function(){var e;(t=t||{data:{}}).data.multi_header||(t.data.multi_header=[]);try{e=new Me(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(cE){e=null}t.data.multi_header.push({position:c,offset:m().start.offset,parsed:e})},function(e){'"'===(e=g().trim())[0]&&(e=e.substring(1,e.length-1)),(t=t||{data:{}}).data.displayName=e},"q",v("q",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.q=e},"expires",v("expires",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.expires=e},function(e){return parseInt(e.join(""))},"0",v("0",!1),function(){return parseFloat(g())},function(e,n){(t=t||{data:{}}).data.params||(t.data.params={}),n=null===n?void 0:n[1],t.data.params[e.toLowerCase()]=n},"render",v("render",!0),"session",v("session",!0),"icon",v("icon",!0),"alert",v("alert",!0),function(){"Content_Disposition"===(t=t||{data:{}}).startRule&&(t.data.type=g().toLowerCase())},"handling",v("handling",!0),"optional",v("optional",!0),"required",v("required",!0),function(e){(t=t||{data:{}}).data=parseInt(e.join(""))},function(){(t=t||{data:{}}).data=g()},"text",v("text",!0),"image",v("image",!0),"audio",v("audio",!0),"video",v("video",!0),"application",v("application",!0),"message",v("message",!0),"multipart",v("multipart",!0),"x-",v("x-",!0),function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},function(e){(t=t||{data:{}}).data=e},function(e){(t=t||{data:{}}).data.event=e.toLowerCase()},function(){var e=(t=t||{data:{}}).data.tag;t.data=new Me(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"tag",v("tag",!0),function(e){(t=t||{data:{}}).data.tag=e},function(e){(t=t||{data:{}}).data=parseInt(e.join(""))},function(e){(t=t||{data:{}}).data=e},function(){(t=t||{data:{}}).data=new Me(t.data.uri,t.data.displayName,t.data.params)},"digest",v("Digest",!0),"realm",v("realm",!0),function(e){(t=t||{data:{}}).data.realm=e},"domain",v("domain",!0),"nonce",v("nonce",!0),function(e){(t=t||{data:{}}).data.nonce=e},"opaque",v("opaque",!0),function(e){(t=t||{data:{}}).data.opaque=e},"stale",v("stale",!0),"true",v("true",!0),function(){(t=t||{data:{}}).data.stale=!0},"false",v("false",!0),function(){(t=t||{data:{}}).data.stale=!1},"algorithm",v("algorithm",!0),"md5",v("MD5",!0),"md5-sess",v("MD5-sess",!0),function(e){(t=t||{data:{}}).data.algorithm=e.toUpperCase()},"qop",v("qop",!0),"auth-int",v("auth-int",!0),"auth",v("auth",!0),function(e){(t=t||{data:{}}).data.qop||(t.data.qop=[]),t.data.qop.push(e.toLowerCase())},function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},function(){var e,n;for(n=(t=t||{data:{}}).data.multi_header.length,e=0;e<n;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}null!==t.data?t.data=t.data.multi_header:t.data=-1},function(){var e;(t=t||{data:{}}).data.multi_header||(t.data.multi_header=[]);try{e=new Me(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(cE){e=null}t.data.multi_header.push({position:c,offset:m().start.offset,parsed:e})},function(){(t=t||{data:{}}).data=new Me(t.data.uri,t.data.displayName,t.data.params)},function(){(t=t||{data:{}}).data.replaces_from_tag&&t.data.replaces_to_tag||(t.data=-1)},function(){(t=t||{data:{}}).data={call_id:t.data}},"from-tag",v("from-tag",!0),function(e){(t=t||{data:{}}).data.replaces_from_tag=e},"to-tag",v("to-tag",!0),function(e){(t=t||{data:{}}).data.replaces_to_tag=e},"early-only",v("early-only",!0),function(){(t=t||{data:{}}).data.early_only=!0},function(e,t){return t},function(e,t){return function(e,t){return[e].concat(t)}(e,t)},function(e){"Require"===(t=t||{data:{}}).startRule&&(t.data=e||[])},function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},"active",v("active",!0),"pending",v("pending",!0),"terminated",v("terminated",!0),function(){(t=t||{data:{}}).data.state=g()},"reason",v("reason",!0),function(e){t=t||{data:{}},"undefined"!==typeof e&&(t.data.reason=e)},function(e){t=t||{data:{}},"undefined"!==typeof e&&(t.data.expires=e)},"retry_after",v("retry_after",!0),function(e){t=t||{data:{}},"undefined"!==typeof e&&(t.data.retry_after=e)},"deactivated",v("deactivated",!0),"probation",v("probation",!0),"rejected",v("rejected",!0),"timeout",v("timeout",!0),"giveup",v("giveup",!0),"noresource",v("noresource",!0),"invariant",v("invariant",!0),function(e){"Supported"===(t=t||{data:{}}).startRule&&(t.data=e||[])},function(){var e=(t=t||{data:{}}).data.tag;t.data=new Me(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"ttl",v("ttl",!0),function(e){(t=t||{data:{}}).data.ttl=e},"maddr",v("maddr",!0),function(e){(t=t||{data:{}}).data.maddr=e},"received",v("received",!0),function(e){(t=t||{data:{}}).data.received=e},"branch",v("branch",!0),function(e){(t=t||{data:{}}).data.branch=e},"rport",v("rport",!0),function(e){t=t||{data:{}},"undefined"!==typeof e&&(t.data.rport=e.join(""))},function(e){(t=t||{data:{}}).data.protocol=e},v("UDP",!0),v("TCP",!0),v("TLS",!0),v("SCTP",!0),function(e){(t=t||{data:{}}).data.transport=e},function(){(t=t||{data:{}}).data.host=g()},function(e){(t=t||{data:{}}).data.port=parseInt(e.join(""))},function(e){return parseInt(e.join(""))},function(e){"Session_Expires"===(t=t||{data:{}}).startRule&&(t.data.deltaSeconds=e)},"refresher",v("refresher",!1),"uas",v("uas",!1),"uac",v("uac",!1),function(e){"Session_Expires"===(t=t||{data:{}}).startRule&&(t.data.refresher=e)},function(e){"Min_SE"===(t=t||{data:{}}).startRule&&(t.data=e)},"stuns",v("stuns",!0),"stun",v("stun",!0),function(e){(t=t||{data:{}}).data.scheme=e},function(e){(t=t||{data:{}}).data.host=e},"?transport=",v("?transport=",!1),"turns",v("turns",!0),"turn",v("turn",!0),function(e){(t=t||{data:{}}).data.transport=e},function(){(t=t||{data:{}}).data=g()},"Referred-By",v("Referred-By",!1),"b",v("b",!1),"cid",v("cid",!1)],s=[E('2 ""6 7!'),E('4"""5!7#'),E('4$""5!7%'),E('4&""5!7\''),E(";'.# &;("),E('4(""5!7)'),E('4*""5!7+'),E('2,""6,7-'),E('2.""6.7/'),E('40""5!71'),E('22""6273.\x89 &24""6475.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),E(";).# &;,"),E('2F""6F7G.} &2H""6H7I.q &2J""6J7K.e &2L""6L7M.Y &2N""6N7O.M &2P""6P7Q.A &2R""6R7S.5 &2T""6T7U.) &2V""6V7W'),E('%%2X""6X7Y/5#;#/,$;#/#$+#)(#\'#("\'#&\'#/"!&,)'),E('%%$;$0#*;$&/,#; /#$+")("\'#&\'#." &"/=#$;$/&#0#*;$&&&#/\'$8":Z" )("\'#&\'#'),E(';.." &"'),E("%$;'.# &;(0)*;'.# &;(&/?#28\"\"6879/0$;//'$8#:[# )(#'#(\"'#&'#"),E('%%$;2/&#0#*;2&&&#/g#$%$;.0#*;.&/,#;2/#$+")("\'#&\'#0=*%$;.0#*;.&/,#;2/#$+")("\'#&\'#&/#$+")("\'#&\'#/"!&,)'),E('4\\""5!7].# &;3'),E('4^""5!7_'),E('4`""5!7a'),E(';!.) &4b""5!7c'),E('%$;).\x95 &2F""6F7G.\x89 &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/\x9e#0\x9b*;).\x95 &2F""6F7G.\x89 &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),E('%$;).\x89 &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/\x92#0\x8f*;).\x89 &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),E('2T""6T7U.\xe3 &2V""6V7W.\xd7 &2f""6f7g.\xcb &2h""6h7i.\xbf &2:""6:7;.\xb3 &2D""6D7E.\xa7 &22""6273.\x9b &28""6879.\x8f &2j""6j7k.\x83 &;&.} &24""6475.q &2l""6l7m.e &2n""6n7o.Y &26""6677.M &2>""6>7?.A &2p""6p7q.5 &2r""6r7s.) &;\'.# &;('),E('%$;).\u012b &2F""6F7G.\u011f &2J""6J7K.\u0113 &2L""6L7M.\u0107 &2X""6X7Y.\xfb &2P""6P7Q.\xef &2H""6H7I.\xe3 &2@""6@7A.\xd7 &2d""6d7e.\xcb &2R""6R7S.\xbf &2N""6N7O.\xb3 &2T""6T7U.\xa7 &2V""6V7W.\x9b &2f""6f7g.\x8f &2h""6h7i.\x83 &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s/\u0134#0\u0131*;).\u012b &2F""6F7G.\u011f &2J""6J7K.\u0113 &2L""6L7M.\u0107 &2X""6X7Y.\xfb &2P""6P7Q.\xef &2H""6H7I.\xe3 &2@""6@7A.\xd7 &2d""6d7e.\xcb &2R""6R7S.\xbf &2N""6N7O.\xb3 &2T""6T7U.\xa7 &2V""6V7W.\x9b &2f""6f7g.\x8f &2h""6h7i.\x83 &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s&&&#/"!&,)'),E("%;//?#2P\"\"6P7Q/0$;//'$8#:t# )(#'#(\"'#&'#"),E("%;//?#24\"\"6475/0$;//'$8#:u# )(#'#(\"'#&'#"),E("%;//?#2>\"\"6>7?/0$;//'$8#:v# )(#'#(\"'#&'#"),E("%;//?#2T\"\"6T7U/0$;//'$8#:w# )(#'#(\"'#&'#"),E("%;//?#2V\"\"6V7W/0$;//'$8#:x# )(#'#(\"'#&'#"),E('%2h""6h7i/0#;//\'$8":y" )("\'#&\'#'),E('%;//6#2f""6f7g/\'$8":z" )("\'#&\'#'),E("%;//?#2D\"\"6D7E/0$;//'$8#:{# )(#'#(\"'#&'#"),E("%;//?#22\"\"6273/0$;//'$8#:|# )(#'#(\"'#&'#"),E("%;//?#28\"\"6879/0$;//'$8#:}# )(#'#(\"'#&'#"),E("%;//0#;&/'$8\":~\" )(\"'#&'#"),E("%;&/0#;//'$8\":~\" )(\"'#&'#"),E("%;=/T#$;G.) &;K.# &;F0/*;G.) &;K.# &;F&/,$;>/#$+#)(#'#(\"'#&'#"),E('4\x7f""5!7\x80.A &4\x81""5!7\x82.5 &4\x83""5!7\x84.) &;3.# &;.'),E("%%;//Q#;&/H$$;J.# &;K0)*;J.# &;K&/,$;&/#$+$)($'#(#'#(\"'#&'#/\"!&,)"),E("%;//]#;&/T$%$;J.# &;K0)*;J.# &;K&/\"!&,)/1$;&/($8$:\x85$!!)($'#(#'#(\"'#&'#"),E(';..G &2L""6L7M.; &4\x86""5!7\x87./ &4\x83""5!7\x84.# &;3'),E('%2j""6j7k/J#4\x88""5!7\x89.5 &4\x8a""5!7\x8b.) &4\x8c""5!7\x8d/#$+")("\'#&\'#'),E("%;N/M#28\"\"6879/>$;O.\" &\"/0$;S/'$8$:\x8e$ )($'#(#'#(\"'#&'#"),E("%;N/d#28\"\"6879/U$;O.\" &\"/G$;S/>$;_/5$;l.\" &\"/'$8&:\x8f& )(&'#(%'#($'#(#'#(\"'#&'#"),E('%3\x90""5$7\x91.) &3\x92""5#7\x93/\' 8!:\x94!! )'),E('%;P/]#%28""6879/,#;R/#$+")("\'#&\'#." &"/6$2:""6:7;/\'$8#:\x95# )(#\'#("\'#&\'#'),E("$;+.) &;-.# &;Q/2#0/*;+.) &;-.# &;Q&&&#"),E('2<""6<7=.q &2>""6>7?.e &2@""6@7A.Y &2B""6B7C.M &2D""6D7E.A &22""6273.5 &26""6677.) &24""6475'),E('%$;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E0e*;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E&/& 8!:\x96! )'),E('%;T/J#%28""6879/,#;^/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),E("%;U.) &;\\.# &;X/& 8!:\x97! )"),E('%$%;V/2#2J""6J7K/#$+")("\'#&\'#0<*%;V/2#2J""6J7K/#$+")("\'#&\'#&/D#;W/;$2J""6J7K." &"/\'$8#:\x98# )(#\'#("\'#&\'#'),E('$4\x99""5!7\x9a/,#0)*4\x99""5!7\x9a&&&#'),E('%4$""5!7%/?#$4\x9b""5!7\x9c0)*4\x9b""5!7\x9c&/#$+")("\'#&\'#'),E('%2l""6l7m/?#;Y/6$2n""6n7o/\'$8#:\x9d# )(#\'#("\'#&\'#'),E('%%;Z/\xb3#28""6879/\xa4$;Z/\x9b$28""6879/\x8c$;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+-)(-\'#(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0790 &%2\x9e""6\x9e7\x9f/\xa4#;Z/\x9b$28""6879/\x8c$;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+,)(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u06f9 &%2\x9e""6\x9e7\x9f/\x8c#;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u067a &%2\x9e""6\x9e7\x9f/t#;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0613 &%2\x9e""6\x9e7\x9f/\\#;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+&)(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u05c4 &%2\x9e""6\x9e7\x9f/D#;Z/;$28""6879/,$;[/#$+$)($\'#(#\'#("\'#&\'#.\u058d &%2\x9e""6\x9e7\x9f/,#;[/#$+")("\'#&\'#.\u056e &%2\x9e""6\x9e7\x9f/,#;Z/#$+")("\'#&\'#.\u054f &%;Z/\x9b#2\x9e""6\x9e7\x9f/\x8c$;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$++)(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u04c7 &%;Z/\xaa#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x83$2\x9e""6\x9e7\x9f/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0430 &%;Z/\xb9#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x92$%28""6879/,#;Z/#$+")("\'#&\'#." &"/k$2\x9e""6\x9e7\x9f/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+))()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u038a &%;Z/\xc8#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xa1$%28""6879/,#;Z/#$+")("\'#&\'#." &"/z$%28""6879/,#;Z/#$+")("\'#&\'#." &"/S$2\x9e""6\x9e7\x9f/D$;Z/;$28""6879/,$;[/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u02d5 &%;Z/\xd7#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xb0$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x89$%28""6879/,#;Z/#$+")("\'#&\'#." &"/b$%28""6879/,#;Z/#$+")("\'#&\'#." &"/;$2\x9e""6\x9e7\x9f/,$;[/#$+\')(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0211 &%;Z/\xfe#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xd7$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xb0$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x89$%28""6879/,#;Z/#$+")("\'#&\'#." &"/b$%28""6879/,#;Z/#$+")("\'#&\'#." &"/;$2\x9e""6\x9e7\x9f/,$;Z/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0126 &%;Z/\u011c#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xf5$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xce$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xa7$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x80$%28""6879/,#;Z/#$+")("\'#&\'#." &"/Y$%28""6879/,#;Z/#$+")("\'#&\'#." &"/2$2\x9e""6\x9e7\x9f/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#/& 8!:\xa0! )'),E('%;#/M#;#." &"/?$;#." &"/1$;#." &"/#$+$)($\'#(#\'#("\'#&\'#'),E("%;Z/;#28\"\"6879/,$;Z/#$+#)(#'#(\"'#&'#.# &;\\"),E("%;]/o#2J\"\"6J7K/`$;]/W$2J\"\"6J7K/H$;]/?$2J\"\"6J7K/0$;]/'$8':\xa1' )(''#(&'#(%'#($'#(#'#(\"'#&'#"),E('%2\xa2""6\xa27\xa3/2#4\xa4""5!7\xa5/#$+")("\'#&\'#.\x98 &%2\xa6""6\xa67\xa7/;#4\xa8""5!7\xa9/,$;!/#$+#)(#\'#("\'#&\'#.j &%2\xaa""6\xaa7\xab/5#;!/,$;!/#$+#)(#\'#("\'#&\'#.B &%4\xac""5!7\xad/,#;!/#$+")("\'#&\'#.# &;!'),E('%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#/\' 8!:\xae!! )'),E('$%22""6273/,#;`/#$+")("\'#&\'#0<*%22""6273/,#;`/#$+")("\'#&\'#&'),E(";a.A &;b.; &;c.5 &;d./ &;e.) &;f.# &;g"),E('%3\xaf""5*7\xb0/a#3\xb1""5#7\xb2.G &3\xb3""5#7\xb4.; &3\xb5""5$7\xb6./ &3\xb7""5#7\xb8.# &;6/($8":\xb9"! )("\'#&\'#'),E('%3\xba""5%7\xbb/I#3\xbc""5%7\xbd./ &3\xbe""5"7\xbf.# &;6/($8":\xc0"! )("\'#&\'#'),E('%3\xc1""5\'7\xc2/1#;\x90/($8":\xc3"! )("\'#&\'#'),E('%3\xc4""5$7\xc5/1#;\xf0/($8":\xc6"! )("\'#&\'#'),E('%3\xc7""5&7\xc8/1#;T/($8":\xc9"! )("\'#&\'#'),E('%3\xca""5"7\xcb/N#%2>""6>7?/,#;6/#$+")("\'#&\'#." &"/\'$8":\xcc" )("\'#&\'#'),E('%;h/P#%2>""6>7?/,#;i/#$+")("\'#&\'#." &"/)$8":\xcd""! )("\'#&\'#'),E('%$;j/&#0#*;j&&&#/"!&,)'),E('%$;j/&#0#*;j&&&#/"!&,)'),E(";k.) &;+.# &;-"),E('2l""6l7m.e &2n""6n7o.Y &24""6475.M &28""6879.A &2<""6<7=.5 &2@""6@7A.) &2B""6B7C'),E('%26""6677/n#;m/e$$%2<""6<7=/,#;m/#$+")("\'#&\'#0<*%2<""6<7=/,#;m/#$+")("\'#&\'#&/#$+#)(#\'#("\'#&\'#'),E('%;n/A#2>""6>7?/2$;o/)$8#:\xce#"" )(#\'#("\'#&\'#'),E("$;p.) &;+.# &;-/2#0/*;p.) &;+.# &;-&&&#"),E("$;p.) &;+.# &;-0/*;p.) &;+.# &;-&"),E('2l""6l7m.e &2n""6n7o.Y &24""6475.M &26""6677.A &28""6879.5 &2@""6@7A.) &2B""6B7C'),E(";\x91.# &;r"),E("%;\x90/G#;'/>$;s/5$;'/,$;\x84/#$+%)(%'#($'#(#'#(\"'#&'#"),E(";M.# &;t"),E("%;\x7f/E#28\"\"6879/6$;u.# &;x/'$8#:\xcf# )(#'#(\"'#&'#"),E('%;v.# &;w/J#%26""6677/,#;\x83/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),E('%2\xd0""6\xd07\xd1/:#;\x80/1$;w." &"/#$+#)(#\'#("\'#&\'#'),E('%24""6475/,#;{/#$+")("\'#&\'#'),E("%;z/3#$;y0#*;y&/#$+\")(\"'#&'#"),E(";*.) &;+.# &;-"),E(';+.\x8f &;-.\x89 &22""6273.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),E('%;|/e#$%24""6475/,#;|/#$+")("\'#&\'#0<*%24""6475/,#;|/#$+")("\'#&\'#&/#$+")("\'#&\'#'),E('%$;~0#*;~&/e#$%22""6273/,#;}/#$+")("\'#&\'#0<*%22""6273/,#;}/#$+")("\'#&\'#&/#$+")("\'#&\'#'),E("$;~0#*;~&"),E(';+.w &;-.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),E('%%;"/\x87#$;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K0M*;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K&/#$+")("\'#&\'#/& 8!:\xd2! )'),E(";\x81.# &;\x82"),E('%%;O/2#2:""6:7;/#$+")("\'#&\'#." &"/,#;S/#$+")("\'#&\'#." &"'),E('$;+.\x83 &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A/\x8c#0\x89*;+.\x83 &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A&&&#'),E("$;y0#*;y&"),E('%3\x92""5#7\xd3/q#24""6475/b$$;!/&#0#*;!&&&#/L$2J""6J7K/=$$;!/&#0#*;!&&&#/\'$8%:\xd4% )(%\'#($\'#(#\'#("\'#&\'#'),E('2\xd5""6\xd57\xd6'),E('2\xd7""6\xd77\xd8'),E('2\xd9""6\xd97\xda'),E('2\xdb""6\xdb7\xdc'),E('2\xdd""6\xdd7\xde'),E('2\xdf""6\xdf7\xe0'),E('2\xe1""6\xe17\xe2'),E('2\xe3""6\xe37\xe4'),E('2\xe5""6\xe57\xe6'),E('2\xe7""6\xe77\xe8'),E('2\xe9""6\xe97\xea'),E("%;\x85.Y &;\x86.S &;\x88.M &;\x89.G &;\x8a.A &;\x8b.; &;\x8c.5 &;\x8f./ &;\x8d.) &;\x8e.# &;6/& 8!:\xeb! )"),E("%;\x84/G#;'/>$;\x92/5$;'/,$;\x94/#$+%)(%'#($'#(#'#(\"'#&'#"),E("%;\x93/' 8!:\xec!! )"),E("%;!/5#;!/,$;!/#$+#)(#'#(\"'#&'#"),E("%$;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(0G*;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(&/& 8!:\xed! )"),E("%;\xb6/Y#$%;A/,#;\xb6/#$+\")(\"'#&'#06*%;A/,#;\xb6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E('%;9/N#%2:""6:7;/,#;9/#$+")("\'#&\'#." &"/\'$8":\xee" )("\'#&\'#'),E("%;:.c &%;\x98/Y#$%;A/,#;\x98/#$+\")(\"'#&'#06*%;A/,#;\x98/#$+\")(\"'#&'#&/#$+\")(\"'#&'#/& 8!:\xef! )"),E("%;L.# &;\x99/]#$%;B/,#;\x9b/#$+\")(\"'#&'#06*%;B/,#;\x9b/#$+\")(\"'#&'#&/'$8\":\xf0\" )(\"'#&'#"),E("%;\x9a.\" &\"/>#;@/5$;M/,$;?/#$+$)($'#(#'#(\"'#&'#"),E("%%;6/Y#$%;./,#;6/#$+\")(\"'#&'#06*%;./,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#.# &;H/' 8!:\xf1!! )"),E(";\x9c.) &;\x9d.# &;\xa0"),E("%3\xf2\"\"5!7\xf3/:#;</1$;\x9f/($8#:\xf4#! )(#'#(\"'#&'#"),E("%3\xf5\"\"5'7\xf6/:#;</1$;\x9e/($8#:\xf7#! )(#'#(\"'#&'#"),E("%$;!/&#0#*;!&&&#/' 8!:\xf8!! )"),E('%2\xf9""6\xf97\xfa/o#%2J""6J7K/M#;!." &"/?$;!." &"/1$;!." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/\'$8":\xfb" )("\'#&\'#'),E('%;6/J#%;</,#;\xa1/#$+")("\'#&\'#." &"/)$8":\xfc""! )("\'#&\'#'),E(";6.) &;T.# &;H"),E("%;\xa3/Y#$%;B/,#;\xa4/#$+\")(\"'#&'#06*%;B/,#;\xa4/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E('%3\xfd""5&7\xfe.G &3\xff""5\'7\u0100.; &3\u0101""5$7\u0102./ &3\u0103""5%7\u0104.# &;6/& 8!:\u0105! )'),E(";\xa5.# &;\xa0"),E('%3\u0106""5(7\u0107/M#;</D$3\u0108""5(7\u0109./ &3\u010a""5(7\u010b.# &;6/#$+#)(#\'#("\'#&\'#'),E("%;6/Y#$%;A/,#;6/#$+\")(\"'#&'#06*%;A/,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E("%$;!/&#0#*;!&&&#/' 8!:\u010c!! )"),E("%;\xa9/& 8!:\u010d! )"),E("%;\xaa/k#;;/b$;\xaf/Y$$%;B/,#;\xb0/#$+\")(\"'#&'#06*%;B/,#;\xb0/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),E(";\xab.# &;\xac"),E('3\u010e""5$7\u010f.S &3\u0110""5%7\u0111.G &3\u0112""5%7\u0113.; &3\u0114""5%7\u0115./ &3\u0116""5+7\u0117.# &;\xad'),E('3\u0118""5\'7\u0119./ &3\u011a""5)7\u011b.# &;\xad'),E(";6.# &;\xae"),E('%3\u011c""5"7\u011d/,#;6/#$+")("\'#&\'#'),E(";\xad.# &;6"),E("%;6/5#;</,$;\xb1/#$+#)(#'#(\"'#&'#"),E(";6.# &;H"),E("%;\xb3/5#;./,$;\x90/#$+#)(#'#(\"'#&'#"),E("%$;!/&#0#*;!&&&#/' 8!:\u011e!! )"),E("%;\x9e/' 8!:\u011f!! )"),E('%;\xb6/^#$%;B/,#;\xa0/#$+")("\'#&\'#06*%;B/,#;\xa0/#$+")("\'#&\'#&/($8":\u0120"!!)("\'#&\'#'),E('%%;7/e#$%2J""6J7K/,#;7/#$+")("\'#&\'#0<*%2J""6J7K/,#;7/#$+")("\'#&\'#&/#$+")("\'#&\'#/"!&,)'),E("%;L.# &;\x99/]#$%;B/,#;\xb8/#$+\")(\"'#&'#06*%;B/,#;\xb8/#$+\")(\"'#&'#&/'$8\":\u0121\" )(\"'#&'#"),E(";\xb9.# &;\xa0"),E("%3\u0122\"\"5#7\u0123/:#;</1$;6/($8#:\u0124#! )(#'#(\"'#&'#"),E("%$;!/&#0#*;!&&&#/' 8!:\u0125!! )"),E("%;\x9e/' 8!:\u0126!! )"),E("%$;\x9a0#*;\x9a&/x#;@/o$;M/f$;?/]$$%;B/,#;\xa0/#$+\")(\"'#&'#06*%;B/,#;\xa0/#$+\")(\"'#&'#&/'$8%:\u0127% )(%'#($'#(#'#(\"'#&'#"),E(";\xbe"),E("%3\u0128\"\"5&7\u0129/k#;./b$;\xc1/Y$$%;A/,#;\xc1/#$+\")(\"'#&'#06*%;A/,#;\xc1/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#.# &;\xbf"),E("%;6/k#;./b$;\xc0/Y$$%;A/,#;\xc0/#$+\")(\"'#&'#06*%;A/,#;\xc0/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),E("%;6/;#;</2$;6.# &;H/#$+#)(#'#(\"'#&'#"),E(";\xc2.G &;\xc4.A &;\xc6.; &;\xc8.5 &;\xc9./ &;\xca.) &;\xcb.# &;\xc0"),E("%3\u012a\"\"5%7\u012b/5#;</,$;\xc3/#$+#)(#'#(\"'#&'#"),E("%;I/' 8!:\u012c!! )"),E("%3\u012d\"\"5&7\u012e/\x97#;</\x8e$;D/\x85$;\xc5/|$$%$;'/&#0#*;'&&&#/,#;\xc5/#$+\")(\"'#&'#0C*%$;'/&#0#*;'&&&#/,#;\xc5/#$+\")(\"'#&'#&/,$;E/#$+&)(&'#(%'#($'#(#'#(\"'#&'#"),E(";t.# &;w"),E("%3\u012f\"\"5%7\u0130/5#;</,$;\xc7/#$+#)(#'#(\"'#&'#"),E("%;I/' 8!:\u0131!! )"),E("%3\u0132\"\"5&7\u0133/:#;</1$;I/($8#:\u0134#! )(#'#(\"'#&'#"),E('%3\u0135""5%7\u0136/]#;</T$%3\u0137""5$7\u0138/& 8!:\u0139! ).4 &%3\u013a""5%7\u013b/& 8!:\u013c! )/#$+#)(#\'#("\'#&\'#'),E('%3\u013d""5)7\u013e/R#;</I$3\u013f""5#7\u0140./ &3\u0141""5(7\u0142.# &;6/($8#:\u0143#! )(#\'#("\'#&\'#'),E('%3\u0144""5#7\u0145/\x93#;</\x8a$;D/\x81$%;\xcc/e#$%2D""6D7E/,#;\xcc/#$+")("\'#&\'#0<*%2D""6D7E/,#;\xcc/#$+")("\'#&\'#&/#$+")("\'#&\'#/,$;E/#$+%)(%\'#($\'#(#\'#("\'#&\'#'),E('%3\u0146""5(7\u0147./ &3\u0148""5$7\u0149.# &;6/\' 8!:\u014a!! )'),E("%;6/Y#$%;A/,#;6/#$+\")(\"'#&'#06*%;A/,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E("%;\xcf/G#;./>$;\xcf/5$;./,$;\x90/#$+%)(%'#($'#(#'#(\"'#&'#"),E("%$;!/&#0#*;!&&&#/' 8!:\u014b!! )"),E("%;\xd1/]#$%;A/,#;\xd1/#$+\")(\"'#&'#06*%;A/,#;\xd1/#$+\")(\"'#&'#&/'$8\":\u014c\" )(\"'#&'#"),E("%;\x99/]#$%;B/,#;\xa0/#$+\")(\"'#&'#06*%;B/,#;\xa0/#$+\")(\"'#&'#&/'$8\":\u014d\" )(\"'#&'#"),E('%;L.O &;\x99.I &%;@." &"/:#;t/1$;?." &"/#$+#)(#\'#("\'#&\'#/]#$%;B/,#;\xa0/#$+")("\'#&\'#06*%;B/,#;\xa0/#$+")("\'#&\'#&/\'$8":\u014e" )("\'#&\'#'),E("%;\xd4/]#$%;B/,#;\xd5/#$+\")(\"'#&'#06*%;B/,#;\xd5/#$+\")(\"'#&'#&/'$8\":\u014f\" )(\"'#&'#"),E("%;\x96/& 8!:\u0150! )"),E('%3\u0151""5(7\u0152/:#;</1$;6/($8#:\u0153#! )(#\'#("\'#&\'#.g &%3\u0154""5&7\u0155/:#;</1$;6/($8#:\u0156#! )(#\'#("\'#&\'#.: &%3\u0157""5*7\u0158/& 8!:\u0159! ).# &;\xa0'),E('%%;6/k#$%;A/2#;6/)$8":\u015a""$ )("\'#&\'#0<*%;A/2#;6/)$8":\u015a""$ )("\'#&\'#&/)$8":\u015b""! )("\'#&\'#." &"/\' 8!:\u015c!! )'),E("%;\xd8/Y#$%;A/,#;\xd8/#$+\")(\"'#&'#06*%;A/,#;\xd8/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E("%;\x99/Y#$%;B/,#;\xa0/#$+\")(\"'#&'#06*%;B/,#;\xa0/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E("%$;!/&#0#*;!&&&#/' 8!:\u015d!! )"),E("%;\xdb/Y#$%;B/,#;\xdc/#$+\")(\"'#&'#06*%;B/,#;\xdc/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E('%3\u015e""5&7\u015f.; &3\u0160""5\'7\u0161./ &3\u0162""5*7\u0163.# &;6/& 8!:\u0164! )'),E("%3\u0165\"\"5&7\u0166/:#;</1$;\xdd/($8#:\u0167#! )(#'#(\"'#&'#.} &%3\xf5\"\"5'7\xf6/:#;</1$;\x9e/($8#:\u0168#! )(#'#(\"'#&'#.P &%3\u0169\"\"5+7\u016a/:#;</1$;\x9e/($8#:\u016b#! )(#'#(\"'#&'#.# &;\xa0"),E('3\u016c""5+7\u016d.k &3\u016e""5)7\u016f._ &3\u0170""5(7\u0171.S &3\u0172""5\'7\u0173.G &3\u0174""5&7\u0175.; &3\u0176""5*7\u0177./ &3\u0178""5)7\u0179.# &;6'),E(';1." &"'),E('%%;6/k#$%;A/2#;6/)$8":\u015a""$ )("\'#&\'#0<*%;A/2#;6/)$8":\u015a""$ )("\'#&\'#&/)$8":\u015b""! )("\'#&\'#." &"/\' 8!:\u017a!! )'),E("%;L.# &;\x99/]#$%;B/,#;\xe1/#$+\")(\"'#&'#06*%;B/,#;\xe1/#$+\")(\"'#&'#&/'$8\":\u017b\" )(\"'#&'#"),E(";\xb9.# &;\xa0"),E("%;\xe3/Y#$%;A/,#;\xe3/#$+\")(\"'#&'#06*%;A/,#;\xe3/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E("%;\xea/k#;./b$;\xed/Y$$%;B/,#;\xe4/#$+\")(\"'#&'#06*%;B/,#;\xe4/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),E(";\xe5.; &;\xe6.5 &;\xe7./ &;\xe8.) &;\xe9.# &;\xa0"),E("%3\u017c\"\"5#7\u017d/:#;</1$;\xf0/($8#:\u017e#! )(#'#(\"'#&'#"),E("%3\u017f\"\"5%7\u0180/:#;</1$;T/($8#:\u0181#! )(#'#(\"'#&'#"),E("%3\u0182\"\"5(7\u0183/F#;</=$;\\.) &;Y.# &;X/($8#:\u0184#! )(#'#(\"'#&'#"),E("%3\u0185\"\"5&7\u0186/:#;</1$;6/($8#:\u0187#! )(#'#(\"'#&'#"),E("%3\u0188\"\"5%7\u0189/A#;</8$$;!0#*;!&/($8#:\u018a#! )(#'#(\"'#&'#"),E("%;\xeb/G#;;/>$;6/5$;;/,$;\xec/#$+%)(%'#($'#(#'#(\"'#&'#"),E('%3\x92""5#7\xd3.# &;6/\' 8!:\u018b!! )'),E('%3\xb1""5#7\u018c.G &3\xb3""5#7\u018d.; &3\xb7""5#7\u018e./ &3\xb5""5$7\u018f.# &;6/\' 8!:\u0190!! )'),E('%;\xee/D#%;C/,#;\xef/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),E("%;U.) &;\\.# &;X/& 8!:\u0191! )"),E('%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#/\' 8!:\u0192!! )'),E('%%;!/?#;!." &"/1$;!." &"/#$+#)(#\'#("\'#&\'#/\' 8!:\u0193!! )'),E(";\xbe"),E('%;\x9e/^#$%;B/,#;\xf3/#$+")("\'#&\'#06*%;B/,#;\xf3/#$+")("\'#&\'#&/($8":\u0194"!!)("\'#&\'#'),E(";\xf4.# &;\xa0"),E('%2\u0195""6\u01957\u0196/L#;</C$2\u0197""6\u01977\u0198.) &2\u0199""6\u01997\u019a/($8#:\u019b#! )(#\'#("\'#&\'#'),E('%;\x9e/^#$%;B/,#;\xa0/#$+")("\'#&\'#06*%;B/,#;\xa0/#$+")("\'#&\'#&/($8":\u019c"!!)("\'#&\'#'),E("%;6/5#;0/,$;\xf7/#$+#)(#'#(\"'#&'#"),E("$;2.) &;4.# &;.0/*;2.) &;4.# &;.&"),E("$;%0#*;%&"),E("%;\xfa/;#28\"\"6879/,$;\xfb/#$+#)(#'#(\"'#&'#"),E('%3\u019d""5%7\u019e.) &3\u019f""5$7\u01a0/\' 8!:\u01a1!! )'),E('%;\xfc/J#%28""6879/,#;^/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),E("%;\\.) &;X.# &;\x82/' 8!:\u01a2!! )"),E(';".S &;!.M &2F""6F7G.A &2J""6J7K.5 &2H""6H7I.) &2N""6N7O'),E('2L""6L7M.\x95 &2B""6B7C.\x89 &2<""6<7=.} &2R""6R7S.q &2T""6T7U.e &2V""6V7W.Y &2P""6P7Q.M &2@""6@7A.A &2D""6D7E.5 &22""6273.) &2>""6>7?'),E('%;\u0100/b#28""6879/S$;\xfb/J$%2\u01a3""6\u01a37\u01a4/,#;\xec/#$+")("\'#&\'#." &"/#$+$)($\'#(#\'#("\'#&\'#'),E('%3\u01a5""5%7\u01a6.) &3\u01a7""5$7\u01a8/\' 8!:\u01a1!! )'),E('%3\xb1""5#7\xb2.6 &3\xb3""5#7\xb4.* &$;+0#*;+&/\' 8!:\u01a9!! )'),E("%;\u0104/\x87#2F\"\"6F7G/x$;\u0103/o$2F\"\"6F7G/`$;\u0103/W$2F\"\"6F7G/H$;\u0103/?$2F\"\"6F7G/0$;\u0105/'$8):\u01aa) )()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#"),E("%;#/>#;#/5$;#/,$;#/#$+$)($'#(#'#(\"'#&'#"),E("%;\u0103/,#;\u0103/#$+\")(\"'#&'#"),E("%;\u0103/5#;\u0103/,$;\u0103/#$+#)(#'#(\"'#&'#"),E("%;q/T#$;m0#*;m&/D$%; /,#;\xf8/#$+\")(\"'#&'#.\" &\"/#$+#)(#'#(\"'#&'#"),E('%2\u01ab""6\u01ab7\u01ac.) &2\u01ad""6\u01ad7\u01ae/w#;0/n$;\u0108/e$$%;B/2#;\u0109.# &;\xa0/#$+")("\'#&\'#0<*%;B/2#;\u0109.# &;\xa0/#$+")("\'#&\'#&/#$+$)($\'#(#\'#("\'#&\'#'),E(";\x99.# &;L"),E("%2\u01af\"\"6\u01af7\u01b0/5#;</,$;\u010a/#$+#)(#'#(\"'#&'#"),E("%;D/S#;,/J$2:\"\"6:7;/;$;,.# &;T/,$;E/#$+%)(%'#($'#(#'#(\"'#&'#")];let c=0,l=0;const u=[{line:1,column:1}];let d,h=0,f=[],p=0;if(void 0!==t.startRule){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');o=i[t.startRule]}function g(){return e.substring(l,c)}function m(){return w(l,c)}function v(e,t){return{type:"literal",text:e,ignoreCase:t}}function y(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function b(t){let n,r=u[t];if(r)return r;for(n=t-1;!u[n];)n--;for(r=u[n],r={line:r.line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return u[t]=r,r}function w(e,t){const n=b(e),i=b(t);return{source:r,start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:i.line,column:i.column}}}function x(e){c<h||(c>h&&(h=c,f=[]),f.push(e))}function S(e,t,n){return new qe(qe.buildMessage(e,t),e,t,n)}function E(e){return e.split("").map((e=>e.charCodeAt(0)-32))}if(t.data={},d=function t(r){const i=s[r];let o=0;const u=[];let d=i.length;const h=[],f=[];let g;for(;;){for(;o<d;)switch(i[o]){case 0:f.push(a[i[o+1]]),o+=2;break;case 1:f.push(void 0),o++;break;case 2:f.push(null),o++;break;case 3:f.push(n),o++;break;case 4:f.push([]),o++;break;case 5:f.push(c),o++;break;case 6:f.pop(),o++;break;case 7:c=f.pop(),o++;break;case 8:f.length-=i[o+1],o+=2;break;case 9:f.splice(-2,1),o++;break;case 10:f[f.length-2].push(f.pop()),o++;break;case 11:f.push(f.splice(f.length-i[o+1],i[o+1])),o+=2;break;case 12:f.push(e.substring(f.pop(),c)),o++;break;case 13:h.push(d),u.push(o+3+i[o+1]+i[o+2]),f[f.length-1]?(d=o+3+i[o+1],o+=3):(d=o+3+i[o+1]+i[o+2],o+=3+i[o+1]);break;case 14:h.push(d),u.push(o+3+i[o+1]+i[o+2]),f[f.length-1]===n?(d=o+3+i[o+1],o+=3):(d=o+3+i[o+1]+i[o+2],o+=3+i[o+1]);break;case 15:h.push(d),u.push(o+3+i[o+1]+i[o+2]),f[f.length-1]!==n?(d=o+3+i[o+1],o+=3):(d=o+3+i[o+1]+i[o+2],o+=3+i[o+1]);break;case 16:f[f.length-1]!==n?(h.push(d),u.push(o),d=o+2+i[o+1],o+=2):o+=2+i[o+1];break;case 17:h.push(d),u.push(o+3+i[o+1]+i[o+2]),e.length>c?(d=o+3+i[o+1],o+=3):(d=o+3+i[o+1]+i[o+2],o+=3+i[o+1]);break;case 18:h.push(d),u.push(o+4+i[o+2]+i[o+3]),e.substr(c,a[i[o+1]].length)===a[i[o+1]]?(d=o+4+i[o+2],o+=4):(d=o+4+i[o+2]+i[o+3],o+=4+i[o+2]);break;case 19:h.push(d),u.push(o+4+i[o+2]+i[o+3]),e.substr(c,a[i[o+1]].length).toLowerCase()===a[i[o+1]]?(d=o+4+i[o+2],o+=4):(d=o+4+i[o+2]+i[o+3],o+=4+i[o+2]);break;case 20:h.push(d),u.push(o+4+i[o+2]+i[o+3]),a[i[o+1]].test(e.charAt(c))?(d=o+4+i[o+2],o+=4):(d=o+4+i[o+2]+i[o+3],o+=4+i[o+2]);break;case 21:f.push(e.substr(c,i[o+1])),c+=i[o+1],o+=2;break;case 22:f.push(a[i[o+1]]),c+=a[i[o+1]].length,o+=2;break;case 23:f.push(n),0===p&&x(a[i[o+1]]),o+=2;break;case 24:l=f[f.length-1-i[o+1]],o+=2;break;case 25:l=c,o++;break;case 26:g=i.slice(o+4,o+4+i[o+3]).map((function(e){return f[f.length-1-e]})),f.splice(f.length-i[o+2],i[o+2],a[i[o+1]].apply(null,g)),o+=4+i[o+3];break;case 27:f.push(t(i[o+1])),o+=2;break;case 28:p++,o++;break;case 29:p--,o++;break;default:throw new Error("Invalid opcode: "+i[o]+".")}if(!(h.length>0))break;d=h.pop(),o=u.pop()}return f[0]}(o),d!==n&&c===e.length)return d;throw d!==n&&c<e.length&&x({type:"end"}),S(f,h<e.length?e.charAt(h):null,h<e.length?w(h,h+1):w(h,h))};var Be;!function(e){e.parse=function(e,t){const n={startRule:t};try{Fe(e,n)}catch(cE){n.data=-1}return n.data},e.nameAddrHeaderParse=function(t){const n=e.parse(t,"Name_Addr_Header");return-1!==n?n:void 0},e.URIParse=function(t){const n=e.parse(t,"SIP_URI");return-1!==n?n:void 0}}(Be=Be||(Be={}));class Ue{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(e){const t=Ue.hexChars,n=Ue.hexOut;let r,i,o,a;for(a=0;a<4;a+=1)for(i=8*a,r=e[a],o=0;o<8;o+=2)n[i+1+o]=t.charAt(15&r),r>>>=4,n[i+0+o]=t.charAt(15&r),r>>>=4;return n.join("")}static _md5cycle(e,t){let n=e[0],r=e[1],i=e[2],o=e[3];n+=(r&i|~r&o)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+t[1]-389564586|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+t[2]+606105819|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&o)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+t[5]+1200080426|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+t[6]-1473231341|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&o)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+t[9]-1958414417|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+t[10]-42063|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&o)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+t[13]-40341101|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+t[14]-1502002290|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+i|0,n+=(r&o|i&~o)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+t[6]-1069501632|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+t[11]+643717713|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+i|0,n+=(r&o|i&~o)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+t[10]+38016083|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+t[15]-660478335|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+i|0,n+=(r&o|i&~o)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+t[14]-1019803690|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+t[3]-187363961|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+i|0,n+=(r&o|i&~o)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+t[2]-51403784|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+t[7]+1735328473|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+i|0,n+=(r^i^o)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+t[8]-2022574463|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+t[11]+1839030562|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^o)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+t[4]+1272893353|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+t[7]-155497632|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^o)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+t[0]-358537222|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+t[3]-722521979|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^o)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+t[12]-421815835|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+t[15]+530742520|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+i|0,n+=(i^(r|~o))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[7]+1126891415|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[14]-1416354905|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[3]-1894986606|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[10]-1051523|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[15]-30611744|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[6]-1560198380|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[11]-1120210379|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[2]+718787259|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(Ue.stateIdentity),this}appendStr(e){const t=this._buffer8,n=this._buffer32;let r,i,o=this._bufferLength;for(i=0;i<e.length;i+=1){if(r=e.charCodeAt(i),r<128)t[o++]=r;else if(r<2048)t[o++]=192+(r>>>6),t[o++]=63&r|128;else if(r<55296||r>56319)t[o++]=224+(r>>>12),t[o++]=r>>>6&63|128,t[o++]=63&r|128;else{if(r=1024*(r-55296)+(e.charCodeAt(++i)-56320)+65536,r>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");t[o++]=240+(r>>>18),t[o++]=r>>>12&63|128,t[o++]=r>>>6&63|128,t[o++]=63&r|128}o>=64&&(this._dataLength+=64,Ue._md5cycle(this._state,n),o-=64,n[0]=n[16])}return this._bufferLength=o,this}appendAsciiStr(e){const t=this._buffer8,n=this._buffer32;let r,i=this._bufferLength,o=0;for(;;){for(r=Math.min(e.length-o,64-i);r--;)t[i++]=e.charCodeAt(o++);if(i<64)break;this._dataLength+=64,Ue._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}appendByteArray(e){const t=this._buffer8,n=this._buffer32;let r,i=this._bufferLength,o=0;for(;;){for(r=Math.min(e.length-o,64-i);r--;)t[i++]=e[o++];if(i<64)break;this._dataLength+=64,Ue._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}getState(){const e=this,t=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[t[0],t[1],t[2],t[3]]}}setState(e){const t=e.buffer,n=e.state,r=this._state;let i;for(this._dataLength=e.length,this._bufferLength=e.buflen,r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],i=0;i<t.length;i+=1)this._buffer8[i]=t.charCodeAt(i)}end(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this._bufferLength,n=this._buffer8,r=this._buffer32,i=1+(t>>2);let o;if(this._dataLength+=t,n[t]=128,n[t+1]=n[t+2]=n[t+3]=0,r.set(Ue.buffer32Identity.subarray(i),i),t>55&&(Ue._md5cycle(this._state,r),r.set(Ue.buffer32Identity)),o=8*this._dataLength,o<=4294967295)r[14]=o;else{const e=o.toString(16).match(/(.*?)(.{0,8})$/);if(null===e)return;const t=parseInt(e[2],16),n=parseInt(e[1],16)||0;r[14]=t,r[15]=n}return Ue._md5cycle(this._state,r),e?this._state:Ue._hex(this._state)}}Ue.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),Ue.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ue.hexChars="0123456789abcdef",Ue.hexOut=[],Ue.onePassHasher=new Ue,"5d41402abc4b2a76b9719d911017c592"!==Ue.hashStr("hello")&&console.error("Md5 self test failed.");const ze={100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"};function Ve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n="";for(let r=0;r<e;r++){n+=Math.floor(Math.random()*t).toString(t)}return n}function We(e){return ze[e]||""}function Ge(){return Ve(10)}function Ke(e){const t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},n=e.toLowerCase().replace(/_/g,"-").split("-"),r=n.length;let i="";for(let o=0;o<r;o++)0!==o&&(i+="-"),i+=n[o].charAt(0).toUpperCase()+n[o].substring(1);return t[i]&&(i=t[i]),i}function Ye(e){return encodeURIComponent(e).replace(/%[A-F\d]{2}/g,"U").length}function Xe(e){return Ue.hashStr(e)}class Je{constructor(e,t,n,r){this.logger=e.getLogger("sipjs.digestauthentication"),this.username=n,this.password=r,this.ha1=t,this.nc=0,this.ncHex="00000000"}authenticate(e,t,n){if(this.algorithm=t.algorithm,this.realm=t.realm,this.nonce=t.nonce,this.opaque=t.opaque,this.stale=t.stale,this.algorithm){if("MD5"!==this.algorithm)return this.logger.warn("challenge with Digest algorithm different than 'MD5', authentication aborted"),!1}else this.algorithm="MD5";if(!this.realm)return this.logger.warn("challenge without Digest realm, authentication aborted"),!1;if(!this.nonce)return this.logger.warn("challenge without Digest nonce, authentication aborted"),!1;if(t.qop)if(t.qop.indexOf("auth")>-1)this.qop="auth";else{if(!(t.qop.indexOf("auth-int")>-1))return this.logger.warn("challenge without Digest qop different than 'auth' or 'auth-int', authentication aborted"),!1;this.qop="auth-int"}else this.qop=void 0;return this.method=e.method,this.uri=e.ruri,this.cnonce=Ve(12),this.nc+=1,this.updateNcHex(),4294967296===this.nc&&(this.nc=1,this.ncHex="00000001"),this.calculateResponse(n),!0}toString(){const e=[];if(!this.response)throw new Error("response field does not exist, cannot generate Authorization header");return e.push("algorithm="+this.algorithm),e.push('username="'+this.username+'"'),e.push('realm="'+this.realm+'"'),e.push('nonce="'+this.nonce+'"'),e.push('uri="'+this.uri+'"'),e.push('response="'+this.response+'"'),this.opaque&&e.push('opaque="'+this.opaque+'"'),this.qop&&(e.push("qop="+this.qop),e.push('cnonce="'+this.cnonce+'"'),e.push("nc="+this.ncHex)),"Digest "+e.join(", ")}updateNcHex(){const e=Number(this.nc).toString(16);this.ncHex="00000000".substr(0,8-e.length)+e}calculateResponse(e){let t,n;t=this.ha1,""!==t&&void 0!==t||(t=Xe(this.username+":"+this.realm+":"+this.password)),"auth"===this.qop?(n=Xe(this.method+":"+this.uri),this.response=Xe(t+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth:"+n)):"auth-int"===this.qop?(n=Xe(this.method+":"+this.uri+":"+Xe(e||"")),this.response=Xe(t+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth-int:"+n)):void 0===this.qop&&(n=Xe(this.method+":"+this.uri),this.response=Xe(t+":"+this.nonce+":"+n))}}class Ze{constructor(){this.headers={}}addHeader(e,t){const n={raw:t};e=Ke(e),this.headers[e]?this.headers[e].push(n):this.headers[e]=[n]}getHeader(e){const t=this.headers[Ke(e)];if(t)return t[0]?t[0].raw:void 0}getHeaders(e){const t=this.headers[Ke(e)],n=[];if(!t)return[];for(const r of t)n.push(r.raw);return n}hasHeader(e){return!!this.headers[Ke(e)]}parseHeader(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e=Ke(e),!this.headers[e])return;if(t>=this.headers[e].length)return;const n=this.headers[e][t],r=n.raw;if(n.parsed)return n.parsed;const i=Be.parse(r,e.replace(/-/g,"_"));return-1===i?void this.headers[e].splice(t,1):(n.parsed=i,i)}s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.parseHeader(e,t)}setHeader(e,t){this.headers[Ke(e)]=[{raw:t}]}toString(){return this.data}}class Qe extends Ze{constructor(){super()}}class et extends Ze{constructor(){super()}}var tt,nt,rt;!function(e){e[e.error=0]="error",e[e.warn=1]="warn",e[e.log=2]="log",e[e.debug=3]="debug"}(tt=tt||(tt={}));class it{constructor(e,t,n){this.logger=e,this.category=t,this.label=n}error(e){this.genericLog(tt.error,e)}warn(e){this.genericLog(tt.warn,e)}log(e){this.genericLog(tt.log,e)}debug(e){this.genericLog(tt.debug,e)}genericLog(e,t){this.logger.genericLog(e,this.category,this.label,t)}get level(){return this.logger.level}set level(e){this.logger.level=e}}class ot{constructor(){this.builtinEnabled=!0,this._level=tt.log,this.loggers={},this.logger=this.getLogger("sip:loggerfactory")}get level(){return this._level}set level(e){e>=0&&e<=3?this._level=e:e>3?this._level=3:tt.hasOwnProperty(e)?this._level=e:this.logger.error("invalid 'level' parameter value: "+JSON.stringify(e))}get connector(){return this._connector}set connector(e){e?"function"===typeof e?this._connector=e:this.logger.error("invalid 'connector' parameter value: "+JSON.stringify(e)):this._connector=void 0}getLogger(e,t){if(t&&3===this.level)return new it(this,e,t);if(this.loggers[e])return this.loggers[e];{const t=new it(this,e);return this.loggers[e]=t,t}}genericLog(e,t,n,r){this.level>=e&&this.builtinEnabled&&this.print(e,t,n,r),this.connector&&this.connector(tt[e],t,n,r)}print(e,t,n,r){if("string"===typeof r){const e=[new Date,t];n&&e.push(n),r=e.concat(r).join(" | ")}switch(e){case tt.error:console.error(r);break;case tt.warn:console.warn(r);break;case tt.log:console.log(r);break;case tt.debug:console.debug(r)}}}!function(e){function t(e,t){let n=t,r=0,i=0;if(e.substring(n,n+2).match(/(^\r\n)/))return-2;for(;0===r;){if(i=e.indexOf("\r\n",n),-1===i)return i;!e.substring(i+2,i+4).match(/(^\r\n)/)&&e.charAt(i+2).match(/(^\s+)/)?n=i+2:r=i}return r}function n(e,t,n,r){const i=t.indexOf(":",n),o=t.substring(n,i).trim(),a=t.substring(i+1,r).trim();let s;switch(o.toLowerCase()){case"via":case"v":e.addHeader("via",a),1===e.getHeaders("via").length?(s=e.parseHeader("Via"),s&&(e.via=s,e.viaBranch=s.branch)):s=0;break;case"from":case"f":e.setHeader("from",a),s=e.parseHeader("from"),s&&(e.from=s,e.fromTag=s.getParam("tag"));break;case"to":case"t":e.setHeader("to",a),s=e.parseHeader("to"),s&&(e.to=s,e.toTag=s.getParam("tag"));break;case"record-route":if(s=Be.parse(a,"Record_Route"),-1===s){s=void 0;break}if(!(s instanceof Array)){s=void 0;break}s.forEach((t=>{e.addHeader("record-route",a.substring(t.position,t.offset)),e.headers["Record-Route"][e.getHeaders("record-route").length-1].parsed=t.parsed}));break;case"call-id":case"i":e.setHeader("call-id",a),s=e.parseHeader("call-id"),s&&(e.callId=a);break;case"contact":case"m":if(s=Be.parse(a,"Contact"),-1===s){s=void 0;break}if(!(s instanceof Array)){s=void 0;break}s.forEach((t=>{e.addHeader("contact",a.substring(t.position,t.offset)),e.headers.Contact[e.getHeaders("contact").length-1].parsed=t.parsed}));break;case"content-length":case"l":e.setHeader("content-length",a),s=e.parseHeader("content-length");break;case"content-type":case"c":e.setHeader("content-type",a),s=e.parseHeader("content-type");break;case"cseq":e.setHeader("cseq",a),s=e.parseHeader("cseq"),s&&(e.cseq=s.value),e instanceof et&&(e.method=s.method);break;case"max-forwards":e.setHeader("max-forwards",a),s=e.parseHeader("max-forwards");break;case"www-authenticate":e.setHeader("www-authenticate",a),s=e.parseHeader("www-authenticate");break;case"proxy-authenticate":e.setHeader("proxy-authenticate",a),s=e.parseHeader("proxy-authenticate");break;case"refer-to":case"r":e.setHeader("refer-to",a),s=e.parseHeader("refer-to"),s&&(e.referTo=s);break;default:e.addHeader(o.toLowerCase(),a),s=0}return void 0!==s||{error:"error parsing header '"+o+"'"}}e.getHeader=t,e.parseHeader=n,e.parseMessage=function(e,r){let i=0,o=e.indexOf("\r\n");if(-1===o)return void r.warn("no CRLF found, not a SIP message, discarded");const a=e.substring(0,o),s=Be.parse(a,"Request_Response");let c,l;if(-1!==s){for(s.status_code?(c=new et,c.statusCode=s.status_code,c.reasonPhrase=s.reason_phrase):(c=new Qe,c.method=s.method,c.ruri=s.uri),c.data=e,i=o+2;;){if(o=t(e,i),-2===o){l=i+2;break}if(-1===o)return void r.error("malformed message");const a=n(c,e,i,o);if(a&&!0!==a)return void r.error(a.error);i=o+2}return c.hasHeader("content-length")?c.body=e.substr(l,Number(c.getHeader("content-length"))):c.body=e.substring(l),c}r.warn('error parsing first line of SIP message: "'+a+'"')}}(nt=nt||(nt={})),function(e){e.ACK="ACK",e.BYE="BYE",e.CANCEL="CANCEL",e.INFO="INFO",e.INVITE="INVITE",e.MESSAGE="MESSAGE",e.NOTIFY="NOTIFY",e.OPTIONS="OPTIONS",e.REGISTER="REGISTER",e.UPDATE="UPDATE",e.SUBSCRIBE="SUBSCRIBE",e.PUBLISH="PUBLISH",e.REFER="REFER",e.PRACK="PRACK"}(rt=rt||(rt={}));class at{constructor(e,t,n,r,i,o,a){this.headers={},this.extraHeaders=[],this.options=at.getDefaultOptions(),i&&(this.options=Object.assign(Object.assign({},this.options),i),this.options.optionTags&&this.options.optionTags.length&&(this.options.optionTags=this.options.optionTags.slice()),this.options.routeSet&&this.options.routeSet.length&&(this.options.routeSet=this.options.routeSet.slice())),o&&o.length&&(this.extraHeaders=o.slice()),a&&(this.body={body:a.content,contentType:a.contentType}),this.method=e,this.ruri=t.clone(),this.fromURI=n.clone(),this.fromTag=this.options.fromTag?this.options.fromTag:Ge(),this.from=at.makeNameAddrHeader(this.fromURI,this.options.fromDisplayName,this.fromTag),this.toURI=r.clone(),this.toTag=this.options.toTag,this.to=at.makeNameAddrHeader(this.toURI,this.options.toDisplayName,this.toTag),this.callId=this.options.callId?this.options.callId:this.options.callIdPrefix+Ve(15),this.cseq=this.options.cseq,this.setHeader("route",this.options.routeSet),this.setHeader("via",""),this.setHeader("to",this.to.toString()),this.setHeader("from",this.from.toString()),this.setHeader("cseq",this.cseq+" "+this.method),this.setHeader("call-id",this.callId),this.setHeader("max-forwards","70")}static getDefaultOptions(){return{callId:"",callIdPrefix:"",cseq:1,toDisplayName:"",toTag:"",fromDisplayName:"",fromTag:"",forceRport:!1,hackViaTcp:!1,optionTags:["outbound"],routeSet:[],userAgentString:"sip.js",viaHost:""}}static makeNameAddrHeader(e,t,n){const r={};return n&&(r.tag=n),new Me(e,t,r)}getHeader(e){const t=this.headers[Ke(e)];if(t){if(t[0])return t[0]}else{const t=new RegExp("^\\s*"+e+"\\s*:","i");for(const e of this.extraHeaders)if(t.test(e))return e.substring(e.indexOf(":")+1).trim()}}getHeaders(e){const t=[],n=this.headers[Ke(e)];if(n)for(const r of n)t.push(r);else{const n=new RegExp("^\\s*"+e+"\\s*:","i");for(const e of this.extraHeaders)n.test(e)&&t.push(e.substring(e.indexOf(":")+1).trim())}return t}hasHeader(e){if(this.headers[Ke(e)])return!0;{const t=new RegExp("^\\s*"+e+"\\s*:","i");for(const e of this.extraHeaders)if(t.test(e))return!0}return!1}setHeader(e,t){this.headers[Ke(e)]=t instanceof Array?t:[t]}setViaHeader(e,t){this.options.hackViaTcp&&(t="TCP");let n="SIP/2.0/"+t;n+=" "+this.options.viaHost+";branch="+e,this.options.forceRport&&(n+=";rport"),this.setHeader("via",n),this.branch=e}toString(){let e="";e+=this.method+" "+this.ruri.toRaw()+" SIP/2.0\r\n";for(const t in this.headers)if(this.headers[t])for(const n of this.headers[t])e+=t+": "+n+"\r\n";for(const t of this.extraHeaders)e+=t.trim()+"\r\n";return e+="Supported: "+this.options.optionTags.join(", ")+"\r\n",e+="User-Agent: "+this.options.userAgentString+"\r\n",this.body?"string"===typeof this.body?(e+="Content-Length: "+Ye(this.body)+"\r\n\r\n",e+=this.body):this.body.body&&this.body.contentType?(e+="Content-Type: "+this.body.contentType+"\r\n",e+="Content-Length: "+Ye(this.body.body)+"\r\n\r\n",e+=this.body.body):e+="Content-Length: 0\r\n\r\n":e+="Content-Length: 0\r\n\r\n",e}}function st(e,t){const n="\r\n";if(t.statusCode<100||t.statusCode>699)throw new TypeError("Invalid statusCode: "+t.statusCode);const r=t.reasonPhrase?t.reasonPhrase:We(t.statusCode);let i="SIP/2.0 "+t.statusCode+" "+r+n;t.statusCode>=100&&t.statusCode,t.statusCode;const o="From: "+e.getHeader("From")+n,a="Call-ID: "+e.callId+n,s="CSeq: "+e.cseq+" "+e.method+n,c=e.getHeaders("via").reduce(((e,t)=>e+"Via: "+t+n),"");let l="To: "+e.getHeader("to");if(t.statusCode>100&&!e.parseHeader("to").hasParam("tag")){let e=t.toTag;e||(e=Ge()),l+=";tag="+e}l+=n;let u="";t.supported&&(u="Supported: "+t.supported.join(", ")+n);let d="";t.userAgent&&(d="User-Agent: "+t.userAgent+n);let h="";return t.extraHeaders&&(h=t.extraHeaders.reduce(((e,t)=>e+t.trim()+n),"")),i+=c,i+=o,i+=l,i+=s,i+=a,i+=u,i+=d,i+=h,t.body?(i+="Content-Type: "+t.body.contentType+n,i+="Content-Length: "+Ye(t.body.content)+n+n,i+=t.body.content):i+="Content-Length: 0\r\n\r\n",{message:i}}const ct=500,lt=5e3,ut={T1:ct,T2:4e3,T4:lt,TIMER_B:32e3,TIMER_D:0,TIMER_F:32e3,TIMER_H:32e3,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:32e3,TIMER_M:32e3,TIMER_N:32e3,PROVISIONAL_RESPONSE_INTERVAL:6e4};class dt extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class ht extends dt{constructor(e){super(e||"Unspecified transport error.")}}class ft{constructor(e,t,n,r,i){this._transport=e,this._user=t,this._id=n,this._state=r,this.listeners=new Array,this.logger=t.loggerFactory.getLogger(i,n),this.logger.debug("Constructing ".concat(this.typeToString()," with id ").concat(this.id,"."))}dispose(){this.logger.debug("Destroyed ".concat(this.typeToString()," with id ").concat(this.id,"."))}get id(){return this._id}get kind(){throw new Error("Invalid kind.")}get state(){return this._state}get transport(){return this._transport}addStateChangeListener(e,t){const n=()=>{this.removeStateChangeListener(n),e()};!0===(null===t||void 0===t?void 0:t.once)?this.listeners.push(n):this.listeners.push(e)}notifyStateChangeListeners(){this.listeners.slice().forEach((e=>e()))}removeStateChangeListener(e){this.listeners=this.listeners.filter((t=>t!==e))}logTransportError(e,t){this.logger.error(e.message),this.logger.error("Transport error occurred in ".concat(this.typeToString()," with id ").concat(this.id,".")),this.logger.error(t)}send(e){return this.transport.send(e).catch((e=>{if(e instanceof ht)throw this.onTransportError(e),e;let t;throw t=e&&"string"===typeof e.message?new ht(e.message):new ht,this.onTransportError(t),t}))}setState(e){this.logger.debug('State change to "'.concat(e,'" on ').concat(this.typeToString()," with id ").concat(this.id,".")),this._state=e,this._user.onStateChange&&this._user.onStateChange(e),this.notifyStateChangeListeners()}typeToString(){return"UnknownType"}}class pt extends ft{constructor(e,t,n,r,i){super(t,n,e.viaBranch,r,i),this._request=e,this.user=n}get request(){return this._request}}var gt,mt,vt;!function(e){e.Accepted="Accepted",e.Calling="Calling",e.Completed="Completed",e.Confirmed="Confirmed",e.Proceeding="Proceeding",e.Terminated="Terminated",e.Trying="Trying"}(gt=gt||(gt={}));class yt extends pt{constructor(e,t,n){super(e,t,n,gt.Proceeding,"sip.transaction.ist")}dispose(){this.stopProgressExtensionTimer(),this.H&&(clearTimeout(this.H),this.H=void 0),this.I&&(clearTimeout(this.I),this.I=void 0),this.L&&(clearTimeout(this.L),this.L=void 0),super.dispose()}get kind(){return"ist"}receiveRequest(e){switch(this.state){case gt.Proceeding:if(e.method===rt.INVITE)return void(this.lastProvisionalResponse&&this.send(this.lastProvisionalResponse).catch((e=>{this.logTransportError(e,"Failed to send retransmission of provisional response.")})));break;case gt.Accepted:if(e.method===rt.INVITE)return;break;case gt.Completed:if(e.method===rt.INVITE){if(!this.lastFinalResponse)throw new Error("Last final response undefined.");return void this.send(this.lastFinalResponse).catch((e=>{this.logTransportError(e,"Failed to send retransmission of final response.")}))}if(e.method===rt.ACK)return void this.stateTransition(gt.Confirmed);break;case gt.Confirmed:case gt.Terminated:if(e.method===rt.INVITE||e.method===rt.ACK)return;break;default:throw new Error("Invalid state ".concat(this.state))}const t="INVITE server transaction received unexpected ".concat(e.method," request while in state ").concat(this.state,".");this.logger.warn(t)}receiveResponse(e,t){if(e<100||e>699)throw new Error("Invalid status code ".concat(e));switch(this.state){case gt.Proceeding:if(e>=100&&e<=199)return this.lastProvisionalResponse=t,e>100&&this.startProgressExtensionTimer(),void this.send(t).catch((e=>{this.logTransportError(e,"Failed to send 1xx response.")}));if(e>=200&&e<=299)return this.lastFinalResponse=t,this.stateTransition(gt.Accepted),void this.send(t).catch((e=>{this.logTransportError(e,"Failed to send 2xx response.")}));if(e>=300&&e<=699)return this.lastFinalResponse=t,this.stateTransition(gt.Completed),void this.send(t).catch((e=>{this.logTransportError(e,"Failed to send non-2xx final response.")}));break;case gt.Accepted:if(e>=200&&e<=299)return void this.send(t).catch((e=>{this.logTransportError(e,"Failed to send 2xx response.")}));break;case gt.Completed:case gt.Confirmed:case gt.Terminated:break;default:throw new Error("Invalid state ".concat(this.state))}const n="INVITE server transaction received unexpected ".concat(e," response from TU while in state ").concat(this.state,".");throw this.logger.error(n),new Error(n)}retransmitAcceptedResponse(){this.state===gt.Accepted&&this.lastFinalResponse&&this.send(this.lastFinalResponse).catch((e=>{this.logTransportError(e,"Failed to send 2xx response.")}))}onTransportError(e){this.user.onTransportError&&this.user.onTransportError(e)}typeToString(){return"INVITE server transaction"}stateTransition(e){const t=()=>{throw new Error("Invalid state transition from ".concat(this.state," to ").concat(e))};switch(e){case gt.Proceeding:t();break;case gt.Accepted:case gt.Completed:this.state!==gt.Proceeding&&t();break;case gt.Confirmed:this.state!==gt.Completed&&t();break;case gt.Terminated:this.state!==gt.Accepted&&this.state!==gt.Completed&&this.state!==gt.Confirmed&&t();break;default:t()}this.stopProgressExtensionTimer(),e===gt.Accepted&&(this.L=setTimeout((()=>this.timerL()),ut.TIMER_L)),e===gt.Completed&&(this.H=setTimeout((()=>this.timerH()),ut.TIMER_H)),e===gt.Confirmed&&(this.I=setTimeout((()=>this.timerI()),ut.TIMER_I)),e===gt.Terminated&&this.dispose(),this.setState(e)}startProgressExtensionTimer(){void 0===this.progressExtensionTimer&&(this.progressExtensionTimer=setInterval((()=>{if(this.logger.debug("Progress extension timer expired for INVITE server transaction ".concat(this.id,".")),!this.lastProvisionalResponse)throw new Error("Last provisional response undefined.");this.send(this.lastProvisionalResponse).catch((e=>{this.logTransportError(e,"Failed to send retransmission of provisional response.")}))}),ut.PROVISIONAL_RESPONSE_INTERVAL))}stopProgressExtensionTimer(){void 0!==this.progressExtensionTimer&&(clearInterval(this.progressExtensionTimer),this.progressExtensionTimer=void 0)}timerG(){}timerH(){this.logger.debug("Timer H expired for INVITE server transaction ".concat(this.id,".")),this.state===gt.Completed&&(this.logger.warn("ACK to negative final response was never received, terminating transaction."),this.stateTransition(gt.Terminated))}timerI(){this.logger.debug("Timer I expired for INVITE server transaction ".concat(this.id,".")),this.stateTransition(gt.Terminated)}timerL(){this.logger.debug("Timer L expired for INVITE server transaction ".concat(this.id,".")),this.state===gt.Accepted&&this.stateTransition(gt.Terminated)}}class bt extends ft{constructor(e,t,n,r,i){super(t,n,bt.makeId(e),r,i),this._request=e,this.user=n,e.setViaHeader(this.id,t.protocol)}static makeId(e){if("CANCEL"===e.method){if(!e.branch)throw new Error("Outgoing CANCEL request without a branch.");return e.branch}return"z9hG4bK"+Math.floor(1e7*Math.random())}get request(){return this._request}onRequestTimeout(){this.user.onRequestTimeout&&this.user.onRequestTimeout()}}class wt extends bt{constructor(e,t,n){super(e,t,n,gt.Trying,"sip.transaction.nict"),this.F=setTimeout((()=>this.timerF()),ut.TIMER_F),this.send(e.toString()).catch((e=>{this.logTransportError(e,"Failed to send initial outgoing request.")}))}dispose(){this.F&&(clearTimeout(this.F),this.F=void 0),this.K&&(clearTimeout(this.K),this.K=void 0),super.dispose()}get kind(){return"nict"}receiveResponse(e){const t=e.statusCode;if(!t||t<100||t>699)throw new Error("Invalid status code ".concat(t));switch(this.state){case gt.Trying:if(t>=100&&t<=199)return this.stateTransition(gt.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(t>=200&&t<=699)return this.stateTransition(gt.Completed),408===t?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case gt.Proceeding:if(t>=100&&t<=199&&this.user.receiveResponse)return this.user.receiveResponse(e);if(t>=200&&t<=699)return this.stateTransition(gt.Completed),408===t?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case gt.Completed:case gt.Terminated:return;default:throw new Error("Invalid state ".concat(this.state))}const n="Non-INVITE client transaction received unexpected ".concat(t," response while in state ").concat(this.state,".");this.logger.warn(n)}onTransportError(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(gt.Terminated,!0)}typeToString(){return"non-INVITE client transaction"}stateTransition(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=()=>{throw new Error("Invalid state transition from ".concat(this.state," to ").concat(e))};switch(e){case gt.Trying:n();break;case gt.Proceeding:this.state!==gt.Trying&&n();break;case gt.Completed:this.state!==gt.Trying&&this.state!==gt.Proceeding&&n();break;case gt.Terminated:this.state!==gt.Trying&&this.state!==gt.Proceeding&&this.state!==gt.Completed&&(t||n());break;default:n()}e===gt.Completed&&(this.F&&(clearTimeout(this.F),this.F=void 0),this.K=setTimeout((()=>this.timerK()),ut.TIMER_K)),e===gt.Terminated&&this.dispose(),this.setState(e)}timerF(){this.logger.debug("Timer F expired for non-INVITE client transaction ".concat(this.id,".")),this.state!==gt.Trying&&this.state!==gt.Proceeding||(this.onRequestTimeout(),this.stateTransition(gt.Terminated))}timerK(){this.state===gt.Completed&&this.stateTransition(gt.Terminated)}}class xt{constructor(e,t){this.core=e,this.dialogState=t,this.core.dialogs.set(this.id,this)}static initialDialogStateForUserAgentClient(e,t){const n=t.getHeaders("record-route").reverse(),r=t.parseHeader("contact");if(!r)throw new Error("Contact undefined.");if(!(r instanceof Me))throw new Error("Contact not instance of NameAddrHeader.");const i=r.uri,o=e.cseq,a=e.callId,s=e.fromTag,c=t.toTag;if(!a)throw new Error("Call id undefined.");if(!s)throw new Error("From tag undefined.");if(!c)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");const l=e.from.uri,u=e.to.uri;if(!t.statusCode)throw new Error("Incoming response status code undefined.");return{id:a+s+c,early:t.statusCode<200,callId:a,localTag:s,remoteTag:c,localSequenceNumber:o,remoteSequenceNumber:undefined,localURI:l,remoteURI:u,remoteTarget:i,routeSet:n,secure:!1}}static initialDialogStateForUserAgentServer(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.getHeaders("record-route"),i=e.parseHeader("contact");if(!i)throw new Error("Contact undefined.");if(!(i instanceof Me))throw new Error("Contact not instance of NameAddrHeader.");const o=i.uri,a=e.cseq,s=e.callId,c=t,l=e.fromTag,u=e.from.uri;return{id:s+c+l,early:n,callId:s,localTag:c,remoteTag:l,localSequenceNumber:undefined,remoteSequenceNumber:a,localURI:e.to.uri,remoteURI:u,remoteTarget:o,routeSet:r,secure:!1}}dispose(){this.core.dialogs.delete(this.id)}get id(){return this.dialogState.id}get early(){return this.dialogState.early}get callId(){return this.dialogState.callId}get localTag(){return this.dialogState.localTag}get remoteTag(){return this.dialogState.remoteTag}get localSequenceNumber(){return this.dialogState.localSequenceNumber}get remoteSequenceNumber(){return this.dialogState.remoteSequenceNumber}get localURI(){return this.dialogState.localURI}get remoteURI(){return this.dialogState.remoteURI}get remoteTarget(){return this.dialogState.remoteTarget}get routeSet(){return this.dialogState.routeSet}get secure(){return this.dialogState.secure}get userAgentCore(){return this.core}confirm(){this.dialogState.early=!1}receiveRequest(e){if(e.method!==rt.ACK){if(this.remoteSequenceNumber){if(e.cseq<=this.remoteSequenceNumber)throw new Error("Out of sequence in dialog request. Did you forget to call sequenceGuard()?");this.dialogState.remoteSequenceNumber=e.cseq}this.remoteSequenceNumber||(this.dialogState.remoteSequenceNumber=e.cseq)}}recomputeRouteSet(e){this.dialogState.routeSet=e.getHeaders("record-route").reverse()}createOutgoingRequestMessage(e,t){const n=this.remoteURI,r=this.remoteTag,i=this.localURI,o=this.localTag,a=this.callId;let s;s=t&&t.cseq?t.cseq:this.dialogState.localSequenceNumber?this.dialogState.localSequenceNumber+=1:this.dialogState.localSequenceNumber=1;const c=this.remoteTarget,l=this.routeSet,u=t&&t.extraHeaders,d=t&&t.body;return this.userAgentCore.makeOutgoingRequestMessage(e,c,i,n,{callId:a,cseq:s,fromTag:o,toTag:r,routeSet:l},u,d)}incrementLocalSequenceNumber(){if(!this.dialogState.localSequenceNumber)throw new Error("Local sequence number undefined.");this.dialogState.localSequenceNumber+=1}sequenceGuard(e){return e.method===rt.ACK||(!(this.remoteSequenceNumber&&e.cseq<=this.remoteSequenceNumber)||(this.core.replyStateless(e,{statusCode:500}),!1))}}function St(e){return"application/sdp"===e?"session":"render"}function Et(e){const t="string"===typeof e?e:e.body,n="string"===typeof e?"application/sdp":e.contentType;return{contentDisposition:St(n),contentType:n,content:t}}function kt(e){return!(!e||"string"!==typeof e.content||"string"!==typeof e.contentType||void 0!==e.contentDisposition)||"string"===typeof e.contentDisposition}function Ot(e){let t,n,r;if(e instanceof Qe&&e.body){const i=e.parseHeader("Content-Disposition");t=i?i.type:void 0,n=e.parseHeader("Content-Type"),r=e.body}if(e instanceof et&&e.body){const i=e.parseHeader("Content-Disposition");t=i?i.type:void 0,n=e.parseHeader("Content-Type"),r=e.body}if(e instanceof at&&e.body)if(t=e.getHeader("Content-Disposition"),n=e.getHeader("Content-Type"),"string"===typeof e.body){if(!n)throw new Error("Header content type header does not equal body content type.");r=e.body}else{if(n&&n!==e.body.contentType)throw new Error("Header content type header does not equal body content type.");n=e.body.contentType,r=e.body.body}if(kt(e)&&(t=e.contentDisposition,n=e.contentType,r=e.content),r){if(n&&!t&&(t=St(n)),!t)throw new Error("Content disposition undefined.");if(!n)throw new Error("Content type undefined.");return{contentDisposition:t,contentType:n,content:r}}}!function(e){e.Initial="Initial",e.Early="Early",e.AckWait="AckWait",e.Confirmed="Confirmed",e.Terminated="Terminated"}(mt=mt||(mt={})),function(e){e.Initial="Initial",e.HaveLocalOffer="HaveLocalOffer",e.HaveRemoteOffer="HaveRemoteOffer",e.Stable="Stable",e.Closed="Closed"}(vt=vt||(vt={}));class Tt extends bt{constructor(e,t,n){super(e,t,n,gt.Calling,"sip.transaction.ict"),this.ackRetransmissionCache=new Map,this.B=setTimeout((()=>this.timerB()),ut.TIMER_B),this.send(e.toString()).catch((e=>{this.logTransportError(e,"Failed to send initial outgoing request.")}))}dispose(){this.B&&(clearTimeout(this.B),this.B=void 0),this.D&&(clearTimeout(this.D),this.D=void 0),this.M&&(clearTimeout(this.M),this.M=void 0),super.dispose()}get kind(){return"ict"}ackResponse(e){const t=e.toTag;if(!t)throw new Error("To tag undefined.");const n="z9hG4bK"+Math.floor(1e7*Math.random());e.setViaHeader(n,this.transport.protocol),this.ackRetransmissionCache.set(t,e),this.send(e.toString()).catch((e=>{this.logTransportError(e,"Failed to send ACK to 2xx response.")}))}receiveResponse(e){const t=e.statusCode;if(!t||t<100||t>699)throw new Error("Invalid status code ".concat(t));switch(this.state){case gt.Calling:if(t>=100&&t<=199)return this.stateTransition(gt.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(t>=200&&t<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(gt.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(t>=300&&t<=699)return this.stateTransition(gt.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case gt.Proceeding:if(t>=100&&t<=199)return void(this.user.receiveResponse&&this.user.receiveResponse(e));if(t>=200&&t<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(gt.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(t>=300&&t<=699)return this.stateTransition(gt.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case gt.Accepted:if(t>=200&&t<=299){if(!this.ackRetransmissionCache.has(e.toTag))return this.ackRetransmissionCache.set(e.toTag,void 0),void(this.user.receiveResponse&&this.user.receiveResponse(e));const t=this.ackRetransmissionCache.get(e.toTag);return t?void this.send(t.toString()).catch((e=>{this.logTransportError(e,"Failed to send retransmission of ACK to 2xx response.")})):void 0}break;case gt.Completed:if(t>=300&&t<=699)return void this.ack(e);break;case gt.Terminated:break;default:throw new Error("Invalid state ".concat(this.state))}const n="Received unexpected ".concat(t," response while in state ").concat(this.state,".");this.logger.warn(n)}onTransportError(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(gt.Terminated,!0)}typeToString(){return"INVITE client transaction"}ack(e){const t=this.request.ruri,n=this.request.callId,r=this.request.cseq,i=this.request.getHeader("from"),o=e.getHeader("to"),a=this.request.getHeader("via"),s=this.request.getHeader("route");if(!i)throw new Error("From undefined.");if(!o)throw new Error("To undefined.");if(!a)throw new Error("Via undefined.");let c="ACK ".concat(t," SIP/2.0\r\n");s&&(c+="Route: ".concat(s,"\r\n")),c+="Via: ".concat(a,"\r\n"),c+="To: ".concat(o,"\r\n"),c+="From: ".concat(i,"\r\n"),c+="Call-ID: ".concat(n,"\r\n"),c+="CSeq: ".concat(r," ACK\r\n"),c+="Max-Forwards: 70\r\n",c+="Content-Length: 0\r\n\r\n",this.send(c).catch((e=>{this.logTransportError(e,"Failed to send ACK to non-2xx response.")}))}stateTransition(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=()=>{throw new Error("Invalid state transition from ".concat(this.state," to ").concat(e))};switch(e){case gt.Calling:n();break;case gt.Proceeding:this.state!==gt.Calling&&n();break;case gt.Accepted:case gt.Completed:this.state!==gt.Calling&&this.state!==gt.Proceeding&&n();break;case gt.Terminated:this.state!==gt.Calling&&this.state!==gt.Accepted&&this.state!==gt.Completed&&(t||n());break;default:n()}this.B&&(clearTimeout(this.B),this.B=void 0),gt.Proceeding,e===gt.Completed&&(this.D=setTimeout((()=>this.timerD()),ut.TIMER_D)),e===gt.Accepted&&(this.M=setTimeout((()=>this.timerM()),ut.TIMER_M)),e===gt.Terminated&&this.dispose(),this.setState(e)}timerA(){}timerB(){this.logger.debug("Timer B expired for INVITE client transaction ".concat(this.id,".")),this.state===gt.Calling&&(this.onRequestTimeout(),this.stateTransition(gt.Terminated))}timerD(){this.logger.debug("Timer D expired for INVITE client transaction ".concat(this.id,".")),this.state===gt.Completed&&this.stateTransition(gt.Terminated)}timerM(){this.logger.debug("Timer M expired for INVITE client transaction ".concat(this.id,".")),this.state===gt.Accepted&&this.stateTransition(gt.Terminated)}}class Pt{constructor(e,t,n,r){this.transactionConstructor=e,this.core=t,this.message=n,this.delegate=r,this.challenged=!1,this.stale=!1,this.logger=this.loggerFactory.getLogger("sip.user-agent-client"),this.init()}dispose(){this.transaction.dispose()}get loggerFactory(){return this.core.loggerFactory}get transaction(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction}cancel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.transaction)throw new Error("Transaction undefined.");if(!this.message.to)throw new Error("To undefined.");if(!this.message.from)throw new Error("From undefined.");const n=this.core.makeOutgoingRequestMessage(rt.CANCEL,this.message.ruri,this.message.from.uri,this.message.to.uri,{toTag:this.message.toTag,fromTag:this.message.fromTag,callId:this.message.callId,cseq:this.message.cseq},t.extraHeaders);return n.branch=this.message.branch,this.message.headers.Route&&(n.headers.Route=this.message.headers.Route),e&&n.setHeader("Reason",e),this.transaction.state===gt.Proceeding?new Pt(wt,this.core,n):this.transaction.addStateChangeListener((()=>{this.transaction&&this.transaction.state===gt.Proceeding&&new Pt(wt,this.core,n)}),{once:!0}),n}authenticationGuard(e,t){const n=e.statusCode;if(!n)throw new Error("Response status code undefined.");if(401!==n&&407!==n)return!0;let r,i;if(401===n?(r=e.parseHeader("www-authenticate"),i="authorization"):(r=e.parseHeader("proxy-authenticate"),i="proxy-authorization"),!r)return this.logger.warn(n+" with wrong or missing challenge, cannot authenticate"),!0;if(this.challenged&&(this.stale||!0!==r.stale))return this.logger.warn(n+" apparently in authentication loop, cannot authenticate"),!0;if(!this.credentials&&(this.credentials=this.core.configuration.authenticationFactory(),!this.credentials))return this.logger.warn("Unable to obtain credentials, cannot authenticate"),!0;if(!this.credentials.authenticate(this.message,r))return!0;this.challenged=!0,r.stale&&(this.stale=!0);let o=this.message.cseq+=1;return t&&t.localSequenceNumber&&(t.incrementLocalSequenceNumber(),o=this.message.cseq=t.localSequenceNumber),this.message.setHeader("cseq",o+" "+this.message.method),this.message.setHeader(i,this.credentials.toString()),this.init(),!1}onRequestTimeout(){this.logger.warn("User agent client request timed out. Generating internal 408 Request Timeout.");const e=new et;e.statusCode=408,e.reasonPhrase="Request Timeout",this.receiveResponse(e)}onTransportError(e){this.logger.error(e.message),this.logger.error("User agent client request transport error. Generating internal 503 Service Unavailable.");const t=new et;t.statusCode=503,t.reasonPhrase="Service Unavailable",this.receiveResponse(t)}receiveResponse(e){if(!this.authenticationGuard(e))return;const t=e.statusCode?e.statusCode.toString():"";if(!t)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(t):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(t):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e});break;case/^2[0-9]{2}$/.test(t):this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e});break;case/^3[0-9]{2}$/.test(t):this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(t):this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error("Invalid status code ".concat(t))}}init(){const e={loggerFactory:this.loggerFactory,onRequestTimeout:()=>this.onRequestTimeout(),onStateChange:e=>{e===gt.Terminated&&(this.core.userAgentClients.delete(n),t===this._transaction&&this.dispose())},onTransportError:e=>this.onTransportError(e),receiveResponse:e=>this.receiveResponse(e)},t=new this.transactionConstructor(this.message,this.core.transport,e);this._transaction=t;const n=t.id+t.request.method;this.core.userAgentClients.set(n,this)}}class Ct extends Pt{constructor(e,t,n){const r=e.createOutgoingRequestMessage(rt.BYE,n);super(wt,e.userAgentCore,r,t),e.dispose()}}class jt extends pt{constructor(e,t,n){super(e,t,n,gt.Trying,"sip.transaction.nist")}dispose(){this.J&&(clearTimeout(this.J),this.J=void 0),super.dispose()}get kind(){return"nist"}receiveRequest(e){switch(this.state){case gt.Trying:break;case gt.Proceeding:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch((e=>{this.logTransportError(e,"Failed to send retransmission of provisional response.")}));break;case gt.Completed:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch((e=>{this.logTransportError(e,"Failed to send retransmission of final response.")}));break;case gt.Terminated:break;default:throw new Error("Invalid state ".concat(this.state))}}receiveResponse(e,t){if(e<100||e>699)throw new Error("Invalid status code ".concat(e));if(e>100&&e<=199)throw new Error("Provisional response other than 100 not allowed.");switch(this.state){case gt.Trying:if(this.lastResponse=t,e>=100&&e<200)return this.stateTransition(gt.Proceeding),void this.send(t).catch((e=>{this.logTransportError(e,"Failed to send provisional response.")}));if(e>=200&&e<=699)return this.stateTransition(gt.Completed),void this.send(t).catch((e=>{this.logTransportError(e,"Failed to send final response.")}));break;case gt.Proceeding:if(this.lastResponse=t,e>=200&&e<=699)return this.stateTransition(gt.Completed),void this.send(t).catch((e=>{this.logTransportError(e,"Failed to send final response.")}));break;case gt.Completed:return;case gt.Terminated:break;default:throw new Error("Invalid state ".concat(this.state))}const n="Non-INVITE server transaction received unexpected ".concat(e," response from TU while in state ").concat(this.state,".");throw this.logger.error(n),new Error(n)}onTransportError(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(gt.Terminated,!0)}typeToString(){return"non-INVITE server transaction"}stateTransition(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=()=>{throw new Error("Invalid state transition from ".concat(this.state," to ").concat(e))};switch(e){case gt.Trying:n();break;case gt.Proceeding:this.state!==gt.Trying&&n();break;case gt.Completed:this.state!==gt.Trying&&this.state!==gt.Proceeding&&n();break;case gt.Terminated:this.state!==gt.Proceeding&&this.state!==gt.Completed&&(t||n());break;default:n()}e===gt.Completed&&(this.J=setTimeout((()=>this.timerJ()),ut.TIMER_J)),e===gt.Terminated&&this.dispose(),this.setState(e)}timerJ(){this.logger.debug("Timer J expired for NON-INVITE server transaction ".concat(this.id,".")),this.state===gt.Completed&&this.stateTransition(gt.Terminated)}}class At extends dt{constructor(e){super(e||"Transaction state error.")}}class _t{constructor(e,t,n,r){this.transactionConstructor=e,this.core=t,this.message=n,this.delegate=r,this.logger=this.loggerFactory.getLogger("sip.user-agent-server"),this.toTag=n.toTag?n.toTag:Ge(),this.init()}dispose(){this.transaction.dispose()}get loggerFactory(){return this.core.loggerFactory}get transaction(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction}accept(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:200};if(!this.acceptable)throw new At("".concat(this.message.method," not acceptable in state ").concat(this.transaction.state,"."));const t=e.statusCode;if(t<200||t>299)throw new TypeError("Invalid statusCode: ".concat(t));return this.reply(e)}progress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:180};if(!this.progressable)throw new At("".concat(this.message.method," not progressable in state ").concat(this.transaction.state,"."));const t=e.statusCode;if(t<101||t>199)throw new TypeError("Invalid statusCode: ".concat(t));return this.reply(e)}redirect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{statusCode:302};if(!this.redirectable)throw new At("".concat(this.message.method," not redirectable in state ").concat(this.transaction.state,"."));const n=t.statusCode;if(n<300||n>399)throw new TypeError("Invalid statusCode: ".concat(n));const r=new Array;e.forEach((e=>r.push("Contact: ".concat(e.toString())))),t.extraHeaders=(t.extraHeaders||[]).concat(r);return this.reply(t)}reject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:480};if(!this.rejectable)throw new At("".concat(this.message.method," not rejectable in state ").concat(this.transaction.state,"."));const t=e.statusCode;if(t<400||t>699)throw new TypeError("Invalid statusCode: ".concat(t));return this.reply(e)}trying(e){if(!this.tryingable)throw new At("".concat(this.message.method," not tryingable in state ").concat(this.transaction.state,"."));return this.reply({statusCode:100})}receiveCancel(e){this.delegate&&this.delegate.onCancel&&this.delegate.onCancel(e)}get acceptable(){if(this.transaction instanceof yt)return this.transaction.state===gt.Proceeding||this.transaction.state===gt.Accepted;if(this.transaction instanceof jt)return this.transaction.state===gt.Trying||this.transaction.state===gt.Proceeding;throw new Error("Unknown transaction type.")}get progressable(){if(this.transaction instanceof yt)return this.transaction.state===gt.Proceeding;if(this.transaction instanceof jt)return!1;throw new Error("Unknown transaction type.")}get redirectable(){if(this.transaction instanceof yt)return this.transaction.state===gt.Proceeding;if(this.transaction instanceof jt)return this.transaction.state===gt.Trying||this.transaction.state===gt.Proceeding;throw new Error("Unknown transaction type.")}get rejectable(){if(this.transaction instanceof yt)return this.transaction.state===gt.Proceeding;if(this.transaction instanceof jt)return this.transaction.state===gt.Trying||this.transaction.state===gt.Proceeding;throw new Error("Unknown transaction type.")}get tryingable(){if(this.transaction instanceof yt)return this.transaction.state===gt.Proceeding;if(this.transaction instanceof jt)return this.transaction.state===gt.Trying;throw new Error("Unknown transaction type.")}reply(e){e.toTag||100===e.statusCode||(e.toTag=this.toTag),e.userAgent=e.userAgent||this.core.configuration.userAgentHeaderFieldValue,e.supported=e.supported||this.core.configuration.supportedOptionTagsResponse;const t=st(this.message,e);return this.transaction.receiveResponse(e.statusCode,t.message),t}init(){const e={loggerFactory:this.loggerFactory,onStateChange:e=>{e===gt.Terminated&&(this.core.userAgentServers.delete(n),this.dispose())},onTransportError:e=>{this.logger.error(e.message),this.delegate&&this.delegate.onTransportError?this.delegate.onTransportError(e):this.logger.error("User agent server response transport error.")}},t=new this.transactionConstructor(this.message,this.core.transport,e);this._transaction=t;const n=t.id;this.core.userAgentServers.set(t.id,this)}}class It extends _t{constructor(e,t,n){super(jt,e.userAgentCore,t,n)}}class Dt extends Pt{constructor(e,t,n){const r=e.createOutgoingRequestMessage(rt.INFO,n);super(wt,e.userAgentCore,r,t)}}class Rt extends _t{constructor(e,t,n){super(jt,e.userAgentCore,t,n)}}class Nt extends Pt{constructor(e,t,n){super(wt,e,t,n)}}class Mt extends _t{constructor(e,t,n){super(jt,e,t,n)}}class Ht extends Pt{constructor(e,t,n){const r=e.createOutgoingRequestMessage(rt.NOTIFY,n);super(wt,e.userAgentCore,r,t)}}class $t extends _t{constructor(e,t,n){const r=function(e){return void 0!==e.userAgentCore}(e)?e.userAgentCore:e;super(jt,r,t,n)}}class Lt extends Pt{constructor(e,t,n){const r=e.createOutgoingRequestMessage(rt.PRACK,n);super(wt,e.userAgentCore,r,t),e.signalingStateTransition(r)}}class qt extends _t{constructor(e,t,n){super(jt,e.userAgentCore,t,n),e.signalingStateTransition(t),this.dialog=e}accept(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:200};return e.body&&this.dialog.signalingStateTransition(e.body),super.accept(e)}}class Ft extends Pt{constructor(e,t,n){const r=e.createOutgoingRequestMessage(rt.INVITE,n);super(Tt,e.userAgentCore,r,t),this.delegate=t,e.signalingStateTransition(r),e.reinviteUserAgentClient=this,this.dialog=e}receiveResponse(e){if(!this.authenticationGuard(e,this.dialog))return;const t=e.statusCode?e.statusCode.toString():"";if(!t)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(t):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(t):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:this.dialog,prack:e=>{throw new Error("Unimplemented.")}});break;case/^2[0-9]{2}$/.test(t):this.dialog.signalingStateTransition(e),this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e,session:this.dialog,ack:e=>this.dialog.ack(e)});break;case/^3[0-9]{2}$/.test(t):this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentClient=void 0,this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(t):this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentClient=void 0,this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error("Invalid status code ".concat(t))}}}class Bt extends _t{constructor(e,t,n){super(yt,e.userAgentCore,t,n),e.reinviteUserAgentServer=this,this.dialog=e}accept(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:200};e.extraHeaders=e.extraHeaders||[],e.extraHeaders=e.extraHeaders.concat(this.dialog.routeSet.map((e=>"Record-Route: ".concat(e))));const t=super.accept(e),n=this.dialog,r=Object.assign(Object.assign({},t),{session:n});return e.body&&this.dialog.signalingStateTransition(e.body),this.dialog.reConfirm(),r}progress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:180};const t=super.progress(e),n=this.dialog,r=Object.assign(Object.assign({},t),{session:n});return e.body&&this.dialog.signalingStateTransition(e.body),r}redirect(e){throw this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentServer=void 0,new Error("Unimplemented.")}reject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:488};return this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentServer=void 0,super.reject(e)}}class Ut extends Pt{constructor(e,t,n){const r=e.createOutgoingRequestMessage(rt.REFER,n);super(wt,e.userAgentCore,r,t)}}class zt extends _t{constructor(e,t,n){const r=function(e){return void 0!==e.userAgentCore}(e)?e.userAgentCore:e;super(jt,r,t,n)}}class Vt extends xt{constructor(e,t,n,r){super(t,n),this.initialTransaction=e,this._signalingState=vt.Initial,this.ackWait=!1,this.ackProcessing=!1,this.delegate=r,e instanceof yt&&(this.ackWait=!0),this.early||this.start2xxRetransmissionTimer(),this.signalingStateTransition(e.request),this.logger=t.loggerFactory.getLogger("sip.invite-dialog"),this.logger.log("INVITE dialog ".concat(this.id," constructed"))}dispose(){super.dispose(),this._signalingState=vt.Closed,this._offer=void 0,this._answer=void 0,this.invite2xxTimer&&(clearTimeout(this.invite2xxTimer),this.invite2xxTimer=void 0),this.logger.log("INVITE dialog ".concat(this.id," destroyed"))}get sessionState(){return this.early?mt.Early:this.ackWait?mt.AckWait:this._signalingState===vt.Closed?mt.Terminated:mt.Confirmed}get signalingState(){return this._signalingState}get offer(){return this._offer}get answer(){return this._answer}confirm(){this.early&&this.start2xxRetransmissionTimer(),super.confirm()}reConfirm(){this.reinviteUserAgentServer&&this.startReInvite2xxRetransmissionTimer()}ack(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.logger.log("INVITE dialog ".concat(this.id," sending ACK request")),this.reinviteUserAgentClient){if(!(this.reinviteUserAgentClient.transaction instanceof Tt))throw new Error("Transaction not instance of InviteClientTransaction.");e=this.reinviteUserAgentClient.transaction,this.reinviteUserAgentClient=void 0}else{if(!(this.initialTransaction instanceof Tt))throw new Error("Initial transaction not instance of InviteClientTransaction.");e=this.initialTransaction}const n=this.createOutgoingRequestMessage(rt.ACK,{cseq:e.request.cseq,extraHeaders:t.extraHeaders,body:t.body});return e.ackResponse(n),this.signalingStateTransition(n),{message:n}}bye(e,t){if(this.logger.log("INVITE dialog ".concat(this.id," sending BYE request")),this.initialTransaction instanceof yt){if(this.early)throw new Error("UAS MUST NOT send a BYE on early dialogs.");if(this.ackWait&&this.initialTransaction.state!==gt.Terminated)throw new Error("UAS MUST NOT send a BYE on a confirmed dialog until it has received an ACK for its 2xx response or until the server transaction times out.")}return new Ct(this,e,t)}info(e,t){if(this.logger.log("INVITE dialog ".concat(this.id," sending INFO request")),this.early)throw new Error("Dialog not confirmed.");return new Dt(this,e,t)}invite(e,t){if(this.logger.log("INVITE dialog ".concat(this.id," sending INVITE request")),this.early)throw new Error("Dialog not confirmed.");if(this.reinviteUserAgentClient)throw new Error("There is an ongoing re-INVITE client transaction.");if(this.reinviteUserAgentServer)throw new Error("There is an ongoing re-INVITE server transaction.");return new Ft(this,e,t)}message(e,t){if(this.logger.log("INVITE dialog ".concat(this.id," sending MESSAGE request")),this.early)throw new Error("Dialog not confirmed.");const n=this.createOutgoingRequestMessage(rt.MESSAGE,t);return new Nt(this.core,n,e)}notify(e,t){if(this.logger.log("INVITE dialog ".concat(this.id," sending NOTIFY request")),this.early)throw new Error("Dialog not confirmed.");return new Ht(this,e,t)}prack(e,t){return this.logger.log("INVITE dialog ".concat(this.id," sending PRACK request")),new Lt(this,e,t)}refer(e,t){if(this.logger.log("INVITE dialog ".concat(this.id," sending REFER request")),this.early)throw new Error("Dialog not confirmed.");return new Ut(this,e,t)}receiveRequest(e){if(this.logger.log("INVITE dialog ".concat(this.id," received ").concat(e.method," request")),e.method!==rt.ACK)if(this.sequenceGuard(e)){if(super.receiveRequest(e),e.method===rt.INVITE){const t=()=>{const e=this.ackWait?"waiting for initial ACK":"processing initial ACK";this.logger.warn("INVITE dialog ".concat(this.id," received re-INVITE while ").concat(e));let t="RFC 5407 suggests the following to avoid this race condition... ";t+=" Note: Implementation issues are outside the scope of this document,",t+=" but the following tip is provided for avoiding race conditions of",t+=" this type.  The caller can delay sending re-INVITE F6 for some period",t+=" of time (2 seconds, perhaps), after which the caller can reasonably",t+=" assume that its ACK has been received.  Implementors can decouple the",t+=" actions of the user (e.g., pressing the hold button) from the actions",t+=" of the protocol (the sending of re-INVITE F6), so that the UA can",t+=" behave like this.  In this case, it is the implementor's choice as to",t+=" how long to wait.  In most cases, such an implementation may be",t+=" useful to prevent the type of race condition shown in this section.",t+=" This document expresses no preference about whether or not they",t+=" should wait for an ACK to be delivered.  After considering the impact",t+=" on user experience, implementors should decide whether or not to wait",t+=" for a while, because the user experience depends on the",t+=" implementation and has no direct bearing on protocol behavior.",this.logger.warn("RFC 5407 suggests the following to avoid this race condition...  Note: Implementation issues are outside the scope of this document, but the following tip is provided for avoiding race conditions of this type.  The caller can delay sending re-INVITE F6 for some period of time (2 seconds, perhaps), after which the caller can reasonably assume that its ACK has been received.  Implementors can decouple the actions of the user (e.g., pressing the hold button) from the actions of the protocol (the sending of re-INVITE F6), so that the UA can behave like this.  In this case, it is the implementor's choice as to how long to wait.  In most cases, such an implementation may be useful to prevent the type of race condition shown in this section. This document expresses no preference about whether or not they should wait for an ACK to be delivered.  After considering the impact on user experience, implementors should decide whether or not to wait for a while, because the user experience depends on the implementation and has no direct bearing on protocol behavior.")},n=Math.floor(10*Math.random())+1,r=["Retry-After: ".concat(n)];if(this.ackProcessing)return this.core.replyStateless(e,{statusCode:500,extraHeaders:r}),void t();if(this.ackWait&&this.signalingState!==vt.Stable)return this.core.replyStateless(e,{statusCode:500,extraHeaders:r}),void t();if(this.reinviteUserAgentServer)return void this.core.replyStateless(e,{statusCode:500,extraHeaders:r});if(this.reinviteUserAgentClient)return void this.core.replyStateless(e,{statusCode:491})}if(e.method===rt.INVITE){const t=e.parseHeader("contact");if(!t)throw new Error("Contact undefined.");if(!(t instanceof Me))throw new Error("Contact not instance of NameAddrHeader.");this.dialogState.remoteTarget=t.uri}switch(e.method){case rt.BYE:{const t=new It(this,e);this.delegate&&this.delegate.onBye?this.delegate.onBye(t):t.accept(),this.dispose()}break;case rt.INFO:{const t=new Rt(this,e);this.delegate&&this.delegate.onInfo?this.delegate.onInfo(t):t.reject({statusCode:469,extraHeaders:["Recv-Info:"]})}break;case rt.INVITE:{const t=new Bt(this,e);this.signalingStateTransition(e),this.delegate&&this.delegate.onInvite?this.delegate.onInvite(t):t.reject({statusCode:488})}break;case rt.MESSAGE:{const t=new Mt(this.core,e);this.delegate&&this.delegate.onMessage?this.delegate.onMessage(t):t.accept()}break;case rt.NOTIFY:{const t=new $t(this,e);this.delegate&&this.delegate.onNotify?this.delegate.onNotify(t):t.accept()}break;case rt.PRACK:{const t=new qt(this,e);this.delegate&&this.delegate.onPrack?this.delegate.onPrack(t):t.accept()}break;case rt.REFER:{const t=new zt(this,e);this.delegate&&this.delegate.onRefer?this.delegate.onRefer(t):t.reject()}break;default:this.logger.log("INVITE dialog ".concat(this.id," received unimplemented ").concat(e.method," request")),this.core.replyStateless(e,{statusCode:501})}}else this.logger.log("INVITE dialog ".concat(this.id," rejected out of order ").concat(e.method," request."));else{if(this.ackWait){if(this.initialTransaction instanceof Tt)return void this.logger.warn("INVITE dialog ".concat(this.id," received unexpected ").concat(e.method," request, dropping."));if(this.initialTransaction.request.cseq!==e.cseq)return void this.logger.warn("INVITE dialog ".concat(this.id," received unexpected ").concat(e.method," request, dropping."));this.ackWait=!1}else{if(!this.reinviteUserAgentServer)return void this.logger.warn("INVITE dialog ".concat(this.id," received unexpected ").concat(e.method," request, dropping."));if(this.reinviteUserAgentServer.transaction.request.cseq!==e.cseq)return void this.logger.warn("INVITE dialog ".concat(this.id," received unexpected ").concat(e.method," request, dropping."));this.reinviteUserAgentServer=void 0}if(this.signalingStateTransition(e),this.delegate&&this.delegate.onAck){const t=this.delegate.onAck({message:e});t instanceof Promise&&(this.ackProcessing=!0,t.then((()=>this.ackProcessing=!1)).catch((()=>this.ackProcessing=!1)))}}}reliableSequenceGuard(e){const t=e.statusCode;if(!t)throw new Error("Status code undefined");if(t>100&&t<200){const t=e.getHeader("require"),n=e.getHeader("rseq"),r=t&&t.includes("100rel")&&n?Number(n):void 0;if(r){if(this.rseq&&this.rseq+1!==r)return!1;this.rseq=this.rseq?this.rseq+1:r}}return!0}signalingStateRollback(){this._signalingState!==vt.HaveLocalOffer&&this.signalingState!==vt.HaveRemoteOffer||this._rollbackOffer&&this._rollbackAnswer&&(this._signalingState=vt.Stable,this._offer=this._rollbackOffer,this._answer=this._rollbackAnswer)}signalingStateTransition(e){const t=Ot(e);if(t&&"session"===t.contentDisposition){if(this._signalingState===vt.Stable&&(this._rollbackOffer=this._offer,this._rollbackAnswer=this._answer),e instanceof Qe)switch(this._signalingState){case vt.Initial:case vt.Stable:this._signalingState=vt.HaveRemoteOffer,this._offer=t,this._answer=void 0;break;case vt.HaveLocalOffer:this._signalingState=vt.Stable,this._answer=t;break;case vt.HaveRemoteOffer:case vt.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof et)switch(this._signalingState){case vt.Initial:case vt.Stable:this._signalingState=vt.HaveRemoteOffer,this._offer=t,this._answer=void 0;break;case vt.HaveLocalOffer:this._signalingState=vt.Stable,this._answer=t;break;case vt.HaveRemoteOffer:case vt.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof at)switch(this._signalingState){case vt.Initial:case vt.Stable:this._signalingState=vt.HaveLocalOffer,this._offer=t,this._answer=void 0;break;case vt.HaveLocalOffer:break;case vt.HaveRemoteOffer:this._signalingState=vt.Stable,this._answer=t;break;case vt.Closed:break;default:throw new Error("Unexpected signaling state.")}if(kt(e))switch(this._signalingState){case vt.Initial:case vt.Stable:this._signalingState=vt.HaveLocalOffer,this._offer=t,this._answer=void 0;break;case vt.HaveLocalOffer:break;case vt.HaveRemoteOffer:this._signalingState=vt.Stable,this._answer=t;break;case vt.Closed:break;default:throw new Error("Unexpected signaling state.")}}}start2xxRetransmissionTimer(){if(this.initialTransaction instanceof yt){const e=this.initialTransaction;let t=ut.T1;const n=()=>{this.ackWait?(this.logger.log("No ACK for 2xx response received, attempting retransmission"),e.retransmitAcceptedResponse(),t=Math.min(2*t,ut.T2),this.invite2xxTimer=setTimeout(n,t)):this.invite2xxTimer=void 0};this.invite2xxTimer=setTimeout(n,t);const r=()=>{e.state===gt.Terminated&&(e.removeStateChangeListener(r),this.invite2xxTimer&&(clearTimeout(this.invite2xxTimer),this.invite2xxTimer=void 0),this.ackWait&&(this.delegate&&this.delegate.onAckTimeout?this.delegate.onAckTimeout():this.bye()))};e.addStateChangeListener(r)}}startReInvite2xxRetransmissionTimer(){if(this.reinviteUserAgentServer&&this.reinviteUserAgentServer.transaction instanceof yt){const e=this.reinviteUserAgentServer.transaction;let t=ut.T1;const n=()=>{this.reinviteUserAgentServer?(this.logger.log("No ACK for 2xx response received, attempting retransmission"),e.retransmitAcceptedResponse(),t=Math.min(2*t,ut.T2),this.invite2xxTimer=setTimeout(n,t)):this.invite2xxTimer=void 0};this.invite2xxTimer=setTimeout(n,t);const r=()=>{e.state===gt.Terminated&&(e.removeStateChangeListener(r),this.invite2xxTimer&&(clearTimeout(this.invite2xxTimer),this.invite2xxTimer=void 0),this.reinviteUserAgentServer)};e.addStateChangeListener(r)}}}class Wt extends Pt{constructor(e,t,n){super(Tt,e,t,n),this.confirmedDialogAcks=new Map,this.confirmedDialogs=new Map,this.earlyDialogs=new Map,this.delegate=n}dispose(){this.earlyDialogs.forEach((e=>e.dispose())),this.earlyDialogs.clear(),super.dispose()}onTransportError(e){if(this.transaction.state===gt.Calling)return super.onTransportError(e);this.logger.error(e.message),this.logger.error("User agent client request transport error while sending ACK.")}receiveResponse(e){if(!this.authenticationGuard(e))return;const t=e.statusCode?e.statusCode.toString():"";if(!t)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(t):return void(this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e}));case/^1[0-9]{2}$/.test(t):{if(!e.toTag)return void this.logger.warn("Non-100 1xx INVITE response received without a to tag, dropping.");if(!e.parseHeader("contact"))return void this.logger.error("Non-100 1xx INVITE response received without a Contact header field, dropping.");const t=xt.initialDialogStateForUserAgentClient(this.message,e);let n=this.earlyDialogs.get(t.id);if(!n){const e=this.transaction;if(!(e instanceof Tt))throw new Error("Transaction not instance of InviteClientTransaction.");n=new Vt(e,this.core,t),this.earlyDialogs.set(n.id,n)}if(!n.reliableSequenceGuard(e))return void this.logger.warn("1xx INVITE reliable response received out of order or is a retransmission, dropping.");n.signalingState!==vt.Initial&&n.signalingState!==vt.HaveLocalOffer||n.signalingStateTransition(e);const r=n;this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:r,prack:e=>r.prack(void 0,e)})}return;case/^2[0-9]{2}$/.test(t):{if(!e.toTag)return void this.logger.error("2xx INVITE response received without a to tag, dropping.");if(!e.parseHeader("contact"))return void this.logger.error("2xx INVITE response received without a Contact header field, dropping.");const t=xt.initialDialogStateForUserAgentClient(this.message,e);let n=this.confirmedDialogs.get(t.id);if(n){const e=this.confirmedDialogAcks.get(t.id);if(e){const t=this.transaction;if(!(t instanceof Tt))throw new Error("Client transaction not instance of InviteClientTransaction.");t.ackResponse(e.message)}return}if(n=this.earlyDialogs.get(t.id),n)n.confirm(),n.recomputeRouteSet(e),this.earlyDialogs.delete(n.id),this.confirmedDialogs.set(n.id,n);else{const e=this.transaction;if(!(e instanceof Tt))throw new Error("Transaction not instance of InviteClientTransaction.");n=new Vt(e,this.core,t),this.confirmedDialogs.set(n.id,n)}n.signalingState!==vt.Initial&&n.signalingState!==vt.HaveLocalOffer||n.signalingStateTransition(e);const r=n;if(this.delegate&&this.delegate.onAccept)this.delegate.onAccept({message:e,session:r,ack:e=>{const t=r.ack(e);return this.confirmedDialogAcks.set(r.id,t),t}});else{const e=r.ack();this.confirmedDialogAcks.set(r.id,e)}}return;case/^3[0-9]{2}$/.test(t):return this.earlyDialogs.forEach((e=>e.dispose())),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e}));case/^[4-6][0-9]{2}$/.test(t):return this.earlyDialogs.forEach((e=>e.dispose())),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e}));default:throw new Error("Invalid status code ".concat(t))}throw new Error("Executing what should be an unreachable code path receiving ".concat(t," response."))}}const Gt=[rt.ACK,rt.BYE,rt.CANCEL,rt.INFO,rt.INVITE,rt.MESSAGE,rt.NOTIFY,rt.OPTIONS,rt.PRACK,rt.REFER,rt.REGISTER,rt.SUBSCRIBE];class Kt extends _t{constructor(e,t,n){super(yt,e,t,n),this.core=e}dispose(){this.earlyDialog&&this.earlyDialog.dispose(),super.dispose()}accept(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:200};if(!this.acceptable)throw new At("".concat(this.message.method," not acceptable in state ").concat(this.transaction.state,"."));if(!this.confirmedDialog)if(this.earlyDialog)this.earlyDialog.confirm(),this.confirmedDialog=this.earlyDialog,this.earlyDialog=void 0;else{const e=this.transaction;if(!(e instanceof yt))throw new Error("Transaction not instance of InviteClientTransaction.");const t=xt.initialDialogStateForUserAgentServer(this.message,this.toTag);this.confirmedDialog=new Vt(e,this.core,t)}const t=this.message.getHeaders("record-route").map((e=>"Record-Route: ".concat(e))),n="Contact: ".concat(this.core.configuration.contact.toString()),r="Allow: "+Gt.toString();if(!e.body)if(this.confirmedDialog.signalingState===vt.Stable)e.body=this.confirmedDialog.answer;else if(this.confirmedDialog.signalingState===vt.Initial||this.confirmedDialog.signalingState===vt.HaveRemoteOffer)throw new Error("Response must have a body.");e.statusCode=e.statusCode||200,e.extraHeaders=e.extraHeaders||[],e.extraHeaders=e.extraHeaders.concat(t),e.extraHeaders.push(r),e.extraHeaders.push(n);const i=super.accept(e),o=this.confirmedDialog,a=Object.assign(Object.assign({},i),{session:o});return e.body&&this.confirmedDialog.signalingState!==vt.Stable&&this.confirmedDialog.signalingStateTransition(e.body),a}progress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:180};if(!this.progressable)throw new At("".concat(this.message.method," not progressable in state ").concat(this.transaction.state,"."));if(!this.earlyDialog){const e=this.transaction;if(!(e instanceof yt))throw new Error("Transaction not instance of InviteClientTransaction.");const t=xt.initialDialogStateForUserAgentServer(this.message,this.toTag,!0);this.earlyDialog=new Vt(e,this.core,t)}const t=this.message.getHeaders("record-route").map((e=>"Record-Route: ".concat(e))),n="Contact: ".concat(this.core.configuration.contact);e.extraHeaders=e.extraHeaders||[],e.extraHeaders=e.extraHeaders.concat(t),e.extraHeaders.push(n);const r=super.progress(e),i=this.earlyDialog,o=Object.assign(Object.assign({},r),{session:i});return e.body&&this.earlyDialog.signalingState!==vt.Stable&&this.earlyDialog.signalingStateTransition(e.body),o}redirect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{statusCode:302};return super.redirect(e,t)}reject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:486};return super.reject(e)}}class Yt extends Pt{constructor(e,t,n){super(wt,e,t,n)}}class Xt extends Pt{constructor(e,t,n){super(wt,e,t,n)}}class Jt extends _t{constructor(e,t,n){super(jt,e,t,n),this.core=e}}var Zt;!function(e){e.Initial="Initial",e.NotifyWait="NotifyWait",e.Pending="Pending",e.Active="Active",e.Terminated="Terminated"}(Zt=Zt||(Zt={}));class Qt extends Pt{constructor(e,t,n){const r=e.createOutgoingRequestMessage(rt.SUBSCRIBE,n);super(wt,e.userAgentCore,r,t),this.dialog=e}waitNotifyStop(){}receiveResponse(e){if(e.statusCode&&e.statusCode>=200&&e.statusCode<300){const t=e.getHeader("Expires");if(t){const e=Number(t);this.dialog.subscriptionExpires>e&&(this.dialog.subscriptionExpires=e)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE")}if(e.statusCode&&e.statusCode>=400&&e.statusCode<700){[404,405,410,416,480,481,482,483,484,485,489,501,604].includes(e.statusCode)&&this.dialog.terminate()}super.receiveResponse(e)}}class en extends xt{constructor(e,t,n,r,i,o){super(r,i),this.delegate=o,this._autoRefresh=!1,this._subscriptionEvent=e,this._subscriptionExpires=t,this._subscriptionExpiresInitial=t,this._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),this._subscriptionRefresh=void 0,this._subscriptionRefreshLastSet=void 0,this._subscriptionState=n,this.logger=r.loggerFactory.getLogger("sip.subscribe-dialog"),this.logger.log("SUBSCRIBE dialog ".concat(this.id," constructed"))}static initialDialogStateForSubscription(e,t){const n=t.getHeaders("record-route"),r=t.parseHeader("contact");if(!r)throw new Error("Contact undefined.");if(!(r instanceof Me))throw new Error("Contact not instance of NameAddrHeader.");const i=r.uri,o=e.cseq,a=e.callId,s=e.fromTag,c=t.fromTag;if(!a)throw new Error("Call id undefined.");if(!s)throw new Error("From tag undefined.");if(!c)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");return{id:a+s+c,early:!1,callId:a,localTag:s,remoteTag:c,localSequenceNumber:o,remoteSequenceNumber:undefined,localURI:e.from.uri,remoteURI:e.to.uri,remoteTarget:i,routeSet:n,secure:!1}}dispose(){super.dispose(),this.N&&(clearTimeout(this.N),this.N=void 0),this.refreshTimerClear(),this.logger.log("SUBSCRIBE dialog ".concat(this.id," destroyed"))}get autoRefresh(){return this._autoRefresh}set autoRefresh(e){this._autoRefresh=!0,this.refreshTimerSet()}get subscriptionEvent(){return this._subscriptionEvent}get subscriptionExpires(){const e=Math.floor(Date.now()/1e3)-this._subscriptionExpiresLastSet,t=this._subscriptionExpires-e;return Math.max(t,0)}set subscriptionExpires(e){if(e<0)throw new Error("Expires must be greater than or equal to zero.");if(this._subscriptionExpires=e,this._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),this.autoRefresh){const t=this.subscriptionRefresh;(void 0===t||t>=e)&&this.refreshTimerSet()}}get subscriptionExpiresInitial(){return this._subscriptionExpiresInitial}get subscriptionRefresh(){if(void 0===this._subscriptionRefresh||void 0===this._subscriptionRefreshLastSet)return;const e=Math.floor(Date.now()/1e3)-this._subscriptionRefreshLastSet,t=this._subscriptionRefresh-e;return Math.max(t,0)}get subscriptionState(){return this._subscriptionState}receiveRequest(e){if(this.logger.log("SUBSCRIBE dialog ".concat(this.id," received ").concat(e.method," request")),this.sequenceGuard(e))if(super.receiveRequest(e),e.method===rt.NOTIFY)this.onNotify(e);else this.logger.log("SUBSCRIBE dialog ".concat(this.id," received unimplemented ").concat(e.method," request")),this.core.replyStateless(e,{statusCode:501});else this.logger.log("SUBSCRIBE dialog ".concat(this.id," rejected out of order ").concat(e.method," request."))}refresh(){const e="Allow: "+Gt.toString(),t={};return t.extraHeaders=(t.extraHeaders||[]).slice(),t.extraHeaders.push(e),t.extraHeaders.push("Event: "+this.subscriptionEvent),t.extraHeaders.push("Expires: "+this.subscriptionExpiresInitial),t.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,t)}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;if(this.subscriptionState!==Zt.Pending&&this.subscriptionState!==Zt.Active)throw new Error("Invalid state ".concat(this.subscriptionState,'. May only re-subscribe while in state "pending" or "active".'));this.logger.log("SUBSCRIBE dialog ".concat(this.id," sending SUBSCRIBE request"));const r=new Qt(this,e,t);return this.N&&(clearTimeout(this.N),this.N=void 0),(null===(n=t.extraHeaders)||void 0===n?void 0:n.includes("Expires: 0"))||(this.N=setTimeout((()=>this.timerN()),ut.TIMER_N)),r}terminate(){this.stateTransition(Zt.Terminated),this.onTerminated()}unsubscribe(){const e="Allow: "+Gt.toString(),t={};return t.extraHeaders=(t.extraHeaders||[]).slice(),t.extraHeaders.push(e),t.extraHeaders.push("Event: "+this.subscriptionEvent),t.extraHeaders.push("Expires: 0"),t.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,t)}onNotify(e){const t=e.parseHeader("Event").event;if(!t||t!==this.subscriptionEvent)return void this.core.replyStateless(e,{statusCode:489});this.N&&(clearTimeout(this.N),this.N=void 0);const n=e.parseHeader("Subscription-State");if(!n||!n.state)return void this.core.replyStateless(e,{statusCode:489});const r=n.state,i=n.expires?Math.max(n.expires,0):void 0;switch(r){case"pending":this.stateTransition(Zt.Pending,i);break;case"active":this.stateTransition(Zt.Active,i);break;case"terminated":this.stateTransition(Zt.Terminated,i);break;default:this.logger.warn("Unrecognized subscription state.")}const o=new $t(this,e);this.delegate&&this.delegate.onNotify?this.delegate.onNotify(o):o.accept()}onRefresh(e){this.delegate&&this.delegate.onRefresh&&this.delegate.onRefresh(e)}onTerminated(){this.delegate&&this.delegate.onTerminated&&this.delegate.onTerminated()}refreshTimerClear(){this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=void 0)}refreshTimerSet(){if(this.refreshTimerClear(),this.autoRefresh&&this.subscriptionExpires>0){const e=900*this.subscriptionExpires;this._subscriptionRefresh=Math.floor(e/1e3),this._subscriptionRefreshLastSet=Math.floor(Date.now()/1e3),this.refreshTimer=setTimeout((()=>{this.refreshTimer=void 0,this._subscriptionRefresh=void 0,this._subscriptionRefreshLastSet=void 0,this.onRefresh(this.refresh())}),e)}}stateTransition(e,t){const n=()=>{this.logger.warn("Invalid subscription state transition from ".concat(this.subscriptionState," to ").concat(e))};switch(e){case Zt.Initial:case Zt.NotifyWait:return void n();case Zt.Pending:if(this.subscriptionState!==Zt.NotifyWait&&this.subscriptionState!==Zt.Pending)return void n();break;case Zt.Active:case Zt.Terminated:if(this.subscriptionState!==Zt.NotifyWait&&this.subscriptionState!==Zt.Pending&&this.subscriptionState!==Zt.Active)return void n();break;default:return void n()}e===Zt.Pending&&t&&(this.subscriptionExpires=t),e===Zt.Active&&t&&(this.subscriptionExpires=t),e===Zt.Terminated&&this.dispose(),this._subscriptionState=e}timerN(){this.logger.warn("Timer N expired for SUBSCRIBE dialog. Timed out waiting for NOTIFY."),this.subscriptionState!==Zt.Terminated&&(this.stateTransition(Zt.Terminated),this.onTerminated())}}class tn extends Pt{constructor(e,t,n){const r=t.getHeader("Event");if(!r)throw new Error("Event undefined");const i=t.getHeader("Expires");if(!i)throw new Error("Expires undefined");super(wt,e,t,n),this.delegate=n,this.subscriberId=t.callId+t.fromTag+r,this.subscriptionExpiresRequested=this.subscriptionExpires=Number(i),this.subscriptionEvent=r,this.subscriptionState=Zt.NotifyWait,this.waitNotifyStart()}dispose(){super.dispose()}onNotify(e){const t=e.message.parseHeader("Event").event;if(!t||t!==this.subscriptionEvent)return this.logger.warn("Failed to parse event."),void e.reject({statusCode:489});const n=e.message.parseHeader("Subscription-State");if(!n||!n.state)return this.logger.warn("Failed to parse subscription state."),void e.reject({statusCode:489});const r=n.state;switch(r){case"pending":case"active":case"terminated":break;default:return this.logger.warn("Invalid subscription state ".concat(r)),void e.reject({statusCode:489})}if("terminated"!==r){if(!e.message.parseHeader("contact"))return this.logger.warn("Failed to parse contact."),void e.reject({statusCode:489})}if(this.dialog)throw new Error("Dialog already created. This implementation only supports install of single subscriptions.");switch(this.waitNotifyStop(),this.subscriptionExpires=n.expires?Math.min(this.subscriptionExpires,Math.max(n.expires,0)):this.subscriptionExpires,r){case"pending":this.subscriptionState=Zt.Pending;break;case"active":this.subscriptionState=Zt.Active;break;case"terminated":this.subscriptionState=Zt.Terminated;break;default:throw new Error("Unrecognized state ".concat(r,"."))}if(this.subscriptionState!==Zt.Terminated){const t=en.initialDialogStateForSubscription(this.message,e.message);this.dialog=new en(this.subscriptionEvent,this.subscriptionExpires,this.subscriptionState,this.core,t)}if(this.delegate&&this.delegate.onNotify){const t=e,n=this.dialog;this.delegate.onNotify({request:t,subscription:n})}else e.accept()}waitNotifyStart(){this.N||(this.core.subscribers.set(this.subscriberId,this),this.N=setTimeout((()=>this.timerN()),ut.TIMER_N))}waitNotifyStop(){this.N&&(this.core.subscribers.delete(this.subscriberId),clearTimeout(this.N),this.N=void 0)}receiveResponse(e){if(this.authenticationGuard(e)){if(e.statusCode&&e.statusCode>=200&&e.statusCode<300){const t=e.getHeader("Expires");if(t){const e=Number(t);e>this.subscriptionExpiresRequested&&this.logger.warn("Expires header in a 200-class response to SUBSCRIBE with a higher value than the one in the request"),e<this.subscriptionExpires&&(this.subscriptionExpires=e)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE");this.dialog&&this.dialog.subscriptionExpires>this.subscriptionExpires&&(this.dialog.subscriptionExpires=this.subscriptionExpires)}e.statusCode&&e.statusCode>=300&&e.statusCode<700&&this.waitNotifyStop(),super.receiveResponse(e)}}timerN(){this.logger.warn("Timer N expired for SUBSCRIBE user agent client. Timed out waiting for NOTIFY."),this.waitNotifyStop(),this.delegate&&this.delegate.onNotifyTimeout&&this.delegate.onNotifyTimeout()}}class nn extends _t{constructor(e,t,n){super(jt,e,t,n),this.core=e}}const rn=["application/sdp","application/dtmf-relay"];class on{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.userAgentClients=new Map,this.userAgentServers=new Map,this.configuration=e,this.delegate=t,this.dialogs=new Map,this.subscribers=new Map,this.logger=e.loggerFactory.getLogger("sip.user-agent-core")}dispose(){this.reset()}reset(){this.dialogs.forEach((e=>e.dispose())),this.dialogs.clear(),this.subscribers.forEach((e=>e.dispose())),this.subscribers.clear(),this.userAgentClients.forEach((e=>e.dispose())),this.userAgentClients.clear(),this.userAgentServers.forEach((e=>e.dispose())),this.userAgentServers.clear()}get loggerFactory(){return this.configuration.loggerFactory}get transport(){const e=this.configuration.transportAccessor();if(!e)throw new Error("Transport undefined.");return e}invite(e,t){return new Wt(this,e,t)}message(e,t){return new Nt(this,e,t)}publish(e,t){return new Yt(this,e,t)}register(e,t){return new Xt(this,e,t)}subscribe(e,t){return new tn(this,e,t)}request(e,t){return new Pt(wt,this,e,t)}makeOutgoingRequestMessage(e,t,n,r,i,o,a){const s=this.configuration.sipjsId,c=this.configuration.displayName,l=this.configuration.viaForceRport,u=this.configuration.hackViaTcp,d=this.configuration.supportedOptionTags.slice();e===rt.REGISTER&&d.push("path","gruu"),e===rt.INVITE&&(this.configuration.contact.pubGruu||this.configuration.contact.tempGruu)&&d.push("gruu");const h={callIdPrefix:s,forceRport:l,fromDisplayName:c,hackViaTcp:u,optionTags:d,routeSet:this.configuration.routeSet,userAgentString:this.configuration.userAgentHeaderFieldValue,viaHost:this.configuration.viaHost},f=Object.assign(Object.assign({},h),i);return new at(e,t,n,r,f,o,a)}receiveIncomingRequestFromTransport(e){this.receiveRequestFromTransport(e)}receiveIncomingResponseFromTransport(e){this.receiveResponseFromTransport(e)}replyStateless(e,t){const n=this.configuration.userAgentHeaderFieldValue,r=this.configuration.supportedOptionTagsResponse;t=Object.assign(Object.assign({},t),{userAgent:n,supported:r});const i=st(e,t);return this.transport.send(i.message).catch((t=>{t instanceof Error&&this.logger.error(t.message),this.logger.error("Transport error occurred sending stateless reply to ".concat(e.method," request."))})),i}receiveRequestFromTransport(e){const t=e.viaBranch,n=this.userAgentServers.get(t);e.method===rt.ACK&&n&&n.transaction.state===gt.Accepted&&n instanceof Kt?this.logger.warn("Discarding out of dialog ACK after 2xx response sent on transaction ".concat(t,".")):e.method!==rt.CANCEL?n?n.transaction.receiveRequest(e):this.receiveRequest(e):n?(this.replyStateless(e,{statusCode:200}),n.transaction instanceof yt&&n.transaction.state===gt.Proceeding&&n instanceof Kt&&n.receiveCancel(e)):this.replyStateless(e,{statusCode:481})}receiveRequest(e){if(!Gt.includes(e.method)){const t="Allow: "+Gt.toString();return void this.replyStateless(e,{statusCode:405,extraHeaders:[t]})}if(!e.ruri)throw new Error("Request-URI undefined.");if("sip"!==e.ruri.scheme)return void this.replyStateless(e,{statusCode:416});const t=e.ruri,n=e=>!!e&&e.user===t.user;if(!n(this.configuration.aor)&&!(n(this.configuration.contact.uri)||n(this.configuration.contact.pubGruu)||n(this.configuration.contact.tempGruu)))return this.logger.warn("Request-URI does not point to us."),void(e.method!==rt.ACK&&this.replyStateless(e,{statusCode:404}));if(e.method!==rt.INVITE||e.hasHeader("Contact")){if(!e.toTag){const t=e.viaBranch;if(!this.userAgentServers.has(t)){if(Array.from(this.userAgentServers.values()).some((t=>t.transaction.request.fromTag===e.fromTag&&t.transaction.request.callId===e.callId&&t.transaction.request.cseq===e.cseq)))return void this.replyStateless(e,{statusCode:482})}}e.toTag?this.receiveInsideDialogRequest(e):this.receiveOutsideDialogRequest(e)}else this.replyStateless(e,{statusCode:400,reasonPhrase:"Missing Contact Header"})}receiveInsideDialogRequest(e){if(e.method===rt.NOTIFY){const t=e.parseHeader("Event");if(!t||!t.event)return void this.replyStateless(e,{statusCode:489});const n=e.callId+e.toTag+t.event,r=this.subscribers.get(n);if(r){const t=new $t(this,e);return void r.onNotify(t)}}const t=e.callId+e.toTag+e.fromTag,n=this.dialogs.get(t);if(n){if(e.method===rt.OPTIONS){const t="Allow: "+Gt.toString(),n="Accept: "+rn.toString();return void this.replyStateless(e,{statusCode:200,extraHeaders:[t,n]})}n.receiveRequest(e)}else e.method!==rt.ACK&&this.replyStateless(e,{statusCode:481})}receiveOutsideDialogRequest(e){switch(e.method){case rt.ACK:break;case rt.BYE:this.replyStateless(e,{statusCode:481});break;case rt.CANCEL:throw new Error("Unexpected out of dialog request method ".concat(e.method,"."));case rt.INFO:this.replyStateless(e,{statusCode:405});break;case rt.INVITE:{const t=new Kt(this,e);this.delegate.onInvite?this.delegate.onInvite(t):t.reject()}break;case rt.MESSAGE:{const t=new Mt(this,e);this.delegate.onMessage?this.delegate.onMessage(t):t.accept()}break;case rt.NOTIFY:{const t=new $t(this,e);this.delegate.onNotify?this.delegate.onNotify(t):t.reject({statusCode:405})}break;case rt.OPTIONS:{const t="Allow: "+Gt.toString(),n="Accept: "+rn.toString();this.replyStateless(e,{statusCode:200,extraHeaders:[t,n]})}break;case rt.REFER:{const t=new zt(this,e);this.delegate.onRefer?this.delegate.onRefer(t):t.reject({statusCode:405})}break;case rt.REGISTER:{const t=new Jt(this,e);this.delegate.onRegister?this.delegate.onRegister(t):t.reject({statusCode:405})}break;case rt.SUBSCRIBE:{const t=new nn(this,e);this.delegate.onSubscribe?this.delegate.onSubscribe(t):t.reject({statusCode:480})}break;default:throw new Error("Unexpected out of dialog request method ".concat(e.method,"."))}}receiveResponseFromTransport(e){if(e.getHeaders("via").length>1)return void this.logger.warn("More than one Via header field present in the response, dropping");const t=e.viaBranch+e.method,n=this.userAgentClients.get(t);n?n.transaction.receiveResponse(e):this.logger.warn("Discarding unmatched ".concat(e.statusCode," response to ").concat(e.method," ").concat(t,"."))}}class an{constructor(e,t,n){e.debug("SessionDescriptionHandler.constructor"),this.logger=e,this.mediaStreamFactory=t,this.sessionDescriptionHandlerConfiguration=n,this._localMediaStream=new MediaStream,this._remoteMediaStream=new MediaStream,this._peerConnection=new RTCPeerConnection(null===n||void 0===n?void 0:n.peerConnectionConfiguration),this.initPeerConnectionEventHandlers()}get localMediaStream(){return this._localMediaStream}get remoteMediaStream(){return this._remoteMediaStream}get dataChannel(){return this._dataChannel}get peerConnection(){return this._peerConnection}get peerConnectionDelegate(){return this._peerConnectionDelegate}set peerConnectionDelegate(e){this._peerConnectionDelegate=e}static dispatchAddTrackEvent(e,t){e.dispatchEvent(new MediaStreamTrackEvent("addtrack",{track:t}))}static dispatchRemoveTrackEvent(e,t){e.dispatchEvent(new MediaStreamTrackEvent("removetrack",{track:t}))}close(){this.logger.debug("SessionDescriptionHandler.close"),void 0!==this._peerConnection&&(this._peerConnection.getReceivers().forEach((e=>{e.track&&e.track.stop()})),this._peerConnection.getSenders().forEach((e=>{e.track&&e.track.stop()})),this._dataChannel&&this._dataChannel.close(),this._peerConnection.close(),this._peerConnection=void 0)}enableReceiverTracks(e){const t=this.peerConnection;if(!t)throw new Error("Peer connection closed.");t.getReceivers().forEach((t=>{t.track&&(t.track.enabled=e)}))}enableSenderTracks(e){const t=this.peerConnection;if(!t)throw new Error("Peer connection closed.");t.getSenders().forEach((t=>{t.track&&(t.track.enabled=e)}))}getDescription(e,t){var n,r;if(this.logger.debug("SessionDescriptionHandler.getDescription"),void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));this.onDataChannel=null===e||void 0===e?void 0:e.onDataChannel;const i=null===(n=null===e||void 0===e?void 0:e.offerOptions)||void 0===n?void 0:n.iceRestart,o=void 0===(null===e||void 0===e?void 0:e.iceGatheringTimeout)?null===(r=this.sessionDescriptionHandlerConfiguration)||void 0===r?void 0:r.iceGatheringTimeout:null===e||void 0===e?void 0:e.iceGatheringTimeout;return this.getLocalMediaStream(e).then((()=>this.updateDirection(e))).then((()=>this.createDataChannel(e))).then((()=>this.createLocalOfferOrAnswer(e))).then((e=>this.applyModifiers(e,t))).then((e=>this.setLocalSessionDescription(e))).then((()=>this.waitForIceGatheringComplete(i,o))).then((()=>this.getLocalSessionDescription())).then((e=>({body:e.sdp,contentType:"application/sdp"}))).catch((e=>{throw this.logger.error("SessionDescriptionHandler.getDescription failed - "+e),e}))}hasDescription(e){return this.logger.debug("SessionDescriptionHandler.hasDescription"),"application/sdp"===e}iceGatheringComplete(){this.logger.debug("SessionDescriptionHandler.iceGatheringComplete"),void 0!==this.iceGatheringCompleteTimeoutId&&(this.logger.debug("SessionDescriptionHandler.iceGatheringComplete - clearing timeout"),clearTimeout(this.iceGatheringCompleteTimeoutId),this.iceGatheringCompleteTimeoutId=void 0),void 0!==this.iceGatheringCompletePromise&&(this.logger.debug("SessionDescriptionHandler.iceGatheringComplete - resolving promise"),this.iceGatheringCompleteResolve&&this.iceGatheringCompleteResolve(),this.iceGatheringCompletePromise=void 0,this.iceGatheringCompleteResolve=void 0,this.iceGatheringCompleteReject=void 0)}sendDtmf(e,t){if(this.logger.debug("SessionDescriptionHandler.sendDtmf"),void 0===this._peerConnection)return this.logger.error("SessionDescriptionHandler.sendDtmf failed - peer connection closed"),!1;const n=this._peerConnection.getSenders();if(0===n.length)return this.logger.error("SessionDescriptionHandler.sendDtmf failed - no senders"),!1;const r=n[0].dtmf;if(!r)return this.logger.error("SessionDescriptionHandler.sendDtmf failed - no DTMF sender"),!1;const i=null===t||void 0===t?void 0:t.duration,o=null===t||void 0===t?void 0:t.interToneGap;try{r.insertDTMF(e,i,o)}catch(cE){return this.logger.error(cE.toString()),!1}return this.logger.log("SessionDescriptionHandler.sendDtmf sent via RTP: "+e.toString()),!0}setDescription(e,t,n){if(this.logger.debug("SessionDescriptionHandler.setDescription"),void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));this.onDataChannel=null===t||void 0===t?void 0:t.onDataChannel;const r="have-local-offer"===this._peerConnection.signalingState?"answer":"offer";return this.getLocalMediaStream(t).then((()=>this.applyModifiers({sdp:e,type:r},n))).then((e=>this.setRemoteSessionDescription(e))).catch((e=>{throw this.logger.error("SessionDescriptionHandler.setDescription failed - "+e),e}))}applyModifiers(e,t){return this.logger.debug("SessionDescriptionHandler.applyModifiers"),t&&0!==t.length?t.reduce(((e,t)=>e.then(t)),Promise.resolve(e)).then((e=>{if(this.logger.debug("SessionDescriptionHandler.applyModifiers - modified sdp"),!e.sdp||!e.type)throw new Error("Invalid SDP.");return{sdp:e.sdp,type:e.type}})):Promise.resolve(e)}createDataChannel(e){if(void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));if(!0!==(null===e||void 0===e?void 0:e.dataChannel))return Promise.resolve();if(this._dataChannel)return Promise.resolve();switch(this._peerConnection.signalingState){case"stable":this.logger.debug("SessionDescriptionHandler.createDataChannel - creating data channel");try{return this._dataChannel=this._peerConnection.createDataChannel((null===e||void 0===e?void 0:e.dataChannelLabel)||"",null===e||void 0===e?void 0:e.dataChannelOptions),this.onDataChannel&&this.onDataChannel(this._dataChannel),Promise.resolve()}catch(t){return Promise.reject(t)}case"have-remote-offer":return Promise.resolve();default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}}createLocalOfferOrAnswer(e){if(void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));switch(this._peerConnection.signalingState){case"stable":return this.logger.debug("SessionDescriptionHandler.createLocalOfferOrAnswer - creating SDP offer"),this._peerConnection.createOffer(null===e||void 0===e?void 0:e.offerOptions);case"have-remote-offer":return this.logger.debug("SessionDescriptionHandler.createLocalOfferOrAnswer - creating SDP answer"),this._peerConnection.createAnswer(null===e||void 0===e?void 0:e.answerOptions);default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}}getLocalMediaStream(e){if(this.logger.debug("SessionDescriptionHandler.getLocalMediaStream"),void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));let t=Object.assign({},null===e||void 0===e?void 0:e.constraints);if(this.localMediaStreamConstraints){if(t.audio=t.audio||this.localMediaStreamConstraints.audio,t.video=t.video||this.localMediaStreamConstraints.video,JSON.stringify(this.localMediaStreamConstraints.audio)===JSON.stringify(t.audio)&&JSON.stringify(this.localMediaStreamConstraints.video)===JSON.stringify(t.video))return Promise.resolve()}else void 0===t.audio&&void 0===t.video&&(t={audio:!0});return this.localMediaStreamConstraints=t,this.mediaStreamFactory(t,this,e).then((e=>this.setLocalMediaStream(e)))}setLocalMediaStream(e){if(this.logger.debug("SessionDescriptionHandler.setLocalMediaStream"),!this._peerConnection)throw new Error("Peer connection undefined.");const t=this._peerConnection,n=this._localMediaStream,r=[],i=e=>{const i=e.kind;if("audio"!==i&&"video"!==i)throw new Error("Unknown new track kind ".concat(i,"."));const o=t.getSenders().find((e=>e.track&&e.track.kind===i));o?r.push(new Promise((e=>{this.logger.debug("SessionDescriptionHandler.setLocalMediaStream - replacing sender ".concat(i," track")),e()})).then((()=>o.replaceTrack(e).then((()=>{const t=n.getTracks().find((e=>e.kind===i));t&&(t.stop(),n.removeTrack(t),an.dispatchRemoveTrackEvent(n,t)),n.addTrack(e),an.dispatchAddTrackEvent(n,e)})).catch((e=>{throw this.logger.error("SessionDescriptionHandler.setLocalMediaStream - failed to replace sender ".concat(i," track")),e}))))):r.push(new Promise((e=>{this.logger.debug("SessionDescriptionHandler.setLocalMediaStream - adding sender ".concat(i," track")),e()})).then((()=>{try{t.addTrack(e,n)}catch(r){throw this.logger.error("SessionDescriptionHandler.setLocalMediaStream - failed to add sender ".concat(i," track")),r}n.addTrack(e),an.dispatchAddTrackEvent(n,e)})))},o=e.getAudioTracks();o.length&&i(o[0]);const a=e.getVideoTracks();return a.length&&i(a[0]),r.reduce(((e,t)=>e.then((()=>t))),Promise.resolve())}getLocalSessionDescription(){if(this.logger.debug("SessionDescriptionHandler.getLocalSessionDescription"),void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));const e=this._peerConnection.localDescription;return e?Promise.resolve(e):Promise.reject(new Error("Failed to get local session description"))}setLocalSessionDescription(e){return this.logger.debug("SessionDescriptionHandler.setLocalSessionDescription"),void 0===this._peerConnection?Promise.reject(new Error("Peer connection closed.")):this._peerConnection.setLocalDescription(e)}setRemoteSessionDescription(e){if(this.logger.debug("SessionDescriptionHandler.setRemoteSessionDescription"),void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));const t=e.sdp;let n;switch(this._peerConnection.signalingState){case"stable":n="offer";break;case"have-local-offer":n="answer";break;default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}return t?this._peerConnection.setRemoteDescription({sdp:t,type:n}):(this.logger.error("SessionDescriptionHandler.setRemoteSessionDescription failed - cannot set null sdp"),Promise.reject(new Error("SDP is undefined")))}setRemoteTrack(e){this.logger.debug("SessionDescriptionHandler.setRemoteTrack");const t=this._remoteMediaStream;t.getTrackById(e.id)?this.logger.debug("SessionDescriptionHandler.setRemoteTrack - have remote ".concat(e.kind," track")):"audio"===e.kind?(this.logger.debug("SessionDescriptionHandler.setRemoteTrack - adding remote ".concat(e.kind," track")),t.getAudioTracks().forEach((e=>{e.stop(),t.removeTrack(e),an.dispatchRemoveTrackEvent(t,e)})),t.addTrack(e),an.dispatchAddTrackEvent(t,e)):"video"===e.kind&&(this.logger.debug("SessionDescriptionHandler.setRemoteTrack - adding remote ".concat(e.kind," track")),t.getVideoTracks().forEach((e=>{e.stop(),t.removeTrack(e),an.dispatchRemoveTrackEvent(t,e)})),t.addTrack(e),an.dispatchAddTrackEvent(t,e))}updateDirection(e){if(void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));switch(this._peerConnection.signalingState){case"stable":this.logger.debug("SessionDescriptionHandler.updateDirection - setting offer direction");{const t=t=>{switch(t){case"inactive":case"recvonly":return(null===e||void 0===e?void 0:e.hold)?"inactive":"recvonly";case"sendonly":case"sendrecv":return(null===e||void 0===e?void 0:e.hold)?"sendonly":"sendrecv";case"stopped":return"stopped";default:throw new Error("Should never happen")}};this._peerConnection.getTransceivers().forEach((e=>{if(e.direction){const n=t(e.direction);e.direction!==n&&(e.direction=n)}}))}break;case"have-remote-offer":this.logger.debug("SessionDescriptionHandler.updateDirection - setting answer direction");{const t=(()=>{const e=this._peerConnection.remoteDescription;if(!e)throw new Error("Failed to read remote offer");const t=/a=sendrecv\r\n|a=sendonly\r\n|a=recvonly\r\n|a=inactive\r\n/.exec(e.sdp);if(t)switch(t[0]){case"a=inactive\r\n":return"inactive";case"a=recvonly\r\n":return"recvonly";case"a=sendonly\r\n":return"sendonly";case"a=sendrecv\r\n":return"sendrecv";default:throw new Error("Should never happen")}return"sendrecv"})(),n=(()=>{switch(t){case"inactive":return"inactive";case"recvonly":return"sendonly";case"sendonly":return(null===e||void 0===e?void 0:e.hold)?"inactive":"recvonly";case"sendrecv":return(null===e||void 0===e?void 0:e.hold)?"sendonly":"sendrecv";default:throw new Error("Should never happen")}})();this._peerConnection.getTransceivers().forEach((e=>{e.direction&&"stopped"!==e.direction&&e.direction!==n&&(e.direction=n)}))}break;default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}return Promise.resolve()}waitForIceGatheringComplete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete"),void 0===this._peerConnection?Promise.reject("Peer connection closed."):e||"complete"!==this._peerConnection.iceGatheringState?(void 0!==this.iceGatheringCompletePromise&&(this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - rejecting prior waiting promise"),this.iceGatheringCompleteReject&&this.iceGatheringCompleteReject(new Error("Promise superseded.")),this.iceGatheringCompletePromise=void 0,this.iceGatheringCompleteResolve=void 0,this.iceGatheringCompleteReject=void 0),this.iceGatheringCompletePromise=new Promise(((e,n)=>{this.iceGatheringCompleteResolve=e,this.iceGatheringCompleteReject=n,t>0&&(this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - timeout in "+t),this.iceGatheringCompleteTimeoutId=setTimeout((()=>{this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - timeout"),this.iceGatheringComplete()}),t))})),this.iceGatheringCompletePromise):(this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - already complete"),Promise.resolve())}initPeerConnectionEventHandlers(){if(this.logger.debug("SessionDescriptionHandler.initPeerConnectionEventHandlers"),!this._peerConnection)throw new Error("Peer connection undefined.");const e=this._peerConnection;e.onconnectionstatechange=t=>{var n;const r=e.connectionState;this.logger.debug("SessionDescriptionHandler.onconnectionstatechange ".concat(r)),(null===(n=this._peerConnectionDelegate)||void 0===n?void 0:n.onconnectionstatechange)&&this._peerConnectionDelegate.onconnectionstatechange(t)},e.ondatachannel=e=>{var t;this.logger.debug("SessionDescriptionHandler.ondatachannel"),this._dataChannel=e.channel,this.onDataChannel&&this.onDataChannel(this._dataChannel),(null===(t=this._peerConnectionDelegate)||void 0===t?void 0:t.ondatachannel)&&this._peerConnectionDelegate.ondatachannel(e)},e.onicecandidate=e=>{var t;this.logger.debug("SessionDescriptionHandler.onicecandidate"),(null===(t=this._peerConnectionDelegate)||void 0===t?void 0:t.onicecandidate)&&this._peerConnectionDelegate.onicecandidate(e)},e.onicecandidateerror=e=>{var t;this.logger.debug("SessionDescriptionHandler.onicecandidateerror"),(null===(t=this._peerConnectionDelegate)||void 0===t?void 0:t.onicecandidateerror)&&this._peerConnectionDelegate.onicecandidateerror(e)},e.oniceconnectionstatechange=t=>{var n;const r=e.iceConnectionState;this.logger.debug("SessionDescriptionHandler.oniceconnectionstatechange ".concat(r)),(null===(n=this._peerConnectionDelegate)||void 0===n?void 0:n.oniceconnectionstatechange)&&this._peerConnectionDelegate.oniceconnectionstatechange(t)},e.onicegatheringstatechange=t=>{var n;const r=e.iceGatheringState;this.logger.debug("SessionDescriptionHandler.onicegatheringstatechange ".concat(r)),"complete"===r&&this.iceGatheringComplete(),(null===(n=this._peerConnectionDelegate)||void 0===n?void 0:n.onicegatheringstatechange)&&this._peerConnectionDelegate.onicegatheringstatechange(t)},e.onnegotiationneeded=e=>{var t;this.logger.debug("SessionDescriptionHandler.onnegotiationneeded"),(null===(t=this._peerConnectionDelegate)||void 0===t?void 0:t.onnegotiationneeded)&&this._peerConnectionDelegate.onnegotiationneeded(e)},e.onsignalingstatechange=t=>{var n;const r=e.signalingState;this.logger.debug("SessionDescriptionHandler.onsignalingstatechange ".concat(r)),(null===(n=this._peerConnectionDelegate)||void 0===n?void 0:n.onsignalingstatechange)&&this._peerConnectionDelegate.onsignalingstatechange(t)},e.ontrack=e=>{var t;const n=e.track.kind,r=e.track.enabled?"enabled":"disabled";this.logger.debug("SessionDescriptionHandler.ontrack ".concat(n," ").concat(r)),this.setRemoteTrack(e.track),(null===(t=this._peerConnectionDelegate)||void 0===t?void 0:t.ontrack)&&this._peerConnectionDelegate.ontrack(e)}}}function sn(e){return(t,n)=>{void 0===e&&(e=e=>e.audio||e.video?void 0===navigator.mediaDevices?Promise.reject(new Error("Media devices not available in insecure contexts.")):navigator.mediaDevices.getUserMedia.call(navigator.mediaDevices,e):Promise.resolve(new MediaStream));const r={iceGatheringTimeout:void 0!==(null===n||void 0===n?void 0:n.iceGatheringTimeout)?null===n||void 0===n?void 0:n.iceGatheringTimeout:5e3,peerConnectionConfiguration:Object.assign(Object.assign({},{bundlePolicy:"balanced",certificates:void 0,iceCandidatePoolSize:0,iceServers:[{urls:"stun:stun.l.google.com:19302"}],iceTransportPolicy:"all",rtcpMuxPolicy:"require"}),null===n||void 0===n?void 0:n.peerConnectionConfiguration)},i=t.userAgent.getLogger("sip.SessionDescriptionHandler");return new an(i,e,r)}}class cn{constructor(){this.listeners=new Array}addListener(e,t){const n=t=>{this.removeListener(n),e(t)};!0===(null===t||void 0===t?void 0:t.once)?this.listeners.push(n):this.listeners.push(e)}emit(e){this.listeners.slice().forEach((t=>t(e)))}removeAllListeners(){this.listeners=[]}removeListener(e){this.listeners=this.listeners.filter((t=>t!==e))}on(e){return this.addListener(e)}off(e){return this.removeListener(e)}once(e){return this.addListener(e,{once:!0})}}class ln extends dt{constructor(e){super(e||"An error occurred during state transition.")}}var un;!function(e){e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Disconnected="Disconnected"}(un=un||(un={}));class dn{constructor(e,t){if(this._state=un.Disconnected,this.transitioningState=!1,this._stateEventEmitter=new cn,this.logger=e,t){const e=t,n=null===e||void 0===e?void 0:e.wsServers,r=null===e||void 0===e?void 0:e.maxReconnectionAttempts;if(void 0!==n){const e='The transport option "wsServers" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(e)}if(void 0!==r){const e='The transport option "maxReconnectionAttempts" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(e)}n&&!t.server&&("string"===typeof n&&(t.server=n),n instanceof Array&&(t.server=n[0]))}this.configuration=Object.assign(Object.assign({},dn.defaultOptions),t);const n=this.configuration.server,r=Be.parse(n,"absoluteURI");if(-1===r)throw this.logger.error('Invalid WebSocket Server URL "'.concat(n,'"')),new Error("Invalid WebSocket Server URL");if(!["wss","ws","udp"].includes(r.scheme))throw this.logger.error('Invalid scheme in WebSocket Server URL "'.concat(n,'"')),new Error("Invalid scheme in WebSocket Server URL");this._protocol=r.scheme.toUpperCase()}dispose(){return this.disconnect()}get protocol(){return this._protocol}get server(){return this.configuration.server}get state(){return this._state}get stateChange(){return this._stateEventEmitter}get ws(){return this._ws}connect(){return this._connect()}disconnect(){return this._disconnect()}isConnected(){return this.state===un.Connected}send(e){return this._send(e)}_connect(){switch(this.logger.log("Connecting ".concat(this.server)),this.state){case un.Connecting:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(un.Connecting));if(!this.connectPromise)throw new Error("Connect promise must be defined.");return this.connectPromise;case un.Connected:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(un.Connecting));if(this.connectPromise)throw new Error("Connect promise must not be defined.");return Promise.resolve();case un.Disconnecting:if(this.connectPromise)throw new Error("Connect promise must not be defined.");try{this.transitionState(un.Connecting)}catch(cE){if(cE instanceof ln)return Promise.reject(cE);throw cE}break;case un.Disconnected:if(this.connectPromise)throw new Error("Connect promise must not be defined.");try{this.transitionState(un.Connecting)}catch(cE){if(cE instanceof ln)return Promise.reject(cE);throw cE}break;default:throw new Error("Unknown state")}let e;try{e=new WebSocket(this.server,"sip"),e.binaryType="arraybuffer",e.addEventListener("close",(t=>this.onWebSocketClose(t,e))),e.addEventListener("error",(t=>this.onWebSocketError(t,e))),e.addEventListener("open",(t=>this.onWebSocketOpen(t,e))),e.addEventListener("message",(t=>this.onWebSocketMessage(t,e))),this._ws=e}catch(t){return this._ws=void 0,this.logger.error("WebSocket construction failed."),this.logger.error(t.toString()),new Promise(((e,n)=>{this.connectResolve=e,this.connectReject=n,this.transitionState(un.Disconnected,t)}))}return this.connectPromise=new Promise(((t,n)=>{this.connectResolve=t,this.connectReject=n,this.connectTimeout=setTimeout((()=>{this.logger.warn("Connect timed out. Exceeded time set in configuration.connectionTimeout: "+this.configuration.connectionTimeout+"s."),e.close(1e3)}),1e3*this.configuration.connectionTimeout)})),this.connectPromise}_disconnect(){switch(this.logger.log("Disconnecting ".concat(this.server)),this.state){case un.Connecting:if(this.disconnectPromise)throw new Error("Disconnect promise must not be defined.");try{this.transitionState(un.Disconnecting)}catch(cE){if(cE instanceof ln)return Promise.reject(cE);throw cE}break;case un.Connected:if(this.disconnectPromise)throw new Error("Disconnect promise must not be defined.");try{this.transitionState(un.Disconnecting)}catch(cE){if(cE instanceof ln)return Promise.reject(cE);throw cE}break;case un.Disconnecting:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(un.Disconnecting));if(!this.disconnectPromise)throw new Error("Disconnect promise must be defined.");return this.disconnectPromise;case un.Disconnected:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(un.Disconnecting));if(this.disconnectPromise)throw new Error("Disconnect promise must not be defined.");return Promise.resolve();default:throw new Error("Unknown state")}if(!this._ws)throw new Error("WebSocket must be defined.");const e=this._ws;return this.disconnectPromise=new Promise(((t,n)=>{this.disconnectResolve=t,this.disconnectReject=n;try{e.close(1e3)}catch(r){throw this.logger.error("WebSocket close failed."),this.logger.error(r.toString()),r}})),this.disconnectPromise}_send(e){if(!0===this.configuration.traceSip&&this.logger.log("Sending WebSocket message:\n\n"+e+"\n"),this._state!==un.Connected)return Promise.reject(new Error("Not connected."));if(!this._ws)throw new Error("WebSocket undefined.");try{this._ws.send(e)}catch(t){return t instanceof Error?Promise.reject(t):Promise.reject(new Error("WebSocket send failed."))}return Promise.resolve()}onWebSocketClose(e,t){if(t!==this._ws)return;const n="WebSocket closed ".concat(this.server," (code: ").concat(e.code,")"),r=this.disconnectPromise?void 0:new Error(n);r&&this.logger.warn("WebSocket closed unexpectedly"),this.logger.log(n),this._ws=void 0,this.transitionState(un.Disconnected,r)}onWebSocketError(e,t){t===this._ws&&this.logger.error("WebSocket error occurred.")}onWebSocketMessage(e,t){if(t!==this._ws)return;const n=e.data;let r;if(/^(\r\n)+$/.test(n))return this.clearKeepAliveTimeout(),void(!0===this.configuration.traceSip&&this.logger.log("Received WebSocket message with CRLF Keep Alive response"));if(n){if("string"!==typeof n){try{r=(new TextDecoder).decode(new Uint8Array(n))}catch(i){return this.logger.error(i.toString()),void this.logger.error("Received WebSocket binary message failed to be converted into string, message discarded")}!0===this.configuration.traceSip&&this.logger.log("Received WebSocket binary message:\n\n"+r+"\n")}else r=n,!0===this.configuration.traceSip&&this.logger.log("Received WebSocket text message:\n\n"+r+"\n");if(this.state===un.Connected){if(this.onMessage)try{this.onMessage(r)}catch(cE){throw this.logger.error(cE.toString()),this.logger.error("Exception thrown by onMessage callback"),cE}}else this.logger.warn("Received message while not connected, discarding...")}else this.logger.warn("Received empty message, discarding...")}onWebSocketOpen(e,t){t===this._ws&&this._state===un.Connecting&&(this.logger.log("WebSocket opened ".concat(this.server)),this.transitionState(un.Connected))}transitionLoopDetectedError(e){let t="A state transition loop has been detected.";return t+=" An attempt to transition from ".concat(this._state," to ").concat(e," before the prior transition completed."),t+=" Perhaps you are synchronously calling connect() or disconnect() from a callback or state change handler?",this.logger.error(t),new ln("Loop detected.")}transitionState(e,t){const n=()=>{throw new Error("Invalid state transition from ".concat(this._state," to ").concat(e))};if(this.transitioningState)throw this.transitionLoopDetectedError(e);switch(this.transitioningState=!0,this._state){case un.Connecting:e!==un.Connected&&e!==un.Disconnecting&&e!==un.Disconnected&&n();break;case un.Connected:e!==un.Disconnecting&&e!==un.Disconnected&&n();break;case un.Disconnecting:e!==un.Connecting&&e!==un.Disconnected&&n();break;case un.Disconnected:e!==un.Connecting&&n();break;default:throw new Error("Unknown state.")}const r=this._state;this._state=e;const i=this.connectResolve,o=this.connectReject;r===un.Connecting&&(this.connectPromise=void 0,this.connectResolve=void 0,this.connectReject=void 0);const a=this.disconnectResolve,s=this.disconnectReject;if(r===un.Disconnecting&&(this.disconnectPromise=void 0,this.disconnectResolve=void 0,this.disconnectReject=void 0),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0),this.logger.log("Transitioned from ".concat(r," to ").concat(this._state)),this._stateEventEmitter.emit(this._state),e===un.Connected&&(this.startSendingKeepAlives(),this.onConnect))try{this.onConnect()}catch(cE){throw this.logger.error(cE.toString()),this.logger.error("Exception thrown by onConnect callback"),cE}if(r===un.Connected&&(this.stopSendingKeepAlives(),this.onDisconnect))try{t?this.onDisconnect(t):this.onDisconnect()}catch(cE){throw this.logger.error(cE.toString()),this.logger.error("Exception thrown by onDisconnect callback"),cE}if(r===un.Connecting){if(!i)throw new Error("Connect resolve undefined.");if(!o)throw new Error("Connect reject undefined.");e===un.Connected?i():o(t||new Error("Connect aborted."))}if(r===un.Disconnecting){if(!a)throw new Error("Disconnect resolve undefined.");if(!s)throw new Error("Disconnect reject undefined.");e===un.Disconnected?a():s(t||new Error("Disconnect aborted."))}this.transitioningState=!1}clearKeepAliveTimeout(){this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveDebounceTimeout=void 0}sendKeepAlive(){return this.keepAliveDebounceTimeout?Promise.resolve():(this.keepAliveDebounceTimeout=setTimeout((()=>{this.clearKeepAliveTimeout()}),1e3*this.configuration.keepAliveDebounce),this.send("\r\n\r\n"))}startSendingKeepAlives(){this.configuration.keepAliveInterval&&!this.keepAliveInterval&&(this.keepAliveInterval=setInterval((()=>{this.sendKeepAlive(),this.startSendingKeepAlives()}),(e=>{const t=.8*e;return 1e3*(Math.random()*(e-t)+t)})(this.configuration.keepAliveInterval)))}stopSendingKeepAlives(){this.keepAliveInterval&&clearInterval(this.keepAliveInterval),this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveInterval=void 0,this.keepAliveDebounceTimeout=void 0}}dn.defaultOptions={server:"",connectionTimeout:5,keepAliveInterval:0,keepAliveDebounce:10,traceSip:!0};class hn{constructor(e){this.incomingCancelRequest=e}get request(){return this.incomingCancelRequest}}class fn extends dt{constructor(e){super(e||"Unsupported content type.")}}class pn extends dt{constructor(e){super(e||"Unspecified session description handler error.")}}class gn extends dt{constructor(){super("The session has terminated.")}}class mn{constructor(e){this.incomingAckRequest=e}get request(){return this.incomingAckRequest.message}}class vn{constructor(e){this.incomingByeRequest=e}get request(){return this.incomingByeRequest.message}accept(e){return this.incomingByeRequest.accept(e),Promise.resolve()}reject(e){return this.incomingByeRequest.reject(e),Promise.resolve()}}class yn extends dt{constructor(e){super(e||"Request pending.")}}class bn{constructor(e){this.incomingInfoRequest=e}get request(){return this.incomingInfoRequest.message}accept(e){return this.incomingInfoRequest.accept(e),Promise.resolve()}reject(e){return this.incomingInfoRequest.reject(e),Promise.resolve()}}class wn{constructor(e){this.incomingMessageRequest=e}get request(){return this.incomingMessageRequest.message}accept(e){return this.incomingMessageRequest.accept(e),Promise.resolve()}reject(e){return this.incomingMessageRequest.reject(e),Promise.resolve()}}class xn{constructor(e){this.incomingNotifyRequest=e}get request(){return this.incomingNotifyRequest.message}accept(e){return this.incomingNotifyRequest.accept(e),Promise.resolve()}reject(e){return this.incomingNotifyRequest.reject(e),Promise.resolve()}}class Sn{constructor(e,t){this.incomingReferRequest=e,this.session=t}get referTo(){const e=this.incomingReferRequest.message.parseHeader("refer-to");if(!(e instanceof Me))throw new Error("Failed to parse Refer-To header.");return e}get referredBy(){return this.incomingReferRequest.message.getHeader("referred-by")}get replaces(){const e=this.referTo.uri.getHeader("replaces");return e instanceof Array?e[0]:e}get request(){return this.incomingReferRequest.message}accept(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:202};return this.incomingReferRequest.accept(e),Promise.resolve()}reject(e){return this.incomingReferRequest.reject(e),Promise.resolve()}makeInviter(e){if(this.inviter)return this.inviter;const t=this.referTo.uri.clone();t.clearHeaders();const n=((e=e||{}).extraHeaders||[]).slice(),r=this.replaces;r&&n.push("Replaces: "+decodeURIComponent(r));const i=this.referredBy;return i&&n.push("Referred-By: "+i),e.extraHeaders=n,this.inviter=this.session.userAgent._makeInviter(t,e),this.inviter._referred=this.session,this.session._referral=this.inviter,this.inviter}}var En,kn;!function(e){e.Initial="Initial",e.Establishing="Establishing",e.Established="Established",e.Terminating="Terminating",e.Terminated="Terminated"}(En=En||(En={}));class On{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.pendingReinvite=!1,this.pendingReinviteAck=!1,this._state=En.Initial,this.delegate=t.delegate,this._stateEventEmitter=new cn,this._userAgent=e}dispose(){switch(this.logger.log("Session ".concat(this.id," in state ").concat(this._state," is being disposed")),delete this.userAgent._sessions[this.id],this._sessionDescriptionHandler&&this._sessionDescriptionHandler.close(),this.state){case En.Initial:case En.Establishing:break;case En.Established:return new Promise((e=>{this._bye({onAccept:()=>e(),onRedirect:()=>e(),onReject:()=>e()})}));case En.Terminating:case En.Terminated:break;default:throw new Error("Unknown state.")}return Promise.resolve()}get assertedIdentity(){return this._assertedIdentity}get dialog(){return this._dialog}get id(){return this._id}get replacee(){return this._replacee}get sessionDescriptionHandler(){return this._sessionDescriptionHandler}get sessionDescriptionHandlerFactory(){return this.userAgent.configuration.sessionDescriptionHandlerFactory}get sessionDescriptionHandlerModifiers(){return this._sessionDescriptionHandlerModifiers||[]}set sessionDescriptionHandlerModifiers(e){this._sessionDescriptionHandlerModifiers=e.slice()}get sessionDescriptionHandlerOptions(){return this._sessionDescriptionHandlerOptions||{}}set sessionDescriptionHandlerOptions(e){this._sessionDescriptionHandlerOptions=Object.assign({},e)}get sessionDescriptionHandlerModifiersReInvite(){return this._sessionDescriptionHandlerModifiersReInvite||[]}set sessionDescriptionHandlerModifiersReInvite(e){this._sessionDescriptionHandlerModifiersReInvite=e.slice()}get sessionDescriptionHandlerOptionsReInvite(){return this._sessionDescriptionHandlerOptionsReInvite||{}}set sessionDescriptionHandlerOptionsReInvite(e){this._sessionDescriptionHandlerOptionsReInvite=Object.assign({},e)}get state(){return this._state}get stateChange(){return this._stateEventEmitter}get userAgent(){return this._userAgent}bye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="Session.bye() may only be called if established session.";switch(this.state){case En.Initial:"function"===typeof this.cancel?(t+=" However Inviter.invite() has not yet been called.",t+=" Perhaps you should have called Inviter.cancel()?"):"function"===typeof this.reject&&(t+=" However Invitation.accept() has not yet been called.",t+=" Perhaps you should have called Invitation.reject()?");break;case En.Establishing:"function"===typeof this.cancel?(t+=" However a dialog does not yet exist.",t+=" Perhaps you should have called Inviter.cancel()?"):"function"===typeof this.reject&&(t+=" However Invitation.accept() has not yet been called (or not yet resolved).",t+=" Perhaps you should have called Invitation.reject()?");break;case En.Established:{const t=e.requestDelegate,n=this.copyRequestOptions(e.requestOptions);return this._bye(t,n)}case En.Terminating:t+=" However this session is already terminating.","function"===typeof this.cancel?t+=" Perhaps you have already called Inviter.cancel()?":"function"===typeof this.reject&&(t+=" Perhaps you have already called Session.bye()?");break;case En.Terminated:t+=" However this session is already terminated.";break;default:throw new Error("Unknown state")}return this.logger.error(t),Promise.reject(new Error("Invalid session state ".concat(this.state)))}info(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.state!==En.Established){const e="Session.info() may only be called if established session.";return this.logger.error(e),Promise.reject(new Error("Invalid session state ".concat(this.state)))}const t=e.requestDelegate,n=this.copyRequestOptions(e.requestOptions);return this._info(t,n)}invite(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.logger.log("Session.invite"),this.state!==En.Established)return Promise.reject(new Error("Invalid session state ".concat(this.state)));if(this.pendingReinvite)return Promise.reject(new yn("Reinvite in progress. Please wait until complete, then try again."));this.pendingReinvite=!0,e.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiersReInvite=e.sessionDescriptionHandlerModifiers),e.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptionsReInvite=e.sessionDescriptionHandlerOptions);const t={onAccept:t=>{const n=Ot(t.message);if(!n)return this.logger.error("Received 2xx response to re-INVITE without a session description"),this.ackAndBye(t,400,"Missing session description"),this.stateTransition(En.Terminated),void(this.pendingReinvite=!1);if(e.withoutSdp){const r={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiersReInvite};this.setOfferAndGetAnswer(n,r).then((e=>{t.ack({body:e})})).catch((e=>{this.logger.error("Failed to handle offer in 2xx response to re-INVITE"),this.logger.error(e.message),this.state===En.Terminated?t.ack():(this.ackAndBye(t,488,"Bad Media Description"),this.stateTransition(En.Terminated))})).then((()=>{this.pendingReinvite=!1,e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(t)}))}else{const r={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiersReInvite};this.setAnswer(n,r).then((()=>{t.ack()})).catch((e=>{this.logger.error("Failed to handle answer in 2xx response to re-INVITE"),this.logger.error(e.message),this.state!==En.Terminated?(this.ackAndBye(t,488,"Bad Media Description"),this.stateTransition(En.Terminated)):t.ack()})).then((()=>{this.pendingReinvite=!1,e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(t)}))}},onProgress:e=>{},onRedirect:e=>{},onReject:t=>{this.logger.warn("Received a non-2xx response to re-INVITE"),this.pendingReinvite=!1,e.withoutSdp?e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(t):this.rollbackOffer().catch((e=>{if(this.logger.error("Failed to rollback offer on non-2xx response to re-INVITE"),this.logger.error(e.message),this.state!==En.Terminated){if(!this.dialog)throw new Error("Dialog undefined.");const e=[];e.push("Reason: "+this.getReasonHeaderValue(500,"Internal Server Error")),this.dialog.bye(void 0,{extraHeaders:e}),this.stateTransition(En.Terminated)}})).then((()=>{e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(t)}))},onTrying:e=>{}},n=e.requestOptions||{};if(n.extraHeaders=(n.extraHeaders||[]).slice(),n.extraHeaders.push("Allow: "+Gt.toString()),n.extraHeaders.push("Contact: "+this._contact),e.withoutSdp){if(!this.dialog)throw this.pendingReinvite=!1,new Error("Dialog undefined.");return Promise.resolve(this.dialog.invite(t,n))}const r={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiersReInvite};return this.getOffer(r).then((e=>{if(!this.dialog)throw this.pendingReinvite=!1,new Error("Dialog undefined.");return n.body=e,this.dialog.invite(t,n)})).catch((e=>{throw this.logger.error(e.message),this.logger.error("Failed to send re-INVITE"),this.pendingReinvite=!1,e}))}message(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.state!==En.Established){const e="Session.message() may only be called if established session.";return this.logger.error(e),Promise.reject(new Error("Invalid session state ".concat(this.state)))}const t=e.requestDelegate,n=this.copyRequestOptions(e.requestOptions);return this._message(t,n)}refer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.state!==En.Established){const e="Session.refer() may only be called if established session.";return this.logger.error(e),Promise.reject(new Error("Invalid session state ".concat(this.state)))}if(e instanceof On&&!e.dialog){const e="Session.refer() may only be called with session which is established. You are perhaps attempting to attended transfer to a target for which there is not dialog yet established. Perhaps you are attempting a 'semi-attended' tansfer? Regardless, this is not supported. The recommended approached is to check to see if the target Session is in the Established state before calling refer(); if the state is not Established you may proceed by falling back using a URI as the target (blind transfer).";return this.logger.error(e),Promise.reject(new Error("Invalid session state ".concat(this.state)))}const n=t.requestDelegate,r=this.copyRequestOptions(t.requestOptions);return r.extraHeaders=r.extraHeaders?r.extraHeaders.concat(this.referExtraHeaders(this.referToString(e))):this.referExtraHeaders(this.referToString(e)),this._refer(t.onNotify,n,r)}_bye(e,t){if(!this.dialog)return Promise.reject(new Error("Session dialog undefined."));const n=this.dialog;switch(n.sessionState){case mt.Initial:case mt.Early:throw new Error("Invalid dialog state ".concat(n.sessionState));case mt.AckWait:return this.stateTransition(En.Terminating),new Promise((r=>{n.delegate={onAck:()=>{const i=n.bye(e,t);return this.stateTransition(En.Terminated),r(i),Promise.resolve()},onAckTimeout:()=>{const i=n.bye(e,t);this.stateTransition(En.Terminated),r(i)}}}));case mt.Confirmed:{const r=n.bye(e,t);return this.stateTransition(En.Terminated),Promise.resolve(r)}case mt.Terminated:throw new Error("Invalid dialog state ".concat(n.sessionState));default:throw new Error("Unrecognized state.")}}_info(e,t){return this.dialog?Promise.resolve(this.dialog.info(e,t)):Promise.reject(new Error("Session dialog undefined."))}_message(e,t){return this.dialog?Promise.resolve(this.dialog.message(e,t)):Promise.reject(new Error("Session dialog undefined."))}_refer(e,t,n){return this.dialog?(this.onNotify=e,Promise.resolve(this.dialog.refer(t,n))):Promise.reject(new Error("Session dialog undefined."))}ackAndBye(e,t,n){e.ack();const r=[];t&&r.push("Reason: "+this.getReasonHeaderValue(t,n)),e.session.bye(void 0,{extraHeaders:r})}onAckRequest(e){if(this.logger.log("Session.onAckRequest"),this.state!==En.Established&&this.state!==En.Terminating)return this.logger.error("ACK received while in state ".concat(this.state,", dropping request")),Promise.resolve();const t=this.dialog;if(!t)throw new Error("Dialog undefined.");const n={sessionDescriptionHandlerOptions:this.pendingReinviteAck?this.sessionDescriptionHandlerOptionsReInvite:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.pendingReinviteAck?this._sessionDescriptionHandlerModifiersReInvite:this._sessionDescriptionHandlerModifiers};if(this.delegate&&this.delegate.onAck){const t=new mn(e);this.delegate.onAck(t)}switch(this.pendingReinviteAck=!1,t.signalingState){case vt.Initial:{this.logger.error("Invalid signaling state ".concat(t.signalingState,"."));const e=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return t.bye(void 0,{extraHeaders:e}),this.stateTransition(En.Terminated),Promise.resolve()}case vt.Stable:{const r=Ot(e.message);return r?"render"===r.contentDisposition?(this._renderbody=r.content,this._rendertype=r.contentType,Promise.resolve()):"session"!==r.contentDisposition?Promise.resolve():this.setAnswer(r,n).catch((e=>{this.logger.error(e.message);const n=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];t.bye(void 0,{extraHeaders:n}),this.stateTransition(En.Terminated)})):Promise.resolve()}case vt.HaveLocalOffer:{this.logger.error("Invalid signaling state ".concat(t.signalingState,"."));const e=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return t.bye(void 0,{extraHeaders:e}),this.stateTransition(En.Terminated),Promise.resolve()}case vt.HaveRemoteOffer:{this.logger.error("Invalid signaling state ".concat(t.signalingState,"."));const e=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return t.bye(void 0,{extraHeaders:e}),this.stateTransition(En.Terminated),Promise.resolve()}case vt.Closed:default:throw new Error("Invalid signaling state ".concat(t.signalingState,"."))}}onByeRequest(e){if(this.logger.log("Session.onByeRequest"),this.state===En.Established){if(this.delegate&&this.delegate.onBye){const t=new vn(e);this.delegate.onBye(t)}else e.accept();this.stateTransition(En.Terminated)}else this.logger.error("BYE received while in state ".concat(this.state,", dropping request"))}onInfoRequest(e){if(this.logger.log("Session.onInfoRequest"),this.state===En.Established)if(this.delegate&&this.delegate.onInfo){const t=new bn(e);this.delegate.onInfo(t)}else e.accept();else this.logger.error("INFO received while in state ".concat(this.state,", dropping request"))}onInviteRequest(e){if(this.logger.log("Session.onInviteRequest"),this.state!==En.Established)return void this.logger.error("INVITE received while in state ".concat(this.state,", dropping request"));this.pendingReinviteAck=!0;const t=["Contact: "+this._contact];if(e.message.hasHeader("P-Asserted-Identity")){const t=e.message.getHeader("P-Asserted-Identity");if(!t)throw new Error("Header undefined.");this._assertedIdentity=Be.nameAddrHeaderParse(t)}const n={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiersReInvite};this.generateResponseOfferAnswerInDialog(n).then((n=>{const r=e.accept({statusCode:200,extraHeaders:t,body:n});this.delegate&&this.delegate.onInvite&&this.delegate.onInvite(e.message,r.message,200)})).catch((t=>{if(this.logger.error(t.message),this.logger.error("Failed to handle to re-INVITE request"),!this.dialog)throw new Error("Dialog undefined.");if(this.logger.error(this.dialog.signalingState),this.dialog.signalingState!==vt.Stable)this.rollbackOffer().then((()=>{const t=e.reject({statusCode:488});this.delegate&&this.delegate.onInvite&&this.delegate.onInvite(e.message,t.message,488)})).catch((t=>{this.logger.error(t.message),this.logger.error("Failed to rollback offer on re-INVITE request");const n=e.reject({statusCode:488});if(this.state!==En.Terminated){if(!this.dialog)throw new Error("Dialog undefined.");const e=[];e.push("Reason: "+this.getReasonHeaderValue(500,"Internal Server Error")),this.dialog.bye(void 0,{extraHeaders:e}),this.stateTransition(En.Terminated)}this.delegate&&this.delegate.onInvite&&this.delegate.onInvite(e.message,n.message,488)}));else{const t=e.reject({statusCode:488});this.delegate&&this.delegate.onInvite&&this.delegate.onInvite(e.message,t.message,488)}}))}onMessageRequest(e){if(this.logger.log("Session.onMessageRequest"),this.state===En.Established)if(this.delegate&&this.delegate.onMessage){const t=new wn(e);this.delegate.onMessage(t)}else e.accept();else this.logger.error("MESSAGE received while in state ".concat(this.state,", dropping request"))}onNotifyRequest(e){if(this.logger.log("Session.onNotifyRequest"),this.state===En.Established)if(this.onNotify){const t=new xn(e);this.onNotify(t)}else if(this.delegate&&this.delegate.onNotify){const t=new xn(e);this.delegate.onNotify(t)}else e.accept();else this.logger.error("NOTIFY received while in state ".concat(this.state,", dropping request"))}onPrackRequest(e){if(this.logger.log("Session.onPrackRequest"),this.state===En.Established)throw new Error("Unimplemented.");this.logger.error("PRACK received while in state ".concat(this.state,", dropping request"))}onReferRequest(e){if(this.logger.log("Session.onReferRequest"),this.state!==En.Established)return void this.logger.error("REFER received while in state ".concat(this.state,", dropping request"));if(!e.message.hasHeader("refer-to"))return this.logger.warn("Invalid REFER packet. A refer-to header is required. Rejecting."),void e.reject();const t=new Sn(e,this);this.delegate&&this.delegate.onRefer?this.delegate.onRefer(t):(this.logger.log("No delegate available to handle REFER, automatically accepting and following."),t.accept().then((()=>t.makeInviter(this._referralInviterOptions).invite())).catch((e=>{this.logger.error(e.message)})))}generateResponseOfferAnswer(e,t){if(this.dialog)return this.generateResponseOfferAnswerInDialog(t);const n=Ot(e.message);return n&&"session"===n.contentDisposition?this.setOfferAndGetAnswer(n,t):this.getOffer(t)}generateResponseOfferAnswerInDialog(e){if(!this.dialog)throw new Error("Dialog undefined.");switch(this.dialog.signalingState){case vt.Initial:return this.getOffer(e);case vt.HaveLocalOffer:return Promise.resolve(void 0);case vt.HaveRemoteOffer:if(!this.dialog.offer)throw new Error("Session offer undefined in signaling state ".concat(this.dialog.signalingState,"."));return this.setOfferAndGetAnswer(this.dialog.offer,e);case vt.Stable:return this.state!==En.Established?Promise.resolve(void 0):this.getOffer(e);case vt.Closed:default:throw new Error("Invalid signaling state ".concat(this.dialog.signalingState,"."))}}getOffer(e){const t=this.setupSessionDescriptionHandler(),n=e.sessionDescriptionHandlerOptions,r=e.sessionDescriptionHandlerModifiers;try{return t.getDescription(n,r).then((e=>Et(e))).catch((e=>{this.logger.error("Session.getOffer: SDH getDescription rejected...");const t=e instanceof Error?e:new Error("Session.getOffer unknown error.");throw this.logger.error(t.message),t}))}catch(i){this.logger.error("Session.getOffer: SDH getDescription threw...");const e=i instanceof Error?i:new Error(i);return this.logger.error(e.message),Promise.reject(e)}}rollbackOffer(){const e=this.setupSessionDescriptionHandler();if(void 0===e.rollbackDescription)return Promise.resolve();try{return e.rollbackDescription().catch((e=>{this.logger.error("Session.rollbackOffer: SDH rollbackDescription rejected...");const t=e instanceof Error?e:new Error("Session.rollbackOffer unknown error.");throw this.logger.error(t.message),t}))}catch(t){this.logger.error("Session.rollbackOffer: SDH rollbackDescription threw...");const e=t instanceof Error?t:new Error(t);return this.logger.error(e.message),Promise.reject(e)}}setAnswer(e,t){const n=this.setupSessionDescriptionHandler(),r=t.sessionDescriptionHandlerOptions,i=t.sessionDescriptionHandlerModifiers;try{if(!n.hasDescription(e.contentType))return Promise.reject(new fn)}catch(o){this.logger.error("Session.setAnswer: SDH hasDescription threw...");const e=o instanceof Error?o:new Error(o);return this.logger.error(e.message),Promise.reject(e)}try{return n.setDescription(e.content,r,i).catch((e=>{this.logger.error("Session.setAnswer: SDH setDescription rejected...");const t=e instanceof Error?e:new Error("Session.setAnswer unknown error.");throw this.logger.error(t.message),t}))}catch(o){this.logger.error("Session.setAnswer: SDH setDescription threw...");const e=o instanceof Error?o:new Error(o);return this.logger.error(e.message),Promise.reject(e)}}setOfferAndGetAnswer(e,t){const n=this.setupSessionDescriptionHandler(),r=t.sessionDescriptionHandlerOptions,i=t.sessionDescriptionHandlerModifiers;try{if(!n.hasDescription(e.contentType))return Promise.reject(new fn)}catch(o){this.logger.error("Session.setOfferAndGetAnswer: SDH hasDescription threw...");const e=o instanceof Error?o:new Error(o);return this.logger.error(e.message),Promise.reject(e)}try{return n.setDescription(e.content,r,i).then((()=>n.getDescription(r,i))).then((e=>Et(e))).catch((e=>{this.logger.error("Session.setOfferAndGetAnswer: SDH setDescription or getDescription rejected...");const t=e instanceof Error?e:new Error("Session.setOfferAndGetAnswer unknown error.");throw this.logger.error(t.message),t}))}catch(o){this.logger.error("Session.setOfferAndGetAnswer: SDH setDescription or getDescription threw...");const e=o instanceof Error?o:new Error(o);return this.logger.error(e.message),Promise.reject(e)}}setSessionDescriptionHandler(e){if(this._sessionDescriptionHandler)throw new Error("Session description handler defined.");this._sessionDescriptionHandler=e}setupSessionDescriptionHandler(){var e;return this._sessionDescriptionHandler||(this._sessionDescriptionHandler=this.sessionDescriptionHandlerFactory(this,this.userAgent.configuration.sessionDescriptionHandlerFactoryOptions),(null===(e=this.delegate)||void 0===e?void 0:e.onSessionDescriptionHandler)&&this.delegate.onSessionDescriptionHandler(this._sessionDescriptionHandler,!1)),this._sessionDescriptionHandler}stateTransition(e){const t=()=>{throw new Error("Invalid state transition from ".concat(this._state," to ").concat(e))};switch(this._state){case En.Initial:e!==En.Establishing&&e!==En.Established&&e!==En.Terminating&&e!==En.Terminated&&t();break;case En.Establishing:e!==En.Established&&e!==En.Terminating&&e!==En.Terminated&&t();break;case En.Established:e!==En.Terminating&&e!==En.Terminated&&t();break;case En.Terminating:e!==En.Terminated&&t();break;case En.Terminated:t();break;default:throw new Error("Unrecognized state.")}this._state=e,this.logger.log("Session ".concat(this.id," transitioned to state ").concat(this._state)),this._stateEventEmitter.emit(this._state),e===En.Terminated&&this.dispose()}copyRequestOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{extraHeaders:e.extraHeaders?e.extraHeaders.slice():void 0,body:e.body?{contentDisposition:e.body.contentDisposition||"render",contentType:e.body.contentType||"text/plain",content:e.body.content||""}:void 0}}getReasonHeaderValue(e,t){const n=e;let r=We(e);return!r&&t&&(r=t),"SIP;cause="+n+';text="'+r+'"'}referExtraHeaders(e){const t=[];return t.push("Referred-By: <"+this.userAgent.configuration.uri+">"),t.push("Contact: "+this._contact),t.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),t.push("Refer-To: "+e),t}referToString(e){let t;if(e instanceof He)t=e.toString();else{if(!e.dialog)throw new Error("Dialog undefined.");const n=e.remoteIdentity.friendlyName,r=e.dialog.remoteTarget.toString(),i=e.dialog.callId,o=e.dialog.remoteTag,a=e.dialog.localTag,s=encodeURIComponent("".concat(i,";to-tag=").concat(o,";from-tag=").concat(a));t='"'.concat(n,'" <').concat(r,"?Replaces=").concat(s,">")}return t}}!function(e){e.Required="Required",e.Supported="Supported",e.Unsupported="Unsupported"}(kn=kn||(kn={}));const Tn={"100rel":!0,199:!0,answermode:!0,"early-session":!0,eventlist:!0,explicitsub:!0,"from-change":!0,"geolocation-http":!0,"geolocation-sip":!0,gin:!0,gruu:!0,histinfo:!0,ice:!0,join:!0,"multiple-refer":!0,norefersub:!0,nosub:!0,outbound:!0,path:!0,policy:!0,precondition:!0,pref:!0,privacy:!0,"recipient-list-invite":!0,"recipient-list-message":!0,"recipient-list-subscribe":!0,replaces:!0,"resource-priority":!0,"sdp-anat":!0,"sec-agree":!0,tdialog:!0,timer:!0,uui:!0};class Pn extends On{constructor(e,t){super(e),this.incomingInviteRequest=t,this.disposed=!1,this.expiresTimer=void 0,this.isCanceled=!1,this.rel100="none",this.rseq=Math.floor(1e4*Math.random()),this.userNoAnswerTimer=void 0,this.waitingForPrack=!1,this.logger=e.getLogger("sip.Invitation");const n=this.incomingInviteRequest.message,r=n.getHeader("require");r&&r.toLowerCase().includes("100rel")&&(this.rel100="required");const i=n.getHeader("supported");if(i&&i.toLowerCase().includes("100rel")&&(this.rel100="supported"),n.toTag=t.toTag,"string"!==typeof n.toTag)throw new TypeError("toTag should have been a string.");if(this.userNoAnswerTimer=setTimeout((()=>{t.reject({statusCode:480}),this.stateTransition(En.Terminated)}),this.userAgent.configuration.noAnswerTimeout?1e3*this.userAgent.configuration.noAnswerTimeout:6e4),n.hasHeader("expires")){const e=1e3*Number(n.getHeader("expires")||0);this.expiresTimer=setTimeout((()=>{this.state===En.Initial&&(t.reject({statusCode:487}),this.stateTransition(En.Terminated))}),e)}const o=this.request.getHeader("P-Asserted-Identity");o&&(this._assertedIdentity=Be.nameAddrHeaderParse(o)),this._contact=this.userAgent.contact.toString();const a=n.parseHeader("Content-Disposition");a&&"render"===a.type&&(this._renderbody=n.body,this._rendertype=n.getHeader("Content-Type")),this._id=n.callId+n.fromTag,this.userAgent._sessions[this._id]=this}dispose(){if(this.disposed)return Promise.resolve();switch(this.disposed=!0,this.expiresTimer&&(clearTimeout(this.expiresTimer),this.expiresTimer=void 0),this.userNoAnswerTimer&&(clearTimeout(this.userNoAnswerTimer),this.userNoAnswerTimer=void 0),this.prackNeverArrived(),this.state){case En.Initial:case En.Establishing:return this.reject().then((()=>super.dispose()));case En.Established:case En.Terminating:case En.Terminated:return super.dispose();default:throw new Error("Unknown state.")}}get autoSendAnInitialProvisionalResponse(){return"required"!==this.rel100&&this.userAgent.configuration.sendInitialProvisionalResponse}get body(){return this.incomingInviteRequest.message.body}get localIdentity(){return this.request.to}get remoteIdentity(){return this.request.from}get request(){return this.incomingInviteRequest.message}accept(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.logger.log("Invitation.accept"),this.state!==En.Initial){const e=new Error("Invalid session state ".concat(this.state));return this.logger.error(e.message),Promise.reject(e)}return e.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiers=e.sessionDescriptionHandlerModifiers),e.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptions=e.sessionDescriptionHandlerOptions),this.stateTransition(En.Establishing),this.sendAccept(e).then((e=>{let{message:t,session:n}=e;n.delegate={onAck:e=>this.onAckRequest(e),onAckTimeout:()=>this.onAckTimeout(),onBye:e=>this.onByeRequest(e),onInfo:e=>this.onInfoRequest(e),onInvite:e=>this.onInviteRequest(e),onMessage:e=>this.onMessageRequest(e),onNotify:e=>this.onNotifyRequest(e),onPrack:e=>this.onPrackRequest(e),onRefer:e=>this.onReferRequest(e)},this._dialog=n,this.stateTransition(En.Established),this._replacee&&this._replacee._bye()})).catch((e=>this.handleResponseError(e)))}progress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.logger.log("Invitation.progress"),this.state!==En.Initial){const e=new Error("Invalid session state ".concat(this.state));return this.logger.error(e.message),Promise.reject(e)}const t=e.statusCode||180;if(t<100||t>199)throw new TypeError("Invalid statusCode: "+t);return e.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiers=e.sessionDescriptionHandlerModifiers),e.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptions=e.sessionDescriptionHandlerOptions),this.waitingForPrack?(this.logger.warn("Unexpected call for progress while waiting for prack, ignoring"),Promise.resolve()):100===e.statusCode?this.sendProgressTrying().then((()=>{})).catch((e=>this.handleResponseError(e))):"required"===this.rel100||"supported"===this.rel100&&e.rel100||"supported"===this.rel100&&this.userAgent.configuration.sipExtension100rel===kn.Required?this.sendProgressReliableWaitForPrack(e).then((()=>{})).catch((e=>this.handleResponseError(e))):this.sendProgress(e).then((()=>{})).catch((e=>this.handleResponseError(e)))}reject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.logger.log("Invitation.reject"),this.state!==En.Initial&&this.state!==En.Establishing){const e=new Error("Invalid session state ".concat(this.state));return this.logger.error(e.message),Promise.reject(e)}const t=e.statusCode||480,n=e.reasonPhrase?e.reasonPhrase:We(t),r=e.extraHeaders||[];if(t<300||t>699)throw new TypeError("Invalid statusCode: "+t);const i=e.body?Et(e.body):void 0;return t<400?this.incomingInviteRequest.redirect([],{statusCode:t,reasonPhrase:n,extraHeaders:r,body:i}):this.incomingInviteRequest.reject({statusCode:t,reasonPhrase:n,extraHeaders:r,body:i}),this.stateTransition(En.Terminated),Promise.resolve()}_onCancel(e){if(this.logger.log("Invitation._onCancel"),this.state===En.Initial||this.state===En.Establishing){if(this.delegate&&this.delegate.onCancel){const t=new hn(e);this.delegate.onCancel(t)}this.isCanceled=!0,this.incomingInviteRequest.reject({statusCode:487}),this.stateTransition(En.Terminated)}else this.logger.error("CANCEL received while in state ".concat(this.state,", dropping request"))}handlePrackOfferAnswer(e){if(!this.dialog)throw new Error("Dialog undefined.");const t=Ot(e.message);if(!t||"session"!==t.contentDisposition)return Promise.resolve(void 0);const n={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers};switch(this.dialog.signalingState){case vt.Initial:throw new Error("Invalid signaling state ".concat(this.dialog.signalingState,"."));case vt.Stable:return this.setAnswer(t,n).then((()=>{}));case vt.HaveLocalOffer:throw new Error("Invalid signaling state ".concat(this.dialog.signalingState,"."));case vt.HaveRemoteOffer:return this.setOfferAndGetAnswer(t,n);case vt.Closed:default:throw new Error("Invalid signaling state ".concat(this.dialog.signalingState,"."))}}handleResponseError(e){let t=480;if(e instanceof Error?this.logger.error(e.message):this.logger.error(e),e instanceof fn?(this.logger.error("A session description handler occurred while sending response (content type unsupported"),t=415):e instanceof pn?this.logger.error("A session description handler occurred while sending response"):e instanceof gn?this.logger.error("Session ended before response could be formulated and sent (while waiting for PRACK)"):e instanceof At&&this.logger.error("Session changed state before response could be formulated and sent"),this.state===En.Initial||this.state===En.Establishing)try{this.incomingInviteRequest.reject({statusCode:t}),this.stateTransition(En.Terminated)}catch(cE){throw this.logger.error("An error occurred attempting to reject the request while handling another error"),cE}if(!this.isCanceled)throw e;this.logger.warn("An error occurred while attempting to formulate and send a response to an incoming INVITE. However a CANCEL was received and processed while doing so which can (and often does) result in errors occurring as the session terminates in the meantime. Said error is being ignored.")}onAckTimeout(){if(this.logger.log("Invitation.onAckTimeout"),!this.dialog)throw new Error("Dialog undefined.");this.logger.log("No ACK received for an extended period of time, terminating session"),this.dialog.bye(),this.stateTransition(En.Terminated)}sendAccept(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers},n=e.extraHeaders||[];return this.waitingForPrack?this.waitForArrivalOfPrack().then((()=>clearTimeout(this.userNoAnswerTimer))).then((()=>this.generateResponseOfferAnswer(this.incomingInviteRequest,t))).then((e=>this.incomingInviteRequest.accept({statusCode:200,body:e,extraHeaders:n}))):(clearTimeout(this.userNoAnswerTimer),this.generateResponseOfferAnswer(this.incomingInviteRequest,t).then((e=>this.incomingInviteRequest.accept({statusCode:200,body:e,extraHeaders:n}))))}sendProgress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.statusCode||180,n=e.reasonPhrase,r=(e.extraHeaders||[]).slice(),i=e.body?Et(e.body):void 0;if(183===t&&!i)return this.sendProgressWithSDP(e);try{const e=this.incomingInviteRequest.progress({statusCode:t,reasonPhrase:n,extraHeaders:r,body:i});return this._dialog=e.session,Promise.resolve(e)}catch(o){return Promise.reject(o)}}sendProgressWithSDP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers},n=e.statusCode||183,r=e.reasonPhrase,i=(e.extraHeaders||[]).slice();return this.generateResponseOfferAnswer(this.incomingInviteRequest,t).then((e=>this.incomingInviteRequest.progress({statusCode:n,reasonPhrase:r,extraHeaders:i,body:e}))).then((e=>(this._dialog=e.session,e)))}sendProgressReliable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.extraHeaders=(e.extraHeaders||[]).slice(),e.extraHeaders.push("Require: 100rel"),e.extraHeaders.push("RSeq: "+Math.floor(1e4*Math.random())),this.sendProgressWithSDP(e)}sendProgressReliableWaitForPrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers},n=e.statusCode||183,r=e.reasonPhrase,i=(e.extraHeaders||[]).slice();let o;return i.push("Require: 100rel"),i.push("RSeq: "+this.rseq++),new Promise(((e,a)=>{this.waitingForPrack=!0,this.generateResponseOfferAnswer(this.incomingInviteRequest,t).then((e=>(o=e,this.incomingInviteRequest.progress({statusCode:n,reasonPhrase:r,extraHeaders:i,body:o})))).then((t=>{let s,c;this._dialog=t.session,t.session.delegate={onPrack:n=>{s=n,clearTimeout(l),clearTimeout(h),this.waitingForPrack&&(this.waitingForPrack=!1,this.handlePrackOfferAnswer(s).then((n=>{try{c=s.accept({statusCode:200,body:n}),this.prackArrived(),e({prackRequest:s,prackResponse:c,progressResponse:t})}catch(r){a(r)}})).catch((e=>a(e))))}};const l=setTimeout((()=>{this.waitingForPrack&&(this.waitingForPrack=!1,this.logger.warn("No PRACK received, rejecting INVITE."),clearTimeout(h),this.reject({statusCode:504}).then((()=>a(new gn))).catch((e=>a(e))))}),64*ut.T1),u=()=>{try{this.incomingInviteRequest.progress({statusCode:n,reasonPhrase:r,extraHeaders:i,body:o})}catch(e){return this.waitingForPrack=!1,void a(e)}h=setTimeout(u,d*=2)};let d=ut.T1,h=setTimeout(u,d)})).catch((e=>{this.waitingForPrack=!1,a(e)}))}))}sendProgressTrying(){try{const e=this.incomingInviteRequest.trying();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}waitForArrivalOfPrack(){if(this.waitingForPrackPromise)throw new Error("Already waiting for PRACK");return this.waitingForPrackPromise=new Promise(((e,t)=>{this.waitingForPrackResolve=e,this.waitingForPrackReject=t})),this.waitingForPrackPromise}prackArrived(){this.waitingForPrackResolve&&this.waitingForPrackResolve(),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0}prackNeverArrived(){this.waitingForPrackReject&&this.waitingForPrackReject(new gn),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0}}class Cn extends On{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e,n),this.disposed=!1,this.earlyMedia=!1,this.earlyMediaSessionDescriptionHandlers=new Map,this.isCanceled=!1,this.inviteWithoutSdp=!1,this.logger=e.getLogger("sip.Inviter"),this.earlyMedia=void 0!==n.earlyMedia?n.earlyMedia:this.earlyMedia,this.fromTag=Ge(),this.inviteWithoutSdp=void 0!==n.inviteWithoutSdp?n.inviteWithoutSdp:this.inviteWithoutSdp;const r=Object.assign({},n);r.params=Object.assign({},n.params);const i=n.anonymous||!1,o=e.contact.toString({anonymous:i,outbound:i?!e.contact.tempGruu:!e.contact.pubGruu});i&&e.configuration.uri&&(r.params.fromDisplayName="Anonymous",r.params.fromUri="sip:anonymous@anonymous.invalid");let a=e.userAgentCore.configuration.aor;if(r.params.fromUri&&(a="string"===typeof r.params.fromUri?Be.URIParse(r.params.fromUri):r.params.fromUri),!a)throw new TypeError("Invalid from URI: "+r.params.fromUri);let s=t;if(r.params.toUri&&(s="string"===typeof r.params.toUri?Be.URIParse(r.params.toUri):r.params.toUri),!s)throw new TypeError("Invalid to URI: "+r.params.toUri);const c=Object.assign({},r.params);c.fromTag=this.fromTag;const l=(r.extraHeaders||[]).slice();i&&e.configuration.uri&&(l.push("P-Preferred-Identity: "+e.configuration.uri.toString()),l.push("Privacy: id")),l.push("Contact: "+o),l.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),e.configuration.sipExtension100rel===kn.Required&&l.push("Require: 100rel"),e.configuration.sipExtensionReplaces===kn.Required&&l.push("Require: replaces"),r.extraHeaders=l;this.outgoingRequestMessage=e.userAgentCore.makeOutgoingRequestMessage(rt.INVITE,t,a,s,c,l,undefined),this._contact=o,this._referralInviterOptions=r,this._renderbody=n.renderbody,this._rendertype=n.rendertype,n.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiers=n.sessionDescriptionHandlerModifiers),n.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptions=n.sessionDescriptionHandlerOptions),n.sessionDescriptionHandlerModifiersReInvite&&(this.sessionDescriptionHandlerModifiersReInvite=n.sessionDescriptionHandlerModifiersReInvite),n.sessionDescriptionHandlerOptionsReInvite&&(this.sessionDescriptionHandlerOptionsReInvite=n.sessionDescriptionHandlerOptionsReInvite),this._id=this.outgoingRequestMessage.callId+this.fromTag,this.userAgent._sessions[this._id]=this}dispose(){if(this.disposed)return Promise.resolve();switch(this.disposed=!0,this.disposeEarlyMedia(),this.state){case En.Initial:case En.Establishing:return this.cancel().then((()=>super.dispose()));case En.Established:case En.Terminating:case En.Terminated:return super.dispose();default:throw new Error("Unknown state.")}}get body(){return this.outgoingRequestMessage.body}get localIdentity(){return this.outgoingRequestMessage.from}get remoteIdentity(){return this.outgoingRequestMessage.to}get request(){return this.outgoingRequestMessage}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.logger.log("Inviter.cancel"),this.state!==En.Initial&&this.state!==En.Establishing){const e=new Error("Invalid session state ".concat(this.state));return this.logger.error(e.message),Promise.reject(e)}if(this.isCanceled=!0,this.stateTransition(En.Terminating),this.outgoingInviteRequest){let t;e.statusCode&&e.reasonPhrase&&(t=function(e,t){if(e&&e<200||e>699)throw new TypeError("Invalid statusCode: "+e);if(e)return"SIP;cause="+e+';text="'+(We(e)||t)+'"'}(e.statusCode,e.reasonPhrase)),this.outgoingInviteRequest.cancel(t,e)}else this.logger.warn("Canceled session before INVITE was sent"),this.stateTransition(En.Terminated);return Promise.resolve()}invite(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.logger.log("Inviter.invite"),this.state!==En.Initial)return super.invite(e);if(e.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiers=e.sessionDescriptionHandlerModifiers),e.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptions=e.sessionDescriptionHandlerOptions),e.withoutSdp||this.inviteWithoutSdp)return this._renderbody&&this._rendertype&&(this.outgoingRequestMessage.body={contentType:this._rendertype,body:this._renderbody}),this.stateTransition(En.Establishing),Promise.resolve(this.sendInvite(e));const t={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.getOffer(t).then((t=>(this.outgoingRequestMessage.body={body:t.content,contentType:t.contentType},this.stateTransition(En.Establishing),this.sendInvite(e)))).catch((e=>{throw this.logger.log(e.message),this.state!==En.Terminated&&this.stateTransition(En.Terminated),e}))}sendInvite(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.outgoingInviteRequest=this.userAgent.userAgentCore.invite(this.outgoingRequestMessage,{onAccept:t=>this.dialog?(this.logger.log("Additional confirmed dialog, sending ACK and BYE"),void this.ackAndBye(t)):this.isCanceled?(this.logger.log("Canceled session accepted, sending ACK and BYE"),this.ackAndBye(t),void this.stateTransition(En.Terminated)):(this.notifyReferer(t),void this.onAccept(t).then((()=>{this.disposeEarlyMedia()})).catch((()=>{this.disposeEarlyMedia()})).then((()=>{e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(t)}))),onProgress:t=>{this.isCanceled||(this.notifyReferer(t),this.onProgress(t).catch((()=>{this.disposeEarlyMedia()})).then((()=>{e.requestDelegate&&e.requestDelegate.onProgress&&e.requestDelegate.onProgress(t)})))},onRedirect:t=>{this.notifyReferer(t),this.onRedirect(t),e.requestDelegate&&e.requestDelegate.onRedirect&&e.requestDelegate.onRedirect(t)},onReject:t=>{this.notifyReferer(t),this.onReject(t),e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(t)},onTrying:t=>{this.notifyReferer(t),this.onTrying(t),e.requestDelegate&&e.requestDelegate.onTrying&&e.requestDelegate.onTrying(t)}}),this.outgoingInviteRequest}disposeEarlyMedia(){this.earlyMediaSessionDescriptionHandlers.forEach((e=>{e.close()})),this.earlyMediaSessionDescriptionHandlers.clear()}notifyReferer(e){if(!this._referred)return;if(!(this._referred instanceof On))throw new Error("Referred session not instance of session");if(!this._referred.dialog)return;if(!e.message.statusCode)throw new Error("Status code undefined.");if(!e.message.reasonPhrase)throw new Error("Reason phrase undefined.");const t=e.message.statusCode,n=e.message.reasonPhrase,r="SIP/2.0 ".concat(t," ").concat(n).trim();this._referred.dialog.notify(void 0,{extraHeaders:["Event: refer","Subscription-State: terminated"],body:{contentDisposition:"render",contentType:"message/sipfrag",content:r}}).delegate={onReject:()=>{this._referred=void 0}}}onAccept(e){if(this.logger.log("Inviter.onAccept"),this.state!==En.Establishing)return this.logger.error("Accept received while in state ".concat(this.state,", dropping response")),Promise.reject(new Error("Invalid session state ".concat(this.state)));const t=e.message,n=e.session;switch(t.hasHeader("P-Asserted-Identity")&&(this._assertedIdentity=Be.nameAddrHeaderParse(t.getHeader("P-Asserted-Identity"))),n.delegate={onAck:e=>this.onAckRequest(e),onBye:e=>this.onByeRequest(e),onInfo:e=>this.onInfoRequest(e),onInvite:e=>this.onInviteRequest(e),onMessage:e=>this.onMessageRequest(e),onNotify:e=>this.onNotifyRequest(e),onPrack:e=>this.onPrackRequest(e),onRefer:e=>this.onReferRequest(e)},this._dialog=n,n.signalingState){case vt.Initial:case vt.HaveLocalOffer:return this.logger.error("Received 2xx response to INVITE without a session description"),this.ackAndBye(e,400,"Missing session description"),this.stateTransition(En.Terminated),Promise.reject(new Error("Bad Media Description"));case vt.HaveRemoteOffer:{if(!this._dialog.offer)throw new Error("Session offer undefined in signaling state ".concat(this._dialog.signalingState,"."));const t={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.setOfferAndGetAnswer(this._dialog.offer,t).then((t=>{e.ack({body:t}),this.stateTransition(En.Established)})).catch((t=>{throw this.ackAndBye(e,488,"Invalid session description"),this.stateTransition(En.Terminated),t}))}case vt.Stable:{if(this.earlyMediaSessionDescriptionHandlers.size>0){const t=this.earlyMediaSessionDescriptionHandlers.get(n.id);if(!t)throw new Error("Session description handler undefined.");return this.setSessionDescriptionHandler(t),this.earlyMediaSessionDescriptionHandlers.delete(n.id),e.ack(),this.stateTransition(En.Established),Promise.resolve()}if(this.earlyMediaDialog){if(this.earlyMediaDialog!==n){if(this.earlyMedia){const e="You have set the 'earlyMedia' option to 'true' which requires that your INVITE requests do not fork and yet this INVITE request did in fact fork. Consequentially and not surprisingly the end point which accepted the INVITE (confirmed dialog) does not match the end point with which early media has been setup (early dialog) and thus this session is unable to proceed. In accordance with the SIP specifications, the SIP servers your end point is connected to determine if an INVITE forks and the forking behavior of those servers cannot be controlled by this library. If you wish to use early media with this library you must configure those servers accordingly. Alternatively you may set the 'earlyMedia' to 'false' which will allow this library to function with any INVITE requests which do fork.";this.logger.error(e)}const t=new Error("Early media dialog does not equal confirmed dialog, terminating session");return this.logger.error(t.message),this.ackAndBye(e,488,"Not Acceptable Here"),this.stateTransition(En.Terminated),Promise.reject(t)}return e.ack(),this.stateTransition(En.Established),Promise.resolve()}const t=n.answer;if(!t)throw new Error("Answer is undefined.");const r={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.setAnswer(t,r).then((()=>{let t;this._renderbody&&this._rendertype&&(t={body:{contentDisposition:"render",contentType:this._rendertype,content:this._renderbody}}),e.ack(t),this.stateTransition(En.Established)})).catch((t=>{throw this.logger.error(t.message),this.ackAndBye(e,488,"Not Acceptable Here"),this.stateTransition(En.Terminated),t}))}case vt.Closed:return Promise.reject(new Error("Terminated."));default:throw new Error("Unknown session signaling state.")}}onProgress(e){var t;if(this.logger.log("Inviter.onProgress"),this.state!==En.Establishing)return this.logger.error("Progress received while in state ".concat(this.state,", dropping response")),Promise.reject(new Error("Invalid session state ".concat(this.state)));if(!this.outgoingInviteRequest)throw new Error("Outgoing INVITE request undefined.");const n=e.message,r=e.session;n.hasHeader("P-Asserted-Identity")&&(this._assertedIdentity=Be.nameAddrHeaderParse(n.getHeader("P-Asserted-Identity")));const i=n.getHeader("require"),o=n.getHeader("rseq"),a=!!(i&&i.includes("100rel")&&o?Number(o):void 0),s=[];switch(a&&s.push("RAck: "+n.getHeader("rseq")+" "+n.getHeader("cseq")),r.signalingState){case vt.Initial:return a&&(this.logger.warn("First reliable provisional response received MUST contain an offer when INVITE does not contain an offer."),e.prack({extraHeaders:s})),Promise.resolve();case vt.HaveLocalOffer:return a&&e.prack({extraHeaders:s}),Promise.resolve();case vt.HaveRemoteOffer:if(!a)return this.logger.warn("Non-reliable provisional response MUST NOT contain an initial offer, discarding response."),Promise.resolve();{const i=this.sessionDescriptionHandlerFactory(this,this.userAgent.configuration.sessionDescriptionHandlerFactoryOptions||{});return(null===(t=this.delegate)||void 0===t?void 0:t.onSessionDescriptionHandler)&&this.delegate.onSessionDescriptionHandler(i,!0),this.earlyMediaSessionDescriptionHandlers.set(r.id,i),i.setDescription(n.body,this.sessionDescriptionHandlerOptions,this.sessionDescriptionHandlerModifiers).then((()=>i.getDescription(this.sessionDescriptionHandlerOptions,this.sessionDescriptionHandlerModifiers))).then((t=>{const n={contentDisposition:"session",contentType:t.contentType,content:t.body};e.prack({extraHeaders:s,body:n})})).catch((e=>{throw this.stateTransition(En.Terminated),e}))}case vt.Stable:if(a&&e.prack({extraHeaders:s}),this.earlyMedia&&!this.earlyMediaDialog){this.earlyMediaDialog=r;const e=r.answer;if(!e)throw new Error("Answer is undefined.");const t={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.setAnswer(e,t).catch((e=>{throw this.stateTransition(En.Terminated),e}))}return Promise.resolve();case vt.Closed:return Promise.reject(new Error("Terminated."));default:throw new Error("Unknown session signaling state.")}}onRedirect(e){this.logger.log("Inviter.onRedirect"),this.state===En.Establishing||this.state===En.Terminating?this.stateTransition(En.Terminated):this.logger.error("Redirect received while in state ".concat(this.state,", dropping response"))}onReject(e){this.logger.log("Inviter.onReject"),this.state===En.Establishing||this.state===En.Terminating?this.stateTransition(En.Terminated):this.logger.error("Reject received while in state ".concat(this.state,", dropping response"))}onTrying(e){this.logger.log("Inviter.onTrying"),this.state===En.Establishing||this.logger.error("Trying received while in state ".concat(this.state,", dropping response"))}}var jn,An;!function(e){e.Started="Started",e.Stopped="Stopped"}(jn=jn||(jn={}));class _n{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._publishers={},this._registerers={},this._sessions={},this._subscriptions={},this._state=jn.Stopped,this._stateEventEmitter=new cn,this.delegate=e.delegate,this.options=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_n.defaultOptions()),{sipjsId:Ve(5)}),{uri:new He("sip","anonymous."+Ve(6),"anonymous.invalid")}),{viaHost:Ve(12)+".invalid"}),_n.stripUndefinedProperties(e)),this.options.hackIpInContact)if("boolean"===typeof this.options.hackIpInContact&&this.options.hackIpInContact){const e=1,t=254,n=Math.floor(Math.random()*(t-e+1)+e);this.options.viaHost="192.0.2."+n}else this.options.hackIpInContact&&(this.options.viaHost=this.options.hackIpInContact);switch(this.loggerFactory=new ot,this.logger=this.loggerFactory.getLogger("sip.UserAgent"),this.loggerFactory.builtinEnabled=this.options.logBuiltinEnabled,this.loggerFactory.connector=this.options.logConnector,this.options.logLevel){case"error":this.loggerFactory.level=tt.error;break;case"warn":this.loggerFactory.level=tt.warn;break;case"log":this.loggerFactory.level=tt.log;break;case"debug":this.loggerFactory.level=tt.debug}if(this.options.logConfiguration&&(this.logger.log("Configuration:"),Object.keys(this.options).forEach((e=>{const t=this.options[e];switch(e){case"uri":case"sessionDescriptionHandlerFactory":this.logger.log("\xb7 "+e+": "+t);break;case"authorizationPassword":this.logger.log("\xb7 "+e+": NOT SHOWN");break;case"transportConstructor":this.logger.log("\xb7 "+e+": "+t.name);break;default:this.logger.log("\xb7 "+e+": "+JSON.stringify(t))}}))),this.options.transportOptions){const t=this.options.transportOptions,n=t.maxReconnectionAttempts,r=t.reconnectionTimeout;if(void 0!==n){const e='The transport option "maxReconnectionAttempts" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(e)}if(void 0!==r){const e='The transport option "reconnectionTimeout" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(e)}void 0===e.reconnectionDelay&&void 0!==r&&(this.options.reconnectionDelay=r),void 0===e.reconnectionAttempts&&void 0!==n&&(this.options.reconnectionAttempts=n)}if(void 0!==e.reconnectionDelay){const e='The user agent option "reconnectionDelay" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(e)}if(void 0!==e.reconnectionAttempts){const e='The user agent option "reconnectionAttempts" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(e)}if(this._transport=new this.options.transportConstructor(this.getLogger("sip.Transport"),this.options.transportOptions),this.initTransportCallbacks(),this._contact=this.initContact(),this._instanceId=this.options.instanceId?this.options.instanceId:_n.newUUID(),-1===Be.parse(this._instanceId,"uuid"))throw new Error("Invalid instanceId.");this._userAgentCore=this.initCore()}static makeURI(e){return Be.URIParse(e)}static defaultOptions(){return{allowLegacyNotifications:!1,authorizationHa1:"",authorizationPassword:"",authorizationUsername:"",delegate:{},contactName:"",contactParams:{transport:"ws"},displayName:"",forceRport:!1,gracefulShutdown:!0,hackAllowUnregisteredOptionTags:!1,hackIpInContact:!1,hackViaTcp:!1,instanceId:"",instanceIdAlwaysAdded:!1,logBuiltinEnabled:!0,logConfiguration:!0,logConnector:()=>{},logLevel:"log",noAnswerTimeout:60,preloadedRouteSet:[],reconnectionAttempts:0,reconnectionDelay:4,sendInitialProvisionalResponse:!0,sessionDescriptionHandlerFactory:sn(),sessionDescriptionHandlerFactoryOptions:{},sipExtension100rel:kn.Unsupported,sipExtensionReplaces:kn.Unsupported,sipExtensionExtraSupported:[],sipjsId:"",transportConstructor:dn,transportOptions:{},uri:new He("sip","anonymous","anonymous.invalid"),userAgentString:"SIP.js/0.21.1",viaHost:""}}static newUUID(){const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=Math.floor(16*Math.random());return("x"===e?t:t%4+8).toString(16)}));return e}static stripUndefinedProperties(e){return Object.keys(e).reduce(((t,n)=>(void 0!==e[n]&&(t[n]=e[n]),t)),{})}get configuration(){return this.options}get contact(){return this._contact}get instanceId(){return this._instanceId}get state(){return this._state}get stateChange(){return this._stateEventEmitter}get transport(){return this._transport}get userAgentCore(){return this._userAgentCore}getLogger(e,t){return this.loggerFactory.getLogger(e,t)}getLoggerFactory(){return this.loggerFactory}isConnected(){return this.transport.isConnected()}reconnect(){return this.state===jn.Stopped?Promise.reject(new Error("User agent stopped.")):Promise.resolve().then((()=>this.transport.connect()))}start(){return this.state===jn.Started?(this.logger.warn("User agent already started"),Promise.resolve()):(this.logger.log("Starting ".concat(this.configuration.uri)),this.transitionState(jn.Started),this.transport.connect())}async stop(){if(this.state===jn.Stopped)return this.logger.warn("User agent already stopped"),Promise.resolve();if(this.logger.log("Stopping ".concat(this.configuration.uri)),!this.options.gracefulShutdown)return this.logger.log("Dispose of transport"),this.transport.dispose().catch((e=>{throw this.logger.error(e.message),e})),this.logger.log("Dispose of core"),this.userAgentCore.dispose(),this._publishers={},this._registerers={},this._sessions={},this._subscriptions={},this.transitionState(jn.Stopped),Promise.resolve();const e=Object.assign({},this._publishers),t=Object.assign({},this._registerers),n=Object.assign({},this._sessions),r=Object.assign({},this._subscriptions),i=this.transport,o=this.userAgentCore;this.logger.log("Dispose of registerers");for(const a in t)t[a]&&await t[a].dispose().catch((e=>{throw this.logger.error(e.message),delete this._registerers[a],e}));this.logger.log("Dispose of sessions");for(const a in n)n[a]&&await n[a].dispose().catch((e=>{throw this.logger.error(e.message),delete this._sessions[a],e}));this.logger.log("Dispose of subscriptions");for(const a in r)r[a]&&await r[a].dispose().catch((e=>{throw this.logger.error(e.message),delete this._subscriptions[a],e}));this.logger.log("Dispose of publishers");for(const a in e)e[a]&&await e[a].dispose().catch((e=>{throw this.logger.error(e.message),delete this._publishers[a],e}));this.logger.log("Dispose of transport"),await i.dispose().catch((e=>{throw this.logger.error(e.message),e})),this.logger.log("Dispose of core"),o.dispose(),this.transitionState(jn.Stopped)}_makeInviter(e,t){return new Cn(this,e,t)}attemptReconnection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=this.options.reconnectionAttempts,n=this.options.reconnectionDelay;e>t?this.logger.log("Maximum reconnection attempts reached"):(this.logger.log("Reconnection attempt ".concat(e," of ").concat(t," - trying")),setTimeout((()=>{this.reconnect().then((()=>{this.logger.log("Reconnection attempt ".concat(e," of ").concat(t," - succeeded"))})).catch((n=>{this.logger.error(n.message),this.logger.log("Reconnection attempt ".concat(e," of ").concat(t," - failed")),this.attemptReconnection(++e)}))}),1===e?0:1e3*n))}initContact(){var e=this;const t=""!==this.options.contactName?this.options.contactName:Ve(8),n=this.options.contactParams,r={pubGruu:void 0,tempGruu:void 0,uri:new He("sip",t,this.options.viaHost,void 0,n),toString:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.anonymous||!1,i=t.outbound||!1,o=t.register||!1;let a="<";return a+=r?e.contact.tempGruu||"sip:anonymous@anonymous.invalid;transport=".concat(n.transport?n.transport:"ws"):o?e.contact.uri:e.contact.pubGruu||e.contact.uri,i&&(a+=";ob"),a+=">",e.options.instanceIdAlwaysAdded&&(a+=';+sip.instance="<urn:uuid:'+e._instanceId+'>"'),a}};return r}initCore(){let e=[];e.push("outbound"),this.options.sipExtension100rel===kn.Supported&&e.push("100rel"),this.options.sipExtensionReplaces===kn.Supported&&e.push("replaces"),this.options.sipExtensionExtraSupported&&e.push(...this.options.sipExtensionExtraSupported),this.options.hackAllowUnregisteredOptionTags||(e=e.filter((e=>Tn[e]))),e=Array.from(new Set(e));const t=e.slice();(this.contact.pubGruu||this.contact.tempGruu)&&t.push("gruu");const n={aor:this.options.uri,contact:this.contact,displayName:this.options.displayName,loggerFactory:this.loggerFactory,hackViaTcp:this.options.hackViaTcp,routeSet:this.options.preloadedRouteSet,supportedOptionTags:e,supportedOptionTagsResponse:t,sipjsId:this.options.sipjsId,userAgentHeaderFieldValue:this.options.userAgentString,viaForceRport:this.options.forceRport,viaHost:this.options.viaHost,authenticationFactory:()=>{const e=this.options.authorizationUsername?this.options.authorizationUsername:this.options.uri.user,t=this.options.authorizationPassword?this.options.authorizationPassword:void 0,n=this.options.authorizationHa1?this.options.authorizationHa1:void 0;return new Je(this.getLoggerFactory(),n,e,t)},transportAccessor:()=>this.transport};return new on(n,{onInvite:e=>{var t;const n=new Pn(this,e);if(e.delegate={onCancel:e=>{n._onCancel(e)},onTransportError:e=>{this.logger.error("A transport error has occurred while handling an incoming INVITE request.")}},e.trying(),this.options.sipExtensionReplaces!==kn.Unsupported){const t=e.message.parseHeader("replaces");if(t){const e=t.call_id;if("string"!==typeof e)throw new Error("Type of call id is not string");const r=t.replaces_to_tag;if("string"!==typeof r)throw new Error("Type of to tag is not string");const i=t.replaces_from_tag;if("string"!==typeof i)throw new Error("type of from tag is not string");const o=e+r+i,a=this.userAgentCore.dialogs.get(o);if(!a)return void n.reject({statusCode:481});if(!a.early&&!0===t.early_only)return void n.reject({statusCode:486});const s=this._sessions[e+i]||this._sessions[e+r]||void 0;if(!s)throw new Error("Session does not exist.");n._replacee=s}}if(null===(t=this.delegate)||void 0===t?void 0:t.onInvite)return n.autoSendAnInitialProvisionalResponse?void n.progress().then((()=>{var e;if(void 0===(null===(e=this.delegate)||void 0===e?void 0:e.onInvite))throw new Error("onInvite undefined.");this.delegate.onInvite(n)})):void this.delegate.onInvite(n);n.reject({statusCode:486})},onMessage:e=>{if(this.delegate&&this.delegate.onMessage){const t=new wn(e);this.delegate.onMessage(t)}else e.accept()},onNotify:e=>{if(this.delegate&&this.delegate.onNotify){const t=new xn(e);this.delegate.onNotify(t)}else this.options.allowLegacyNotifications?e.accept():e.reject({statusCode:481})},onRefer:e=>{this.logger.warn("Received an out of dialog REFER request"),this.delegate&&this.delegate.onReferRequest?this.delegate.onReferRequest(e):e.reject({statusCode:405})},onRegister:e=>{this.logger.warn("Received an out of dialog REGISTER request"),this.delegate&&this.delegate.onRegisterRequest?this.delegate.onRegisterRequest(e):e.reject({statusCode:405})},onSubscribe:e=>{this.logger.warn("Received an out of dialog SUBSCRIBE request"),this.delegate&&this.delegate.onSubscribeRequest?this.delegate.onSubscribeRequest(e):e.reject({statusCode:405})}})}initTransportCallbacks(){this.transport.onConnect=()=>this.onTransportConnect(),this.transport.onDisconnect=e=>this.onTransportDisconnect(e),this.transport.onMessage=e=>this.onTransportMessage(e)}onTransportConnect(){this.state!==jn.Stopped&&this.delegate&&this.delegate.onConnect&&this.delegate.onConnect()}onTransportDisconnect(e){this.state!==jn.Stopped&&(this.delegate&&this.delegate.onDisconnect&&this.delegate.onDisconnect(e),e&&this.options.reconnectionAttempts>0&&this.attemptReconnection())}onTransportMessage(e){const t=nt.parseMessage(e,this.getLogger("sip.Parser"));if(!t)return void this.logger.warn("Failed to parse incoming message. Dropping.");if(this.state===jn.Stopped&&t instanceof Qe)return void this.logger.warn("Received ".concat(t.method," request while stopped. Dropping."));const n=()=>{const e=["from","to","call_id","cseq","via"];for(const n of e)if(!t.hasHeader(n))return this.logger.warn("Missing mandatory header field : ".concat(n,".")),!1;return!0};if(t instanceof Qe){if(!n())return void this.logger.warn("Request missing mandatory header field. Dropping.");if(!t.toTag&&t.callId.substr(0,5)===this.options.sipjsId)return void this.userAgentCore.replyStateless(t,{statusCode:482});const e=Ye(t.body),r=t.getHeader("content-length");if(r&&e<Number(r))return void this.userAgentCore.replyStateless(t,{statusCode:400})}if(t instanceof et){if(!n())return void this.logger.warn("Response missing mandatory header field. Dropping.");if(t.getHeaders("via").length>1)return void this.logger.warn("More than one Via header field present in the response. Dropping.");if(t.via.host!==this.options.viaHost||void 0!==t.via.port)return void this.logger.warn("Via sent-by in the response does not match UA Via host value. Dropping.");const e=Ye(t.body),r=t.getHeader("content-length");if(r&&e<Number(r))return void this.logger.warn("Message body length is lower than the value in Content-Length header field. Dropping.")}if(t instanceof Qe)this.userAgentCore.receiveIncomingRequestFromTransport(t);else{if(!(t instanceof et))throw new Error("Invalid message type.");this.userAgentCore.receiveIncomingResponseFromTransport(t)}}transitionState(e,t){const n=()=>{throw new Error("Invalid state transition from ".concat(this._state," to ").concat(e))};switch(this._state){case jn.Started:e!==jn.Stopped&&n();break;case jn.Stopped:e!==jn.Started&&n();break;default:throw new Error("Unknown state.")}this.logger.log("Transitioned from ".concat(this._state," to ").concat(e)),this._state=e,this._stateEventEmitter.emit(this._state)}}!function(e){e.Initial="Initial",e.Registered="Registered",e.Unregistered="Unregistered",e.Terminated="Terminated"}(An=An||(An={}));class In{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.disposed=!1,this._contacts=[],this._retryAfter=void 0,this._state=An.Initial,this._waiting=!1,this._stateEventEmitter=new cn,this._waitingEventEmitter=new cn,this.userAgent=e;const n=e.configuration.uri.clone();if(n.user=void 0,this.options=Object.assign(Object.assign(Object.assign({},In.defaultOptions()),{registrar:n}),In.stripUndefinedProperties(t)),this.options.extraContactHeaderParams=(this.options.extraContactHeaderParams||[]).slice(),this.options.extraHeaders=(this.options.extraHeaders||[]).slice(),!this.options.registrar)throw new Error("Registrar undefined.");if(this.options.registrar=this.options.registrar.clone(),this.options.regId&&!this.options.instanceId?this.options.instanceId=this.userAgent.instanceId:!this.options.regId&&this.options.instanceId&&(this.options.regId=1),this.options.instanceId&&-1===Be.parse(this.options.instanceId,"uuid"))throw new Error("Invalid instanceId.");if(this.options.regId&&this.options.regId<0)throw new Error("Invalid regId.");const r=this.options.registrar,i=this.options.params&&this.options.params.fromUri||e.userAgentCore.configuration.aor,o=this.options.params&&this.options.params.toUri||e.configuration.uri,a=this.options.params||{},s=(t.extraHeaders||[]).slice();if(this.request=e.userAgentCore.makeOutgoingRequestMessage(rt.REGISTER,r,i,o,a,s,void 0),this.expires=this.options.expires||In.defaultExpires,this.expires<0)throw new Error("Invalid expires.");if(this.refreshFrequency=this.options.refreshFrequency||In.defaultRefreshFrequency,this.refreshFrequency<50||this.refreshFrequency>99)throw new Error("Invalid refresh frequency. The value represents a percentage of the expiration time and should be between 50 and 99.");this.logger=e.getLogger("sip.Registerer"),this.options.logConfiguration&&(this.logger.log("Configuration:"),Object.keys(this.options).forEach((e=>{const t=this.options[e];if("registrar"===e)this.logger.log("\xb7 "+e+": "+t);else this.logger.log("\xb7 "+e+": "+JSON.stringify(t))}))),this.id=this.request.callId+this.request.from.parameters.tag,this.userAgent._registerers[this.id]=this}static defaultOptions(){return{expires:In.defaultExpires,extraContactHeaderParams:[],extraHeaders:[],logConfiguration:!0,instanceId:"",params:{},regId:0,registrar:new He("sip","anonymous","anonymous.invalid"),refreshFrequency:In.defaultRefreshFrequency}}static stripUndefinedProperties(e){return Object.keys(e).reduce(((t,n)=>(void 0!==e[n]&&(t[n]=e[n]),t)),{})}get contacts(){return this._contacts.slice()}get retryAfter(){return this._retryAfter}get state(){return this._state}get stateChange(){return this._stateEventEmitter}dispose(){return this.disposed?Promise.resolve():(this.disposed=!0,this.logger.log("Registerer ".concat(this.id," in state ").concat(this.state," is being disposed")),delete this.userAgent._registerers[this.id],new Promise((e=>{const t=()=>{if(!this.waiting&&this._state===An.Registered)return this.stateChange.addListener((()=>{this.terminated(),e()}),{once:!0}),void this.unregister();this.terminated(),e()};this.waiting?this.waitingChange.addListener((()=>{t()}),{once:!0}):t()})))}register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.state===An.Terminated)throw this.stateError(),new Error("Registerer terminated. Unable to register.");if(this.disposed)throw this.stateError(),new Error("Registerer disposed. Unable to register.");if(this.waiting){this.waitingWarning();const e=new yn("REGISTER request already in progress, waiting for final response");return Promise.reject(e)}e.requestOptions&&(this.options=Object.assign(Object.assign({},this.options),e.requestOptions));const t=(this.options.extraHeaders||[]).slice();t.push("Contact: "+this.generateContactHeader(this.expires)),t.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),this.request.extraHeaders=t,this.waitingToggle(!0);const n=this.userAgent.userAgentCore.register(this.request,{onAccept:t=>{let n;t.message.hasHeader("expires")&&(n=Number(t.message.getHeader("expires"))),this._contacts=t.message.getHeaders("contact");let r,i=this._contacts.length;if(!i)return this.logger.error("No Contact header in response to REGISTER, dropping response."),void this.unregistered();for(;i--;){if(r=t.message.parseHeader("contact",i),!r)throw new Error("Contact undefined");if(this.userAgent.contact.pubGruu&&$e(r.uri,this.userAgent.contact.pubGruu)){n=Number(r.getParam("expires"));break}if(""===this.userAgent.configuration.contactName){if(r.uri.user===this.userAgent.contact.uri.user){n=Number(r.getParam("expires"));break}}else if($e(r.uri,this.userAgent.contact.uri)){n=Number(r.getParam("expires"));break}r=void 0}if(void 0===r)return this.logger.error("No Contact header pointing to us, dropping response"),this.unregistered(),void this.waitingToggle(!1);if(void 0===n)return this.logger.error("Contact pointing to us is missing expires parameter, dropping response"),this.unregistered(),void this.waitingToggle(!1);if(r.hasParam("temp-gruu")){const e=r.getParam("temp-gruu");e&&(this.userAgent.contact.tempGruu=Be.URIParse(e.replace(/"/g,"")))}if(r.hasParam("pub-gruu")){const e=r.getParam("pub-gruu");e&&(this.userAgent.contact.pubGruu=Be.URIParse(e.replace(/"/g,"")))}this.registered(n),e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(t),this.waitingToggle(!1)},onProgress:t=>{e.requestDelegate&&e.requestDelegate.onProgress&&e.requestDelegate.onProgress(t)},onRedirect:t=>{this.logger.error("Redirect received. Not supported."),this.unregistered(),e.requestDelegate&&e.requestDelegate.onRedirect&&e.requestDelegate.onRedirect(t),this.waitingToggle(!1)},onReject:t=>{if(423===t.message.statusCode)return t.message.hasHeader("min-expires")?(this.expires=Number(t.message.getHeader("min-expires")),this.waitingToggle(!1),void this.register()):(this.logger.error("423 response received for REGISTER without Min-Expires, dropping response"),this.unregistered(),void this.waitingToggle(!1));this.logger.warn("Failed to register, status code ".concat(t.message.statusCode));let n=NaN;if(500===t.message.statusCode||503===t.message.statusCode){const e=t.message.getHeader("retry-after");e&&(n=Number.parseInt(e,void 0))}this._retryAfter=isNaN(n)?void 0:n,this.unregistered(),e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(t),this._retryAfter=void 0,this.waitingToggle(!1)},onTrying:t=>{e.requestDelegate&&e.requestDelegate.onTrying&&e.requestDelegate.onTrying(t)}});return Promise.resolve(n)}unregister(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.state===An.Terminated)throw this.stateError(),new Error("Registerer terminated. Unable to register.");if(this.disposed&&this.state!==An.Registered)throw this.stateError(),new Error("Registerer disposed. Unable to register.");if(this.waiting){this.waitingWarning();const e=new yn("REGISTER request already in progress, waiting for final response");return Promise.reject(e)}this._state===An.Registered||e.all||this.logger.warn("Not currently registered, but sending an unregister anyway.");const t=(e.requestOptions&&e.requestOptions.extraHeaders||[]).slice();this.request.extraHeaders=t,e.all?(t.push("Contact: *"),t.push("Expires: 0")):t.push("Contact: "+this.generateContactHeader(0)),this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),void 0!==this.registrationTimer&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),this.waitingToggle(!0);const n=this.userAgent.userAgentCore.register(this.request,{onAccept:t=>{this._contacts=t.message.getHeaders("contact"),this.unregistered(),e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(t),this.waitingToggle(!1)},onProgress:t=>{e.requestDelegate&&e.requestDelegate.onProgress&&e.requestDelegate.onProgress(t)},onRedirect:t=>{this.logger.error("Unregister redirected. Not currently supported."),this.unregistered(),e.requestDelegate&&e.requestDelegate.onRedirect&&e.requestDelegate.onRedirect(t),this.waitingToggle(!1)},onReject:t=>{this.logger.error("Unregister rejected with status code ".concat(t.message.statusCode)),this.unregistered(),e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(t),this.waitingToggle(!1)},onTrying:t=>{e.requestDelegate&&e.requestDelegate.onTrying&&e.requestDelegate.onTrying(t)}});return Promise.resolve(n)}clearTimers(){void 0!==this.registrationTimer&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),void 0!==this.registrationExpiredTimer&&(clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=void 0)}generateContactHeader(e){let t=this.userAgent.contact.toString({register:!0});return this.options.regId&&this.options.instanceId&&(t+=";reg-id="+this.options.regId,t+=';+sip.instance="<urn:uuid:'+this.options.instanceId+'>"'),this.options.extraContactHeaderParams&&this.options.extraContactHeaderParams.forEach((e=>{t+=";"+e})),t+=";expires="+e,t}registered(e){this.clearTimers(),this.registrationTimer=setTimeout((()=>{this.registrationTimer=void 0,this.register()}),this.refreshFrequency/100*e*1e3),this.registrationExpiredTimer=setTimeout((()=>{this.logger.warn("Registration expired"),this.unregistered()}),1e3*e),this._state!==An.Registered&&this.stateTransition(An.Registered)}unregistered(){this.clearTimers(),this._state!==An.Unregistered&&this.stateTransition(An.Unregistered)}terminated(){this.clearTimers(),this._state!==An.Terminated&&this.stateTransition(An.Terminated)}stateTransition(e){const t=()=>{throw new Error("Invalid state transition from ".concat(this._state," to ").concat(e))};switch(this._state){case An.Initial:e!==An.Registered&&e!==An.Unregistered&&e!==An.Terminated&&t();break;case An.Registered:e!==An.Unregistered&&e!==An.Terminated&&t();break;case An.Unregistered:e!==An.Registered&&e!==An.Terminated&&t();break;case An.Terminated:t();break;default:throw new Error("Unrecognized state.")}this._state=e,this.logger.log("Registration transitioned to state ".concat(this._state)),this._stateEventEmitter.emit(this._state),e===An.Terminated&&this.dispose()}get waiting(){return this._waiting}get waitingChange(){return this._waitingEventEmitter}waitingToggle(e){if(this._waiting===e)throw new Error("Invalid waiting transition from ".concat(this._waiting," to ").concat(e));this._waiting=e,this.logger.log("Waiting toggled to ".concat(this._waiting)),this._waitingEventEmitter.emit(this._waiting)}waitingWarning(){let e="An attempt was made to send a REGISTER request while a prior one was still in progress.";e+=" RFC 3261 requires UAs MUST NOT send a new registration until they have received a final response",e+=" from the registrar for the previous one or the previous REGISTER request has timed out.",e+=" Note that if the transport disconnects, you still must wait for the prior request to time out before",e+=" sending a new REGISTER request or alternatively dispose of the current Registerer and create a new Registerer.",this.logger.warn("An attempt was made to send a REGISTER request while a prior one was still in progress. RFC 3261 requires UAs MUST NOT send a new registration until they have received a final response from the registrar for the previous one or the previous REGISTER request has timed out. Note that if the transport disconnects, you still must wait for the prior request to time out before sending a new REGISTER request or alternatively dispose of the current Registerer and create a new Registerer.")}stateError(){const e=this.state===An.Terminated?"is in 'Terminated' state":"has been disposed";let t="An attempt was made to send a REGISTER request when the Registerer ".concat(e,".");t+=" The Registerer transitions to 'Terminated' when Registerer.dispose() is called.",t+=" Perhaps you called UserAgent.stop() which dipsoses of all Registerers?",this.logger.error(t)}}In.defaultExpires=600,In.defaultRefreshFrequency=99;const Dn=new class{constructor(){this.userAgent=null,this.registerer=null,this.config=null,this.statusListeners=new Set,this.connectionState="disconnected",this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectTimer=null,this.networkCheckInterval=null,this.activeSession=null,this.callListeners=new Set,this.iceServers=[{urls:"stun:stun.l.google.com:19302"}]}addStatusListener(e){this.statusListeners.add(e),e(this.connectionState)}removeStatusListener(e){this.statusListeners.delete(e)}updateStatus(e){console.log("SIP Status Updated:",e),this.connectionState=e,this.statusListeners.forEach((t=>t(e)))}async initialize(e){console.log("Initializing SIP with config:",{webrtcGateway:e.webrtcGateway,sipUsername:e.sipUsername,sipDomain:e.sipDomain}),this.config=e,await this.connect()}async connect(){try{this.updateStatus("connecting");const e=_n.makeURI("sip:".concat(this.config.sipUsername,"@").concat(this.config.sipDomain));if(!e)throw new Error("Failed to create URI");const t={uri:e,transportOptions:{server:this.config.webrtcGateway,connectionTimeout:15,traceSip:!0,wsServers:[this.config.webrtcGateway]},sessionDescriptionHandlerOptions:{constraints:{audio:!0,video:!1},peerConnectionConfiguration:{iceServers:this.iceServers,iceCandidatePoolSize:0}},authorizationUsername:this.config.sipUsername,authorizationPassword:this.config.sipPassword,displayName:this.config.sipUsername,hackWssInTransport:!0,hackViaTcp:!0,hackIpInContact:!0,hackStripTcp:!0,contactName:this.config.sipUsername,userAgentString:"Axon WebRTC (SIPJS 0.21.1)",register:!0,delegate:{onInvite:e=>{console.log("Incoming INVITE received:",e);const t=e.remoteIdentity,n=t.uri.user;console.log("Call from:",n),this.activeSession=e,this.setupIncomingCallListeners(e,n),this.updateCallStatus("ringing",{number:n,isInbound:!0,callerName:t.displayName||n})},onMessage:e=>{console.log("Received SIP message:",e)}}};console.log("Creating UserAgent with options:",{uri:e.toString(),server:this.config.webrtcGateway}),this.userAgent=new _n(t),this.userAgent.transport.onConnect=()=>{console.log("Transport connected"),this.updateStatus("connected"),this.reconnectAttempts=0},this.userAgent.transport.onDisconnect=e=>{console.log("Transport disconnected:",e),this.updateStatus("disconnected"),this.handleDisconnect()},await this.userAgent.start(),this.registerer=new In(this.userAgent,{expires:300}),this.registerer.stateChange.addListener((e=>{switch(console.log("Registration state:",e),e){case"Registered":this.updateStatus("registered");break;case"Unregistered":this.updateStatus("connected");break;case"Terminated":this.updateStatus("disconnected")}})),await this.registerer.register(),console.log("SIP registration completed")}catch(e){console.error("SIP connection error:",e),this.updateStatus("error"),this.handleDisconnect()}}setupIncomingCallListeners(e,t){e.stateChange.addListener((n=>{switch(console.log("Incoming call state changed to: ".concat(n)),n){case En.Terminated:this.activeSession=null,this.updateCallStatus("terminated",{number:t,isInbound:!0});break;case En.Established:this.setupMediaHandling(e,t);break;default:this.updateCallStatus(n.toString().toLowerCase(),{number:t,isInbound:!0})}})),e.sessionDescriptionHandler&&(e.sessionDescriptionHandler.peerConnection.addEventListener("icecandidate",(e=>{console.log("ICE candidate:",e.candidate)})),e.sessionDescriptionHandler.peerConnection.addEventListener("connectionstatechange",(e=>{console.log("Connection state:",e.target.connectionState)})))}modifySDPForChanSip(e){let t=e.sdp;return console.log("Original SDP:",t),t=t.split("\n").filter((e=>!e.includes("a=fingerprint:")||(console.log("Keeping fingerprint line:",e),!0))).join("\n"),console.log("Modified SDP:",t),new RTCSessionDescription({type:e.type,sdp:t})}async makeCall(e){if(!this.userAgent||"registered"!==this.connectionState)throw new Error("SIP not ready");try{console.log("Making call to:",e);const t=_n.makeURI("sip:".concat(e,"@").concat(this.config.sipDomain));if(!t)throw new Error("Invalid number");const n={earlyMedia:!0,sessionDescriptionHandlerOptions:{constraints:{audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:!1},iceGatheringTimeout:2e3,peerConnectionConfiguration:{iceServers:this.iceServers,iceCandidatePoolSize:0,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",enableDtlsSrtp:!0}},sessionDescriptionHandlerModifiers:[e=>this.modifySDPForChanSip(e)]},r=new Cn(this.userAgent,t,n);r.stateChange.addListener((t=>{if(console.log("Call state changed to: ".concat(t)),this.updateCallStatus(t,{number:e}),r.sessionDescriptionHandler){const e=r.sessionDescriptionHandler.peerConnection;e&&(console.log("Local description:",e.localDescription),console.log("Remote description:",e.remoteDescription))}}));const i={onAccept:t=>{console.log("Call accepted:",t),console.log("Session state:",r.state),console.log("Session description handler:",r.sessionDescriptionHandler),setTimeout((()=>{r.sessionDescriptionHandler?this.setupMediaHandling(r,e):console.error("No session description handler available after accept")}),500)},onProgress:e=>{console.log("Call progress:",e.message.statusCode),183===e.message.statusCode&&this.handleEarlyMedia(r,e)},onRedirect:e=>{console.log("Call redirected:",e)},onReject:t=>{console.log("Call rejected:",t),this.updateCallStatus("rejected",{number:e})},onTrying:t=>{console.log("Call trying:",t),this.updateCallStatus("trying",{number:e})}};return this.activeSession=r,console.log("Sending INVITE..."),await r.invite({requestDelegate:i,requestOptions:{extraHeaders:["Allow: INVITE, ACK, CANCEL, BYE, REFER, INFO, NOTIFY, UPDATE","Supported: replaces, 100rel"]}}),r}catch(t){throw console.error("Error making call:",t),this.updateCallStatus("failed",{number:e}),t}}async endCall(){try{if(!this.activeSession)throw new Error("No active call to end");switch(this.activeSession.state){case En.Initial:case En.Establishing:await this.activeSession.cancel();break;case En.Established:await this.activeSession.bye();break;default:console.log("Call already terminated or in invalid state")}this.activeSession=null,this.updateCallStatus("terminated")}catch(e){throw console.error("Error ending call:",e),e}}async holdCall(e){try{if(!this.activeSession||!this.activeSession.sessionDescriptionHandler)throw new Error("No active session to hold");const t=this.activeSession.sessionDescriptionHandler.peerConnection;if(!t)throw new Error("No peer connection available");t.getSenders().filter((e=>e.track&&"audio"===e.track.kind)).forEach((t=>{t.track&&(t.track.enabled=!e)})),this.updateCallStatus("active",{isHeld:e,isMuted:this.activeSession.isMuted||!1,number:this.activeSession.remoteIdentity.uri.user})}catch(t){throw console.error("Error in hold/unhold:",t),t}}async muteCall(e){try{if(!this.activeSession||!this.activeSession.sessionDescriptionHandler)throw new Error("No active session to mute");const t=this.activeSession.sessionDescriptionHandler.peerConnection;if(!t)throw new Error("No peer connection available");t.getSenders().filter((e=>e.track&&"audio"===e.track.kind)).forEach((t=>{t.track&&(t.track.enabled=!e)})),this.updateCallStatus("active",{isMuted:e,isHeld:this.activeSession.isHeld||!1,number:this.activeSession.remoteIdentity.uri.user}),this.activeSession.isMuted=e}catch(t){throw console.error("Error in mute/unmute:",t),t}}updateCallStatus(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Re(Re(Re({},this.activeSession?{isHeld:this.activeSession.isHeld||!1,isMuted:this.activeSession.isMuted||!1,number:null===(t=this.activeSession.remoteIdentity)||void 0===t?void 0:t.uri.user}:{}),n),{},{status:e});console.log("Updating call status:",r),this.callListeners.forEach((e=>e(r)))}handleEarlyMedia(e,t){try{const n=t.message.body;console.log("Handling early media, Original SDP:",n),n&&e.sessionDescriptionHandler&&e.sessionDescriptionHandler.setDescription({type:"answer",sdp:n}).then((()=>{console.log("Early media description set successfully")})).catch((t=>{console.error("Error setting early media:",t),this.updateCallStatus("trying",{number:e.number})}))}catch(n){console.error("Error in early media handling:",n)}}setupMediaHandling(e,t){try{if(console.log("Setup media called with session:",e),console.log("Session state:",e.state),console.log("Has session description handler:",!!e.sessionDescriptionHandler),!e||!e.sessionDescriptionHandler)return void console.error("Waiting for session description handler...");const n=()=>{const r=e.sessionDescriptionHandler.peerConnection;if(!r)return console.log("Waiting for peer connection..."),void setTimeout(n,100);console.log("Peer connection ready, state:",r.connectionState),r.addEventListener("track",(e=>{if(console.log("Track received:",e),"audio"===e.track.kind){const t=new Audio;t.srcObject=new MediaStream([e.track]),t.play().catch(console.error)}})),this.updateCallStatus("active",{number:t})};n()}catch(n){console.error("Error in media setup:",n)}}async answerCall(){try{if(!this.activeSession)throw new Error("No active call to answer");await this.activeSession.accept(),await this.setupMediaHandling(this.activeSession,this.activeSession.remoteIdentity.uri.user)}catch(e){throw console.error("Error answering call:",e),e}}async rejectCall(){try{if(!this.activeSession)throw new Error("No active call to reject");await this.activeSession.reject(),this.activeSession=null,this.updateCallStatus("terminated")}catch(e){throw console.error("Error rejecting call:",e),e}}addCallListener(e){this.callListeners.add(e)}removeCallListener(e){this.callListeners.delete(e)}handleDisconnect(){this.isLoggedIn()?this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log("Attempting to reconnect (".concat(this.reconnectAttempts,"/").concat(this.maxReconnectAttempts,")...")),this.reconnectTimer=setTimeout((()=>this.connect()),5e3*this.reconnectAttempts)):(console.error("Max reconnection attempts reached"),this.updateStatus("error")):console.log("Not logged in, skipping reconnection")}async cleanupConnection(){console.log("Starting complete SIP cleanup...");try{if(this.activeSession)try{console.log("Ending active call..."),await this.endCall()}catch(e){console.error("Error ending active call:",e)}if(this.registerer)try{console.log("Unregistering SIP..."),await this.registerer.unregister(),this.registerer=null}catch(e){console.error("Error unregistering SIP:",e)}if(this.userAgent)try{console.log("Stopping user agent..."),await this.userAgent.stop(),await this.userAgent.transport.disconnect(),this.userAgent=null}catch(e){console.error("Error stopping user agent:",e)}this.statusListeners.clear(),this.callListeners.clear(),this.activeSession=null,this.connectionState="disconnected",this.reconnectAttempts=0,this.config=null,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.updateStatus("disconnected"),console.log("SIP cleanup completed")}catch(e){throw console.error("Error during SIP cleanup:",e),e}}isLoggedIn(){return!!localStorage.getItem("token")}},Rn=Dn;var Nn=n(579);const Mn=(0,r.createContext)(null),Hn=()=>{const e=(0,r.useContext)(Mn);if(!e)throw new Error("useApp must be used within an AppProvider");return e},$n=e=>{let{children:t}=e;const[n,i]=(0,r.useState)("disconnected"),[o,a]=(0,r.useState)(!1),[s,c]=(0,r.useState)(!1),l=(0,r.useCallback)((e=>{i(e),"error"===e&&c(!0)}),[]),u=(0,r.useCallback)((async()=>{if(o)return;if(localStorage.getItem("token"))try{c(!1),console.log("Initializing SIP...");const e=await je.getSipConfig();await Rn.initialize(e),a(!0)}catch(e){console.error("Error initializing SIP:",e),c(!0)}}),[o]),d=(0,r.useCallback)((async()=>{console.log("Starting logout process...");try{await Rn.cleanupConnection();try{await je.logout()}catch(e){console.error("Error calling logout API:",e)}return localStorage.clear(),a(!1),console.log("Logout completed successfully"),!0}catch(e){return console.error("Error during logout:",e),localStorage.clear(),a(!1),!0}}),[]);(0,r.useEffect)((()=>(Rn.addStatusListener(l),u(),()=>{Rn.removeStatusListener(l)})),[u,l]);const h={sipStatus:n,initializeSip:u,handleLogout:d,needsReload:s};return(0,Nn.jsxs)(Mn.Provider,{value:h,children:[t,s&&(0,Nn.jsx)("div",{className:"position-fixed bottom-0 start-50 translate-middle-x mb-4 p-3 bg-danger text-white rounded shadow-lg",children:(0,Nn.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Nn.jsx)("span",{children:"Connection lost. Unable to reconnect."}),(0,Nn.jsx)("button",{className:"btn btn-light btn-sm ms-3",onClick:()=>window.location.reload(),children:"Reload Page"})]})})]})};var Ln={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qn=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],Fn=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Bn=(e,t)=>{const n=(0,r.forwardRef)(((n,i)=>{let{color:o="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:c,className:l="",children:u}=n,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,qn);return(0,r.createElement)("svg",Re(Re({ref:i},Ln),{},{width:a,height:a,stroke:o,strokeWidth:c?24*Number(s)/Number(a):s,className:["lucide","lucide-".concat(Fn(e)),l].join(" ")},d),[...t.map((e=>{let[t,n]=e;return(0,r.createElement)(t,n)})),...Array.isArray(u)?u:[u]])}));return n.displayName="".concat(e),n},Un=[{icon:Bn("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),path:"/dashboard",label:"Home"},{icon:Bn("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),path:"/analytics",label:"Analytics"},{icon:Bn("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),path:"/contacts",label:"Inbox"},{icon:Bn("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),path:"/share",label:"Share"}];function zn(){const e=Q(),t=J();return(0,Nn.jsx)("div",{className:"bg-light border-end h-100",children:(0,Nn.jsx)("ul",{className:"nav nav-pills flex-column mb-auto text-center p-0",children:Un.map((n=>(0,Nn.jsx)("li",{className:"nav-item",children:(0,Nn.jsx)("button",{onClick:()=>e(n.path),className:"nav-link border-0 rounded-0 py-3 d-flex align-items-center justify-content-center ".concat(t.pathname===n.path?"active":""),title:n.label,children:(0,Nn.jsx)(n.icon,{size:20})})},n.path)))})})}const Vn=Bn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Wn=Bn("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Gn=Bn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Kn=Bn("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Yn=Bn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Xn=Bn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Jn=Bn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Zn=Bn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Qn=Bn("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),er=Bn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),tr=Bn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nr=Bn("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),rr=Bn("Delete",[["path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z",key:"1oy587"}],["line",{x1:"18",x2:"12",y1:"9",y2:"15",key:"1olkx5"}],["line",{x1:"12",x2:"18",y1:"9",y2:"15",key:"1n50pc"}]]);function ir(e){let{onClose:t,onDial:n}=e;const[i,o]=(0,r.useState)("");return(0,Nn.jsxs)("div",{className:"dialer-container p-4 bg-white rounded-lg shadow-lg",style:{width:"300px"},children:[(0,Nn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Nn.jsx)("h5",{className:"mb-0",children:"Dial Number"}),(0,Nn.jsx)("button",{className:"btn btn-link text-muted p-0",onClick:t,children:(0,Nn.jsx)(tr,{size:20})})]}),(0,Nn.jsxs)("div",{className:"input-group mb-3",children:[(0,Nn.jsx)("input",{type:"text",className:"form-control form-control-lg text-center",value:i,onChange:e=>o(e.target.value),placeholder:"Enter number..."}),(0,Nn.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>{o((e=>e.slice(0,-1)))},children:(0,Nn.jsx)(rr,{size:20})})]}),(0,Nn.jsx)("div",{className:"dialpad grid gap-3 mb-4",children:[["1","2","3"],["4","5","6"],["7","8","9"],["*","0","#"]].map(((e,t)=>(0,Nn.jsx)("div",{className:"grid grid-cols-3 gap-3",children:e.map((e=>(0,Nn.jsx)("button",{className:"btn btn-light rounded-circle p-3 text-center w-12 h-12",onClick:()=>(e=>{o((t=>t+e))})(e),children:e},e)))},t)))}),(0,Nn.jsxs)("button",{className:"btn btn-success w-100 d-flex align-items-center justify-content-center gap-2",onClick:()=>{i.trim()&&n(i.trim())},disabled:!i.trim(),children:[(0,Nn.jsx)(er,{size:20}),"Dial"]})]})}const or=e=>{let{activeCall:t,callDuration:n,onMute:i,onHold:o,onEnd:a,onAnswer:s,onReject:c,onDial:l}=e;const{sipStatus:u}=Hn(),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[g,m]=(0,r.useState)("");(0,r.useEffect)((()=>{t||m("")}),[t]);const v=e=>{switch(e){case"registered":return"text-success";case"connecting":case"connected":return"text-warning";default:return"text-danger"}};return(0,Nn.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Nn.jsxs)("div",{className:"position-relative",children:[(0,Nn.jsx)("button",{className:"btn btn-link p-0",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:(0,Nn.jsx)(Xn,{size:18,className:v(u)})}),d&&(0,Nn.jsx)("div",{className:"position-absolute bg-white shadow-sm rounded p-2",style:{top:"100%",right:0,zIndex:1e3,minWidth:"150px"},children:(0,Nn.jsxs)("div",{className:"text-nowrap",children:["Phone Status: ",(0,Nn.jsx)("span",{className:v(u),children:"registered"===u?"Online":"connecting"===u?"Connecting...":"Offline"})]})})]}),(0,Nn.jsx)("div",{className:"bg-light rounded-pill px-2 py-1 d-flex align-items-center gap-2",children:t?(0,Nn.jsxs)(Nn.Fragment,{children:[(0,Nn.jsxs)("span",{className:"text-muted small",children:[t.number," - ","active"===t.status?(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))})(n):t.status]}),"active"===t.status?(0,Nn.jsxs)(Nn.Fragment,{children:[(0,Nn.jsx)("button",{className:"btn btn-link btn-sm p-0 ".concat(t.isMuted?"text-danger":""),onClick:i,title:t.isMuted?"Unmute":"Mute",children:t.isMuted?(0,Nn.jsx)(Jn,{size:18}):(0,Nn.jsx)(Zn,{size:18})}),(0,Nn.jsx)("button",{className:"btn btn-link btn-sm p-0 ".concat(t.isHeld?"text-warning":""),onClick:o,title:t.isHeld?"Unhold":"Hold",children:(0,Nn.jsx)(Qn,{size:18})})]}):"ringing"===t.status&&t.isInbound?(0,Nn.jsx)(Nn.Fragment,{children:(0,Nn.jsx)("button",{className:"btn btn-link btn-sm p-0 text-success",onClick:s,title:"Answer",children:(0,Nn.jsx)(er,{size:18})})}):null,("active"===t.status||!t.isInbound&&["trying","connecting","ringing"].includes(t.status))&&(0,Nn.jsx)("button",{className:"btn btn-link btn-sm p-0 text-danger",onClick:a,title:"End Call",children:(0,Nn.jsx)(tr,{size:18})})]}):(0,Nn.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Nn.jsx)("input",{type:"text",className:"form-control form-control-sm",placeholder:"Enter number",value:g,onChange:e=>m(e.target.value),onKeyPress:e=>{"Enter"===e.key&&g.trim()&&(l(g.trim()),m(""))},style:{width:"150px"}}),(0,Nn.jsx)("button",{className:"btn btn-link btn-sm p-0",onClick:()=>p(!0),title:"Open Dialpad",children:(0,Nn.jsx)(nr,{size:18})})]})}),f&&(0,Nn.jsx)("div",{className:"position-absolute",style:{top:"100%",zIndex:1e3},children:(0,Nn.jsx)(ir,{onClose:()=>p(!1),onDial:e=>{l(e),p(!1)}})})]})};const ar=new class{constructor(){this.ringTone=new Audio("/assets/audio/ring.mp3"),this.ringTone.loop=!0,this.isPlaying=!1}init(){return new Promise(((e,t)=>{this.ringTone.addEventListener("loadeddata",(()=>{console.log("Ring tone loaded successfully"),e()})),this.ringTone.addEventListener("error",(e=>{console.error("Error loading ring tone:",e),t(e)}))}))}async playRing(){try{this.isPlaying||(await this.ringTone.play(),this.isPlaying=!0)}catch(e){console.error("Error playing ring tone:",e)}}stopRing(){this.ringTone.pause(),this.ringTone.currentTime=0,this.isPlaying=!1}},sr=(0,r.createContext)(null),cr=()=>{const e=(0,r.useContext)(sr);if(!e)throw new Error("useCall must be used within a CallProvider");return e},lr=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(null),[o,a]=(0,r.useState)(0),[s,c]=(0,r.useState)(null),l=(0,r.useRef)(null);(0,r.useEffect)((()=>{ar.init().catch(console.error)}),[]),(0,r.useEffect)((()=>{const e=async e=>{console.log("Call status changed:",e),"ringing"===e.status&&e.isInbound&&await ar.playRing(),("active"===e.status||["terminated","failed","rejected"].includes(e.status))&&ar.stopRing(),"active"!==e.status||l.current||(a(0),l.current=setInterval((()=>{a((e=>e+1))}),1e3)),["terminated","failed","rejected"].includes(e.status)?(l.current&&(clearInterval(l.current),l.current=null,a(0)),setTimeout((()=>{i(null)}),1e3)):i((t=>Re(Re({},t),e)))};return Rn.addCallListener(e),()=>{Rn.removeCallListener(e),l.current&&clearInterval(l.current),ar.stopRing()}}),[]);const u={activeCall:n,callDuration:o,selectedContact:s,setSelectedContact:c,handleDial:async e=>{try{const t=await je.lookupContact(e);c(t||{phone:e,isTemporary:!0}),await Rn.makeCall(e)}catch(t){console.error("Error making call:",t)}},handleMuteCall:async()=>{try{const e=!(null!==n&&void 0!==n&&n.isMuted);await Rn.muteCall(e),i((t=>Re(Re({},t),{},{isMuted:e})))}catch(e){console.error("Error toggling mute:",e)}},handleHoldCall:async()=>{try{const e=!(null!==n&&void 0!==n&&n.isHeld);await Rn.holdCall(e),i((t=>Re(Re({},t),{},{isHeld:e})))}catch(e){console.error("Error toggling hold:",e)}},handleEndCall:async()=>{try{await Rn.endCall()}catch(e){console.error("Error ending call:",e)}},handleAnswerCall:async()=>{try{await Rn.answerCall(),ar.stopRing()}catch(e){console.error("Error answering call:",e)}},handleRejectCall:async()=>{try{await Rn.rejectCall(),ar.stopRing()}catch(e){console.error("Error rejecting call:",e)}}};return(0,Nn.jsx)(sr.Provider,{value:u,children:t})};function ur(){const e=Q(),{handleLogout:t}=Hn(),{activeCall:n,callDuration:i,handleMuteCall:o,handleHoldCall:a,handleEndCall:s,handleAnswerCall:c,handleRejectCall:l,handleDial:u}=cr(),[d,h]=(0,r.useState)([]),[f,p]=(0,r.useState)(!1),[g,m]=(0,r.useState)("Off-Queue"),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[x,S]=(0,r.useState)(!1),[E]=(0,r.useState)([]),[k,O]=(0,r.useState)(null),[T,P]=(0,r.useState)(!1);(0,r.useEffect)((()=>{j(),A(),C()}),[]);const C=async()=>{try{const e=await je.getUserStatus();m(e.current_status||"Off-Queue")}catch(e){console.error("Error loading current status:",e),m("Off-Queue")}},j=async()=>{try{const e=await je.getUserProfile();O(e)}catch(e){console.error("Error loading user data:",e)}},A=async()=>{try{const e=await je.getBreaks();h(e)}catch(e){console.error("Error loading breaks:",e)}},_=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{p(!0),console.log("Updating status:",{status:e,breakId:t});const n=Re({status:e},t&&{breakId:t});console.log("Sending payload:",n);(await je.updateAgentStatus(n)).success&&(m(e),y(!1))}catch(n){console.error("Error updating status:",n)}finally{p(!1)}};return(0,Nn.jsx)("div",{className:"bg-white border-bottom",children:(0,Nn.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-4 py-2",children:[(0,Nn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Nn.jsx)("h5",{className:"mb-0 me-4",children:"Contact Center"}),(0,Nn.jsxs)("div",{className:"position-relative me-4",children:[(0,Nn.jsxs)("button",{className:"btn btn-light d-flex align-items-center gap-2",onClick:()=>y(!v),disabled:f,children:[(0,Nn.jsx)("div",{className:"rounded-circle ".concat("Ready"===g?"bg-success":"Off-Queue"===g?"bg-danger":"bg-warning"),style:{width:"10px",height:"10px"}}),f?(0,Nn.jsxs)("span",{className:"d-flex align-items-center gap-2",children:[(0,Nn.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Updating..."]}):(0,Nn.jsxs)(Nn.Fragment,{children:[g,(0,Nn.jsx)(Vn,{size:16})]})]}),v&&!f&&(0,Nn.jsx)("div",{className:"position-absolute top-100 start-0 mt-1 bg-white border rounded shadow-sm",style:{width:"200px",zIndex:1e3},children:(0,Nn.jsxs)("div",{className:"py-1",children:[(0,Nn.jsxs)("button",{className:"dropdown-item d-flex align-items-center gap-2",onClick:()=>_("Ready"),disabled:f,children:[(0,Nn.jsx)("div",{className:"rounded-circle bg-success",style:{width:"10px",height:"10px"}}),"Ready"]}),d.map((e=>(0,Nn.jsxs)("button",{className:"dropdown-item d-flex align-items-center gap-2",onClick:()=>_(e.name,e.id),disabled:f,children:[(0,Nn.jsx)("div",{className:"rounded-circle bg-warning",style:{width:"10px",height:"10px"}}),e.name,e.duration_minutes&&" (".concat(e.duration_minutes," min)")]},e.id))),(0,Nn.jsxs)("button",{className:"dropdown-item d-flex align-items-center gap-2",onClick:()=>_("Off-Queue"),disabled:f,children:[(0,Nn.jsx)("div",{className:"rounded-circle bg-danger",style:{width:"10px",height:"10px"}}),"Off-Queue"]})]})})]}),(0,Nn.jsx)(or,{activeCall:n,callDuration:i,onMute:o,onHold:a,onEnd:s,onAnswer:c,onReject:l,onDial:u})]}),(0,Nn.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Nn.jsxs)("div",{className:"position-relative",children:[(0,Nn.jsxs)("button",{className:"btn btn-light position-relative",onClick:()=>w(!b),children:[(0,Nn.jsx)(Wn,{size:18}),E.length>0&&(0,Nn.jsx)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",children:E.length})]}),b&&(0,Nn.jsxs)("div",{className:"position-absolute end-0 mt-2 bg-white border rounded shadow-sm",style:{width:"300px",zIndex:1e3},children:[(0,Nn.jsx)("div",{className:"p-2 border-bottom",children:(0,Nn.jsx)("h6",{className:"mb-0",children:"Notifications"})}),(0,Nn.jsx)("div",{className:"py-2 text-muted text-center",children:"No notifications"})]})]}),(0,Nn.jsxs)("div",{className:"position-relative",children:[(0,Nn.jsxs)("button",{className:"btn btn-light d-flex align-items-center gap-2",onClick:()=>S(!x),children:[(0,Nn.jsx)(Gn,{size:18}),(0,Nn.jsx)("span",{children:(null===k||void 0===k?void 0:k.username)||"Profile"}),(0,Nn.jsx)(Vn,{size:16})]}),x&&(0,Nn.jsx)("div",{className:"position-absolute end-0 mt-2 bg-white border rounded shadow-sm",style:{width:"220px",zIndex:1e3},children:(0,Nn.jsxs)("div",{className:"py-1",children:[(0,Nn.jsxs)("button",{className:"dropdown-item d-flex align-items-center gap-2",onClick:()=>e("/change-password"),children:[(0,Nn.jsx)(Kn,{size:16}),"Change Password"]}),(0,Nn.jsxs)("button",{onClick:async()=>{if(!T)try{P(!0);await t()&&e("/")}catch(n){console.error("Logout error:",n),localStorage.removeItem("token"),localStorage.removeItem("user"),e("/")}finally{P(!1)}},disabled:T,className:"dropdown-item d-flex align-items-center gap-2 text-danger",children:[(0,Nn.jsx)(Yn,{size:16}),T?"Logging out...":"Logout"]})]})})]})]})]})})}function dr(){const[e,t]=(0,r.useState)({username:"",password:""}),[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(!1),s=Q(),{initializeSip:c}=Hn();return(0,Nn.jsx)("div",{className:"d-flex align-items-center justify-content-center min-vh-100 bg-light",children:(0,Nn.jsx)("div",{className:"card shadow",style:{width:"400px"},children:(0,Nn.jsxs)("div",{className:"card-body p-5",children:[(0,Nn.jsx)("h4",{className:"text-center mb-4",children:"Contact Center Login"}),n&&(0,Nn.jsx)("div",{className:"alert alert-danger",role:"alert",children:n}),(0,Nn.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(""),a(!0);try{const t=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.message||"Login failed");localStorage.setItem("token",n.token),localStorage.setItem("user",JSON.stringify(n.user)),await c(),s("/dashboard")}catch(n){console.error("Login error:",n),i(n.message||"Login failed. Please try again.")}finally{a(!1)}},children:[(0,Nn.jsxs)("div",{className:"mb-3",children:[(0,Nn.jsx)("label",{className:"form-label",children:"Username"}),(0,Nn.jsx)("input",{type:"text",className:"form-control",value:e.username,onChange:n=>t(Re(Re({},e),{},{username:n.target.value})),required:!0,disabled:o})]}),(0,Nn.jsxs)("div",{className:"mb-3",children:[(0,Nn.jsx)("label",{className:"form-label",children:"Password"}),(0,Nn.jsx)("input",{type:"password",className:"form-control",value:e.password,onChange:n=>t(Re(Re({},e),{},{password:n.target.value})),required:!0,disabled:o})]}),(0,Nn.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:o,children:o?"Logging in...":"Login"})]})]})})})}function hr(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=hr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const fr=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=hr(e))&&(r&&(r+=" "),r+=t);return r};var pr=n(9889),gr=n.n(pr),mr=n(620),vr=n.n(mr),yr=n(5268),br=n.n(yr),wr=n(3097),xr=n.n(wr),Sr=n(9160),Er=n.n(Sr),kr=function(e){return 0===e?0:e>0?1:-1},Or=function(e){return vr()(e)&&e.indexOf("%")===e.length-1},Tr=function(e){return Er()(e)&&!br()(e)},Pr=function(e){return Tr(e)||vr()(e)},Cr=0,jr=function(e){var t=++Cr;return"".concat(e||"").concat(t)},Ar=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Tr(e)&&!vr()(e))return r;if(Or(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return br()(n)&&(n=r),i&&n>t&&(n=t),n},_r=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Ir=function(e,t){return Tr(e)&&Tr(t)?function(n){return e+n*(t-e)}:function(){return t}};function Dr(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):xr()(e,t))===n})):null}var Rr=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},Nr=n(9686),Mr=n.n(Nr),Hr=n(1629),$r=n.n(Hr),Lr=n(6686),qr=n.n(Lr),Fr=n(9062);function Br(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Ur(e){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(e)}var zr=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Vr=["points","pathLength"],Wr={svg:["viewBox","children"],polygon:Vr,polyline:Vr},Gr=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Kr=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,r.isValidElement)(e)&&(n=e.props),!qr()(n))return null;var i={};return Object.keys(n).forEach((function(e){Gr.includes(e)&&(i[e]=t||function(t){return n[e](n,t)})})),i},Yr=function(e,t,n){if(!qr()(e)||"object"!==Ur(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];Gr.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r},Xr=["children"],Jr=["children"];function Zr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qr(e){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(e)}var ei={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ti=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},ni=null,ri=null,ii=function e(t){if(t===ni&&Array.isArray(ri))return ri;var n=[];return r.Children.forEach(t,(function(t){Mr()(t)||((0,Fr.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),ri=n,ni=t,n};function oi(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return ti(e)})):[ti(t)],ii(e).forEach((function(e){var t=xr()(e,"type.displayName")||xr()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function ai(e,t){var n=oi(e,t);return n&&n[0]}var si=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!Tr(n)||n<=0||!Tr(r)||r<=0)},ci=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],li=function(e){return e&&e.type&&vr()(e.type)&&ci.indexOf(e.type)>=0},ui=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,r.isValidElement)(e)&&(i=e.props),!qr()(i))return null;var o={};return Object.keys(i).forEach((function(e){var r;(function(e,t,n,r){var i,o=null!==(i=null===Wr||void 0===Wr?void 0:Wr[r])&&void 0!==i?i:[];return!$r()(e)&&(r&&o.includes(t)||zr.includes(t))||n&&Gr.includes(t)})(null===(r=i)||void 0===r?void 0:r[e],e,t,n)&&(o[e]=i[e])})),o},di=function e(t,n){if(t===n)return!0;var i=r.Children.count(t);if(i!==r.Children.count(n))return!1;if(0===i)return!0;if(1===i)return hi(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var o=0;o<i;o++){var a=t[o],s=n[o];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!hi(a,s))return!1}return!0},hi=function(e,t){if(Mr()(e)&&Mr()(t))return!0;if(!Mr()(e)&&!Mr()(t)){var n=e.props||{},r=n.children,i=Zr(n,Xr),o=t.props||{},a=o.children,s=Zr(o,Jr);return r&&a?Br(i,s)&&di(r,a):!r&&!a&&Br(i,s)}return!1},fi=function(e,t){var n=[],r={};return ii(e).forEach((function(e,i){if(li(e))n.push(e);else if(e){var o=ti(e.type),a=t[o]||{},s=a.handler,c=a.once;if(s&&(!c||!r[o])){var l=s(e,o,i);n.push(l),r[o]=!0}}})),n};function pi(e){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(n),!0).forEach((function(t){vi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vi(e,t,n){return t=function(e){var t=function(e,t){if("object"!=pi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pi(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wi=(0,r.forwardRef)((function(e,t){var n=e.aspect,i=e.initialDimension,o=void 0===i?{width:-1,height:-1}:i,a=e.width,s=void 0===a?"100%":a,c=e.height,l=void 0===c?"100%":c,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,g=e.debounce,m=void 0===g?0:g,v=e.id,y=e.className,b=e.onResize,w=e.style,x=void 0===w?{}:w,S=(0,r.useRef)(null),E=(0,r.useRef)();E.current=b,(0,r.useImperativeHandle)(t,(function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})}));var k=yi((0,r.useState)({containerWidth:o.width,containerHeight:o.height}),2),O=k[0],T=k[1],P=(0,r.useCallback)((function(e,t){T((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,r.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;P(r,i),null===(t=E.current)||void 0===t||t.call(E,r,i)};m>0&&(e=gr()(e,m,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=S.current.getBoundingClientRect(),r=n.width,i=n.height;return P(r,i),t.observe(S.current),function(){t.disconnect()}}),[P,m]);var C=(0,r.useMemo)((function(){var e=O.containerWidth,t=O.containerHeight;if(e<0||t<0)return null;Rr(Or(s)||Or(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,l),Rr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var i=Or(s)?e:s,o=Or(l)?t:l;n&&n>0&&(i?o=i/n:o&&(i=o*n),f&&o>f&&(o=f)),Rr(i>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,o,s,l,d,h,n);var a=!Array.isArray(p)&&ti(p.type).endsWith("Chart");return r.Children.map(p,(function(e){return r.isValidElement(e)?(0,r.cloneElement)(e,mi({width:i,height:o},a?{style:mi({height:"100%",width:"100%",maxHeight:o,maxWidth:i},e.props.style)}:{})):e}))}),[n,p,l,f,h,d,O,s]);return r.createElement("div",{id:v?"".concat(v):void 0,className:fr("recharts-responsive-container",y),style:mi(mi({},x),{},{width:s,height:l,minWidth:d,minHeight:h,maxHeight:f}),ref:S},C)})),xi=n(6604),Si=n.n(xi),Ei=n(7424),ki=n.n(Ei),Oi="Invariant failed";function Ti(e,t){if(!e)throw new Error(Oi)}var Pi=["children","width","height","viewBox","className","style","title","desc"];function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ci.apply(this,arguments)}function ji(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ai(e){var t=e.children,n=e.width,i=e.height,o=e.viewBox,a=e.className,s=e.style,c=e.title,l=e.desc,u=ji(e,Pi),d=o||{width:n,height:i,x:0,y:0},h=fr("recharts-surface",a);return r.createElement("svg",Ci({},ui(u,!0,"svg"),{className:h,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),r.createElement("title",null,c),r.createElement("desc",null,l),t)}var _i=["children","className"];function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ii.apply(this,arguments)}function Di(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ri=r.forwardRef((function(e,t){var n=e.children,i=e.className,o=Di(e,_i),a=fr("recharts-layer",i);return r.createElement("g",Ii({className:a},ui(o,!0),{ref:t}),n)}));function Ni(e){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ni(e)}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mi.apply(this,arguments)}function Hi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(n),!0).forEach((function(t){Fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fi(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ni(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ni(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ni(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bi(e){return Array.isArray(e)&&Pr(e[0])&&Pr(e[1])?e.join(" ~ "):e}var Ui=function(e){var t=e.separator,n=void 0===t?" : ":t,i=e.contentStyle,o=void 0===i?{}:i,a=e.itemStyle,s=void 0===a?{}:a,c=e.labelStyle,l=void 0===c?{}:c,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,g=e.label,m=e.labelFormatter,v=e.accessibilityLayer,y=void 0!==v&&v,b=qi({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=qi({margin:0},l),x=!Mr()(g),S=x?g:"",E=fr("recharts-default-tooltip",f),k=fr("recharts-tooltip-label",p);x&&m&&void 0!==u&&null!==u&&(S=m(g,u));var O=y?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",Mi({className:E,style:b},O),r.createElement("p",{className:k,style:w},r.isValidElement(S)?S:"".concat(S)),function(){if(u&&u.length){var e=(h?ki()(u,h):u).map((function(e,t){if("none"===e.type)return null;var i=qi({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),o=e.formatter||d||Bi,a=e.value,c=e.name,l=a,h=c;if(o&&null!=l&&null!=h){var f=o(a,c,e,t,u);if(Array.isArray(f)){var p=Hi(f,2);l=p[0],h=p[1]}else l=f}return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:i},Pr(h)?r.createElement("span",{className:"recharts-tooltip-item-name"},h):null,Pr(h)?r.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,r.createElement("span",{className:"recharts-tooltip-item-value"},l),r.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function zi(e){return zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zi(e)}function Vi(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zi(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wi="recharts-tooltip-wrapper",Gi={visibility:"hidden"};function Ki(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return fr(Wi,Vi(Vi(Vi(Vi({},"".concat(Wi,"-right"),Tr(n)&&t&&Tr(t.x)&&n>=t.x),"".concat(Wi,"-left"),Tr(n)&&t&&Tr(t.x)&&n<t.x),"".concat(Wi,"-bottom"),Tr(r)&&t&&Tr(t.y)&&r>=t.y),"".concat(Wi,"-top"),Tr(r)&&t&&Tr(t.y)&&r<t.y))}function Yi(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,l=e.viewBoxDimension;if(o&&Tr(o[r]))return o[r];var u=n[r]-s-i,d=n[r]+i;return t[r]?a[r]?u:d:a[r]?u<c[r]?Math.max(d,c[r]):Math.max(u,c[r]):d+s>c[r]+l?Math.max(u,c[r]):Math.max(d,c[r])}function Xi(e){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xi(e)}function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oo(r.key),r)}}function eo(e,t,n){return t=no(t),function(e,t){if(t&&("object"===Xi(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,to()?Reflect.construct(t,n||[],no(e).constructor):t.apply(e,n))}function to(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(to=function(){return!!e})()}function no(e){return no=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},no(e)}function ro(e,t){return ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ro(e,t)}function io(e,t,n){return(t=oo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oo(e){var t=function(e,t){if("object"!=Xi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xi(t)?t:t+""}var ao=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return io(e=eo(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),io(e,"handleKeyDown",(function(t){var n,r,i,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ro(e,t)}(t,e),n=t,(i=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,i=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.children,c=t.coordinate,l=t.hasPayload,u=t.isAnimationActive,d=t.offset,h=t.position,f=t.reverseDirection,p=t.useTranslate3d,g=t.viewBox,m=t.wrapperStyle,v=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,c=e.tooltipBox,l=e.useTranslate3d,u=e.viewBox;return{cssProperties:c.height>0&&c.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=Yi({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=Yi({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:l}):Gi,cssClasses:Ki({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:i,coordinate:c,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:g}),y=v.cssClasses,b=v.cssProperties,w=Zi(Zi({transition:u&&n?"transform ".concat(o,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},m);return r.createElement("div",{tabIndex:-1,className:y,style:w,ref:function(t){e.wrapperNode=t}},s)}}])&&Qi(n.prototype,i),o&&Qi(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent),so={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return so[e]},set:function(e,t){if("string"===typeof e)so[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){so[t]=e[t]}))}}},co=n(977),lo=n.n(co);function uo(e,t,n){return!0===t?lo()(e,n):$r()(t)?lo()(e,t):e}function ho(e){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(e)}function fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fo(Object(n),!0).forEach((function(t){wo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xo(r.key),r)}}function mo(e,t,n){return t=yo(t),function(e,t){if(t&&("object"===ho(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vo()?Reflect.construct(t,n||[],yo(e).constructor):t.apply(e,n))}function vo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vo=function(){return!!e})()}function yo(e){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yo(e)}function bo(e,t){return bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bo(e,t)}function wo(e,t,n){return(t=xo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xo(e){var t=function(e,t){if("object"!=ho(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ho(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ho(t)?t:t+""}function So(e){return e.dataKey}var Eo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mo(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bo(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,i=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.content,c=t.coordinate,l=t.filterNull,u=t.isAnimationActive,d=t.offset,h=t.payload,f=t.payloadUniqBy,p=t.position,g=t.reverseDirection,m=t.useTranslate3d,v=t.viewBox,y=t.wrapperStyle,b=null!==h&&void 0!==h?h:[];l&&b.length&&(b=uo(h.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),f,So));var w=b.length>0;return r.createElement(ao,{allowEscapeViewBox:i,animationDuration:o,animationEasing:a,isAnimationActive:u,active:n,coordinate:c,hasPayload:w,offset:d,position:p,reverseDirection:g,useTranslate3d:m,viewBox:v,wrapperStyle:y},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):"function"===typeof e?r.createElement(e,t):r.createElement(Ui,t)}(s,po(po({},this.props),{},{payload:b})))}}])&&go(n.prototype,i),o&&go(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);wo(Eo,"displayName","Tooltip"),wo(Eo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!so.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ko=n(643),Oo=n.n(ko);Math.abs,Math.atan2;const To=Math.cos,Po=(Math.max,Math.min,Math.sin),Co=Math.sqrt,jo=Math.PI,Ao=2*jo;const _o={draw(e,t){const n=Co(t/jo);e.moveTo(n,0),e.arc(0,0,n,0,Ao)}},Io={draw(e,t){const n=Co(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Do=Co(1/3),Ro=2*Do,No={draw(e,t){const n=Co(t/Ro),r=n*Do;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Mo={draw(e,t){const n=Co(t),r=-n/2;e.rect(r,r,n,n)}},Ho=Po(jo/10)/Po(7*jo/10),$o=Po(Ao/10)*Ho,Lo=-To(Ao/10)*Ho,qo={draw(e,t){const n=Co(.8908130915292852*t),r=$o*n,i=Lo*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=Ao*o/5,a=To(t),s=Po(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},Fo=Co(3),Bo={draw(e,t){const n=-Co(t/(3*Fo));e.moveTo(0,2*n),e.lineTo(-Fo*n,-n),e.lineTo(Fo*n,-n),e.closePath()}},Uo=-.5,zo=Co(3)/2,Vo=1/Co(12),Wo=3*(Vo/2+1),Go={draw(e,t){const n=Co(t/Wo),r=n/2,i=n*Vo,o=r,a=n*Vo+n,s=-o,c=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,c),e.lineTo(Uo*r-zo*i,zo*r+Uo*i),e.lineTo(Uo*o-zo*a,zo*o+Uo*a),e.lineTo(Uo*s-zo*c,zo*s+Uo*c),e.lineTo(Uo*r+zo*i,Uo*i-zo*r),e.lineTo(Uo*o+zo*a,Uo*a-zo*o),e.lineTo(Uo*s+zo*c,Uo*c-zo*s),e.closePath()}};function Ko(e){return function(){return e}}function Yo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Xo,Jo,Zo,Qo,ea,ta,na,ra,ia,oa,aa,sa,ca,la;const ua=Math.PI,da=2*ua,ha=1e-6,fa=da-ha;function pa(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class ga{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?pa:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return pa;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(Xo||(Xo=Yo(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(Jo||(Jo=Yo(["Z"]))))}lineTo(e,t){this._append(Zo||(Zo=Yo(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(Qo||(Qo=Yo(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,o){this._append(ea||(ea=Yo(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+o)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,a=this._y1,s=n-e,c=r-t,l=o-e,u=a-t,d=l*l+u*u;if(null===this._x1)this._append(ta||(ta=Yo(["M",",",""])),this._x1=e,this._y1=t);else if(d>ha)if(Math.abs(u*s-c*l)>ha&&i){let h=n-o,f=r-a,p=s*s+c*c,g=h*h+f*f,m=Math.sqrt(p),v=Math.sqrt(d),y=i*Math.tan((ua-Math.acos((p+d-g)/(2*m*v)))/2),b=y/v,w=y/m;Math.abs(b-1)>ha&&this._append(ra||(ra=Yo(["L",",",""])),e+b*l,t+b*u),this._append(ia||(ia=Yo(["A",",",",0,0,",",",",",""])),i,i,+(u*h>l*f),this._x1=e+w*s,this._y1=t+w*c)}else this._append(na||(na=Yo(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),s=n*Math.sin(r),c=e+a,l=t+s,u=1^o,d=o?r-i:i-r;null===this._x1?this._append(oa||(oa=Yo(["M",",",""])),c,l):(Math.abs(this._x1-c)>ha||Math.abs(this._y1-l)>ha)&&this._append(aa||(aa=Yo(["L",",",""])),c,l),n&&(d<0&&(d=d%da+da),d>fa?this._append(sa||(sa=Yo(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-a,t-s,n,n,u,this._x1=c,this._y1=l):d>ha&&this._append(ca||(ca=Yo(["A",",",",0,",",",",",",",""])),n,n,+(d>=ua),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(la||(la=Yo(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function ma(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new ga(t)}Co(3),Co(3);function va(e){return va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(e)}var ya=["type","size","sizeType"];function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ba.apply(this,arguments)}function wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(n),!0).forEach((function(t){Sa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sa(e,t,n){return t=function(e){var t=function(e,t){if("object"!=va(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=va(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==va(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ea(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ka={symbolCircle:_o,symbolCross:Io,symbolDiamond:No,symbolSquare:Mo,symbolStar:qo,symbolTriangle:Bo,symbolWye:Go},Oa=Math.PI/180,Ta=function(e){var t=e.type,n=void 0===t?"circle":t,i=e.size,o=void 0===i?64:i,a=e.sizeType,s=void 0===a?"area":a,c=xa(xa({},Ea(e,ya)),{},{type:n,size:o,sizeType:s}),l=c.className,u=c.cx,d=c.cy,h=ui(c,!0);return u===+u&&d===+d&&o===+o?r.createElement("path",ba({},h,{className:fr("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(Oo()(e));return ka[t]||_o}(n),t=function(e,t){let n=null,r=ma(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:Ko(e||_o),t="function"===typeof t?t:Ko(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:Ko(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:Ko(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Oa;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,s,n));return t()}()})):null};function Pa(e){return Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(e)}function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ca.apply(this,arguments)}function ja(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ma(r.key),r)}}function _a(e,t,n){return t=Da(t),function(e,t){if(t&&("object"===Pa(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ia()?Reflect.construct(t,n||[],Da(e).constructor):t.apply(e,n))}function Ia(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ia=function(){return!!e})()}function Da(e){return Da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Da(e)}function Ra(e,t){return Ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ra(e,t)}function Na(e,t,n){return(t=Ma(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ma(e){var t=function(e,t){if("object"!=Pa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pa(t)?t:t+""}Ta.registerSymbol=function(e,t){ka["symbol".concat(Oo()(e))]=t};var Ha=32,$a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_a(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ra(e,t)}(t,e),n=t,i=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,i=Ha/6,o=Ha/3,a=e.inactive?t:e.color;if("plainline"===e.type)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:Ha,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(n,"\n            H").concat(Ha,"M").concat(2*o,",").concat(n,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return r.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(Ha,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ja(Object(n),!0).forEach((function(t){Na(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ja(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,r.cloneElement(e.legendIcon,s)}return r.createElement(Ta,{fill:a,cx:n,cy:n,size:Ha,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,i=t.iconSize,o=t.layout,a=t.formatter,s=t.inactiveColor,c={x:0,y:0,width:Ha,height:Ha},l={display:"horizontal"===o?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var o=t.formatter||a,d=fr(Na(Na({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=$r()(t.value)?null:t.value;Rr(!$r()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?s:t.color;return r.createElement("li",Ca({className:d,style:l,key:"legend-item-".concat(n)},Yr(e.props,t,n)),r.createElement(Ai,{width:i,height:i,viewBox:c,style:u},e.renderIcon(t)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},o?o(h,t,n):h))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,i=e.align;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===n?i:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],i&&Aa(n.prototype,i),o&&Aa(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);function La(e){return La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(e)}Na($a,"displayName","Legend"),Na($a,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var qa=["ref"];function Fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(n),!0).forEach((function(t){Ka(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ya(r.key),r)}}function za(e,t,n){return t=Wa(t),function(e,t){if(t&&("object"===La(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Va()?Reflect.construct(t,n||[],Wa(e).constructor):t.apply(e,n))}function Va(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Va=function(){return!!e})()}function Wa(e){return Wa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wa(e)}function Ga(e,t){return Ga=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ga(e,t)}function Ka(e,t,n){return(t=Ya(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ya(e){var t=function(e,t){if("object"!=La(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=La(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==La(t)?t:t+""}function Xa(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ja(e){return e.value}var Za=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ka(e=za(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ga(e,t)}(t,e),n=t,o=[{key:"getWithHeight",value:function(e,t){var n=Ba(Ba({},this.defaultProps),e.props).layout;return"vertical"===n&&Tr(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(i=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ba({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,c=r.chartWidth,l=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((c||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((l||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Ba(Ba({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,i=t.width,o=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,c=t.payload,l=Ba(Ba({position:"absolute",width:i||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return r.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(r.isValidElement(e))return r.cloneElement(e,t);if("function"===typeof e)return r.createElement(e,t);t.ref;var n=Xa(t,qa);return r.createElement($a,n)}(n,Ba(Ba({},this.props),{},{payload:uo(c,s,Ja)})))}}])&&Ua(n.prototype,i),o&&Ua(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qa.apply(this,arguments)}Ka(Za,"displayName","Legend"),Ka(Za,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var es=function(e){var t=e.cx,n=e.cy,i=e.r,o=e.className,a=fr("recharts-dot",o);return t===+t&&n===+n&&i===+i?r.createElement("circle",Qa({},ui(e,!1),Kr(e),{className:a,cx:t,cy:n,r:i})):null},ts=n(5173),ns=n.n(ts),rs=Object.getOwnPropertyNames,is=Object.getOwnPropertySymbols,os=Object.prototype.hasOwnProperty;function as(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function ss(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function cs(e){return rs(e).concat(is(e))}var ls=Object.hasOwn||function(e,t){return os.call(e,t)};function us(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var ds="_owner",hs=Object.getOwnPropertyDescriptor,fs=Object.keys;function ps(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function gs(e,t){return us(e.getTime(),t.getTime())}function ms(e,t,n){if(e.size!==t.size)return!1;for(var r,i,o={},a=e.entries(),s=0;(r=a.next())&&!r.done;){for(var c=t.entries(),l=!1,u=0;(i=c.next())&&!i.done;){var d=r.value,h=d[0],f=d[1],p=i.value,g=p[0],m=p[1];l||o[u]||!(l=n.equals(h,g,s,u,e,t,n)&&n.equals(f,m,h,g,e,t,n))||(o[u]=!0),u++}if(!l)return!1;s++}return!0}function vs(e,t,n){var r,i=fs(e),o=i.length;if(fs(t).length!==o)return!1;for(;o-- >0;){if((r=i[o])===ds&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!ls(t,r)||!n.equals(e[r],t[r],r,r,e,t,n))return!1}return!0}function ys(e,t,n){var r,i,o,a=cs(e),s=a.length;if(cs(t).length!==s)return!1;for(;s-- >0;){if((r=a[s])===ds&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!ls(t,r))return!1;if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;if(i=hs(e,r),o=hs(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function bs(e,t){return us(e.valueOf(),t.valueOf())}function ws(e,t){return e.source===t.source&&e.flags===t.flags}function xs(e,t,n){if(e.size!==t.size)return!1;for(var r,i,o={},a=e.values();(r=a.next())&&!r.done;){for(var s=t.values(),c=!1,l=0;(i=s.next())&&!i.done;)c||o[l]||!(c=n.equals(r.value,i.value,r.value,i.value,e,t,n))||(o[l]=!0),l++;if(!c)return!1}return!0}function Ss(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var Es=Array.isArray,ks="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Os=Object.assign,Ts=Object.prototype.toString.call.bind(Object.prototype.toString);var Ps=Cs();Cs({strict:!0}),Cs({circular:!0}),Cs({circular:!0,strict:!0}),Cs({createInternalComparator:function(){return us}}),Cs({strict:!0,createInternalComparator:function(){return us}}),Cs({circular:!0,createInternalComparator:function(){return us}}),Cs({circular:!0,createInternalComparator:function(){return us},strict:!0});function Cs(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,c=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?ys:ps,areDatesEqual:gs,areMapsEqual:r?as(ms,ys):ms,areObjectsEqual:r?ys:vs,arePrimitiveWrappersEqual:bs,areRegExpsEqual:ws,areSetsEqual:r?as(xs,ys):xs,areTypedArraysEqual:r?ys:Ss};if(n&&(i=Os({},i,n(i))),t){var o=ss(i.areArraysEqual),a=ss(i.areMapsEqual),s=ss(i.areObjectsEqual),c=ss(i.areSetsEqual);i=Os({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:c})}return i}(e),l=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,i=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,a=e.areRegExpsEqual,s=e.areSetsEqual,c=e.areTypedArraysEqual;return function(e,l,u){if(e===l)return!0;if(null==e||null==l||"object"!==typeof e||"object"!==typeof l)return e!==e&&l!==l;var d=e.constructor;if(d!==l.constructor)return!1;if(d===Object)return i(e,l,u);if(Es(e))return t(e,l,u);if(null!=ks&&ks(e))return c(e,l,u);if(d===Date)return n(e,l,u);if(d===RegExp)return a(e,l,u);if(d===Map)return r(e,l,u);if(d===Set)return s(e,l,u);var h=Ts(e);return"[object Date]"===h?n(e,l,u):"[object RegExp]"===h?a(e,l,u):"[object Map]"===h?r(e,l,u):"[object Set]"===h?s(e,l,u):"[object Object]"===h?"function"!==typeof e.then&&"function"!==typeof l.then&&i(e,l,u):"[object Arguments]"===h?i(e,l,u):("[object Boolean]"===h||"[object Number]"===h||"[object String]"===h)&&o(e,l,u)}}(c),u=i?i(l):(t=l,function(e,n,r,i,o,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),c=s.cache,l=void 0===c?t?new WeakMap:void 0:c,u=s.meta;return n(e,a,{cache:l,equals:i,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:l,createState:o,equals:u,strict:s})}function js(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function As(e){return As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(e)}function _s(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Is(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Is(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Is(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ds(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=_s(r),o=i[0],a=i.slice(1);return"number"===typeof o?void js(n.bind(null,a),o):(n(o),void js(n.bind(null,a)))}"object"===As(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Rs(e){return Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(e)}function Ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ns(Object(n),!0).forEach((function(t){Hs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Rs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Rs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $s=function(e){return e},Ls=function(e,t){return Object.keys(t).reduce((function(n,r){return Ms(Ms({},n),{},Hs({},r,e(r,t[r])))}),{})},qs=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function Fs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||Us(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bs(e){return function(e){if(Array.isArray(e))return zs(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Us(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Us(e,t){if(e){if("string"===typeof e)return zs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zs(e,t):void 0}}function zs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vs=1e-4,Ws=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},Gs=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},Ks=function(e,t){return function(n){var r=Ws(e,t);return Gs(r,n)}},Ys=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var c=Fs(s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);r=c[0],i=c[1],o=c[2],a=c[3]}}[r,o,i,a].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var l,u,d=Ks(r,o),h=Ks(i,a),f=(l=r,u=o,function(e){var t=Ws(l,u),n=[].concat(Bs(t.map((function(e,t){return e*t})).slice(1)),[0]);return Gs(n,e)}),p=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=d(n)-t,o=f(n);if(Math.abs(i-t)<Vs||o<Vs)return h(n);n=p(n-i/o)}return h(n)};return g.isStepper=!1,g},Xs=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ys(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<Vs&&Math.abs(o)<Vs?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return Ys(r)}return"function"===typeof r?r:null};function Js(e){return Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(e)}function Zs(e){return function(e){if(Array.isArray(e))return ic(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qs(Object(n),!0).forEach((function(t){tc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Js(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Js(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Js(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||rc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rc(e,t){if(e){if("string"===typeof e)return ic(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ic(e,t):void 0}}function ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oc=function(e,t,n){return e+(t-e)*n},ac=function(e){return e.from!==e.to},sc=function e(t,n,r){var i=Ls((function(e,n){if(ac(n)){var r=nc(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return ec(ec({},n),{},{from:i,velocity:o})}return n}),n);return r<1?Ls((function(e,t){return ac(t)?ec(ec({},t),{},{velocity:oc(t.velocity,i[e].velocity,r),from:oc(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const cc=function(e,t,n,r,i){var o,a,s,c,l=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=l.reduce((function(n,r){return ec(ec({},n),{},tc({},r,[e[r],t[r]]))}),{}),d=l.reduce((function(n,r){return ec(ec({},n),{},tc({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;d=sc(n,d,o),i(ec(ec(ec({},e),t),Ls((function(e,t){return t.from}),d))),s=r,Object.values(d).filter(ac).length&&(h=requestAnimationFrame(f))}:function(o){c||(c=o);var a=(o-c)/r,s=Ls((function(e,t){return oc.apply(void 0,Zs(t).concat([n(a)]))}),u);if(i(ec(ec(ec({},e),t),s)),a<1)h=requestAnimationFrame(f);else{var l=Ls((function(e,t){return oc.apply(void 0,Zs(t).concat([n(1)]))}),u);i(ec(ec(ec({},e),t),l))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function lc(e){return lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(e)}var uc=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dc(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hc(e){return function(e){if(Array.isArray(e))return fc(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return fc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(n),!0).forEach((function(t){mc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mc(e,t,n){return(t=yc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yc(r.key),r)}}function yc(e){var t=function(e,t){if("object"!==lc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==lc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===lc(t)?t:String(t)}function bc(e,t){return bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bc(e,t)}function wc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(cE){return!1}}();return function(){var n,r=Ec(e);if(t){var i=Ec(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xc(this,n)}}function xc(e,t){if(t&&("object"===lc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sc(e)}function Sc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ec(e){return Ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ec(e)}var kc=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bc(e,t)}(a,e);var t,n,i,o=wc(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,c=r.from,l=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(Sc(n)),n.changeStyle=n.changeStyle.bind(Sc(n)),!i||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:l}),xc(n);if(u&&u.length)n.state={style:u[0].style};else if(c){if("function"===typeof d)return n.state={style:c},xc(n);n.state={style:s?mc({},s,c):c}}else n.state={style:{}};return n}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,c=this.state.style;if(r)if(n){if(!(Ps(e.to,a)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=l||o?s:e.to;if(this.state&&c){var d={style:i?mc({},i,u):u};(i&&c[i]!==u||!i&&c!==u)&&this.setState(d)}this.runAnimation(gc(gc({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?mc({},i,a):a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,c=e.onAnimationStart,l=cc(n,r,Xs(o),i,this.changeStyle);this.manager.start([c,a,function(){t.stopJSAnimation=l()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,c=void 0===s?0:s;return this.manager.start([i].concat(hc(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,c=r.style,l=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=l||Object.keys(c);if("function"===typeof s||"spring"===s)return[].concat(hc(e),[t.runJSAnimation.bind(t,{from:d.style,to:c,duration:o,easing:s}),o]);var f=qs(h,o,s),p=gc(gc(gc({},d.style),c),{},{transition:f});return[].concat(hc(e),[p,o,u]).filter($s)}),[a,Math.max(c,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=Ds());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,c=e.steps,l=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof l&&"spring"!==o)if(c.length>1)this.runStepAnimation(e);else{var d=r?mc({},r,i):i,h=qs(Object.keys(d),n,o);u.start([a,t,gc(gc({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),i=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,dc(e,uc)),a=r.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!i||0===a||n<=0)return t;var c=function(e){var t=e.props,n=t.style,i=void 0===n?{}:n,a=t.className;return(0,r.cloneElement)(e,gc(gc({},o),{},{style:gc(gc({},i),s),className:a}))};return 1===a?c(r.Children.only(t)):r.createElement("div",null,r.Children.map(t,(function(e){return c(e)})))}}])&&vc(t.prototype,n),i&&vc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);kc.displayName="Animate",kc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},kc.propTypes={from:ns().oneOfType([ns().object,ns().string]),to:ns().oneOfType([ns().object,ns().string]),attributeName:ns().string,duration:ns().number,begin:ns().number,easing:ns().oneOfType([ns().string,ns().func]),steps:ns().arrayOf(ns().shape({duration:ns().number.isRequired,style:ns().object.isRequired,easing:ns().oneOfType([ns().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ns().func]),properties:ns().arrayOf("string"),onAnimationEnd:ns().func})),children:ns().oneOfType([ns().node,ns().func]),isActive:ns().bool,canBegin:ns().bool,onAnimationEnd:ns().func,shouldReAnimate:ns().bool,onAnimationStart:ns().func,onAnimationReStart:ns().func};const Oc=kc;function Tc(e){return Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(e)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pc.apply(this,arguments)}function Cc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return jc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ac(Object(n),!0).forEach((function(t){Ic(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ac(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ic(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Tc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tc(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dc=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,c=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+c*u[0],",").concat(t)),o+="L ".concat(e+n-c*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,",\n        ").concat(e+n-c*u[2],",").concat(t+r)),o+="L ".concat(e+c*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);o="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+c*h,",").concat(t,"\n            L ").concat(e+n-c*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+n-c*h,",").concat(t+r,"\n            L ").concat(e+c*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(l,",").concat(e,",").concat(t+r-s*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},Rc=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var c=Math.min(i,i+a),l=Math.max(i,i+a),u=Math.min(o,o+s),d=Math.max(o,o+s);return n>=c&&n<=l&&r>=u&&r<=d}return!1},Nc={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mc=function(e){var t=_c(_c({},Nc),e),n=(0,r.useRef)(),i=Cc((0,r.useState)(-1),2),o=i[0],a=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,c=t.y,l=t.width,u=t.height,d=t.radius,h=t.className,f=t.animationEasing,p=t.animationDuration,g=t.animationBegin,m=t.isAnimationActive,v=t.isUpdateAnimationActive;if(s!==+s||c!==+c||l!==+l||u!==+u||0===l||0===u)return null;var y=fr("recharts-rectangle",h);return v?r.createElement(Oc,{canBegin:o>0,from:{width:l,height:u,x:s,y:c},to:{width:l,height:u,x:s,y:c},duration:p,animationEasing:f,isActive:v},(function(e){var i=e.width,a=e.height,s=e.x,c=e.y;return r.createElement(Oc,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:m,easing:f},r.createElement("path",Pc({},ui(t,!0),{className:y,d:Dc(s,c,i,a,d),ref:n})))})):r.createElement("path",Pc({},ui(t,!0),{className:y,d:Dc(s,c,l,u,d)}))};function Hc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function $c(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Lc extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uc;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(qc(this,e))}has(e){return super.has(qc(this,e))}set(e,t){return super.set(Fc(this,e),t)}delete(e){return super.delete(Bc(this,e))}}Set;function qc(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function Fc(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function Bc(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function Uc(e){return null!==e&&"object"===typeof e?e.valueOf():e}const zc=Symbol("implicit");function Vc(){var e=new Lc,t=[],n=[],r=zc;function i(i){let o=e.get(i);if(void 0===o){if(r!==zc)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Lc;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Vc(t,n).unknown(r)},Hc.apply(i,arguments),i}function Wc(){var e,t,n=Vc().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,c=0,l=0,u=.5;function d(){var n=r().length,d=a<o,h=d?a:o,f=d?o:a;e=(f-h)/Math.max(1,n-c+2*l),s&&(e=Math.floor(e)),h+=(f-h-e*(n-c))*u,t=e*(1-c),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return h+e*t}));return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(c=Math.min(1,l=+e),d()):c},n.paddingInner=function(e){return arguments.length?(c=Math.min(1,e),d()):c},n.paddingOuter=function(e){return arguments.length?(l=+e,d()):l},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Wc(r(),[o,a]).round(s).paddingInner(c).paddingOuter(l).align(u)},Hc.apply(d(),arguments)}function Gc(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Gc(t())},e}function Kc(){return Gc(Wc.apply(null,arguments).paddingInner(1))}function Yc(e){return Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(e)}function Xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xc(Object(n),!0).forEach((function(t){Zc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zc(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Yc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yc(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qc={widthCache:{},cacheCount:0},el={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tl="recharts_measurement_span";var nl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||so.isSsr)return{width:0,height:0};var n=function(e){var t=Jc({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(Qc.widthCache[r])return Qc.widthCache[r];try{var i=document.getElementById(tl);i||((i=document.createElement("span")).setAttribute("id",tl),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Jc(Jc({},el),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return Qc.widthCache[r]=s,++Qc.cacheCount>2e3&&(Qc.cacheCount=0,Qc.widthCache={}),s}catch(cE){return{width:0,height:0}}};function rl(e){return rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(e)}function il(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ol(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ol(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ol(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sl(r.key),r)}}function sl(e){var t=function(e,t){if("object"!=rl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rl(t)?t:t+""}var cl=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ll=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ul=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dl=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hl={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},fl=Object.keys(hl),pl="NaN";var gl=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||ul.test(n)||(this.num=NaN,this.unit=""),fl.includes(n)&&(this.num=function(e,t){return e*hl[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=il(null!==(n=dl.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&al(t.prototype,n),r&&al(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function ml(e){if(e.includes(pl))return pl;for(var t=e;t.includes("*")||t.includes("/");){var n,r=il(null!==(n=cl.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=gl.parse(null!==i&&void 0!==i?i:""),c=gl.parse(null!==a&&void 0!==a?a:""),l="*"===o?s.multiply(c):s.divide(c);if(l.isNaN())return pl;t=t.replace(cl,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=il(null!==(u=ll.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],g=gl.parse(null!==h&&void 0!==h?h:""),m=gl.parse(null!==p&&void 0!==p?p:""),v="+"===f?g.add(m):g.subtract(m);if(v.isNaN())return pl;t=t.replace(ll,v.toString())}return t}var vl=/\(([^()]*)\)/;function yl(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=il(vl.exec(t),2)[1];t=t.replace(vl,ml(n))}return t}(t),t=ml(t)}function bl(e){var t=function(e){try{return yl(e)}catch(cE){return pl}}(e.slice(5,-1));return t===pl?"":t}var wl=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],xl=["dx","dy","angle","className","breakAll"];function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sl.apply(this,arguments)}function El(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ol(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ol(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ol(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tl=/[ \f\n\r\t\v\u2028\u2029]+/,Pl=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return Mr()(t)||(i=n?t.toString().split(""):t.toString().split(Tl)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:nl(e,r).width}})),spaceWidth:n?0:nl("\xa0",r).width}}catch(cE){return null}},Cl=function(e){return[{words:Mr()(e)?[]:e.toString().split(Tl)}]},jl=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!so.isSsr){var s=Pl({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,c=e.breakAll,l=Tr(o),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var c={words:[o],width:a};e.push(c)}return e}),[])},h=d(t);if(!l)return h;for(var f,p=function(e){var t=u.slice(0,e),n=Pl({breakAll:c,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n),a=i.length>o||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[a,i]},g=0,m=u.length-1,v=0;g<=m&&v<=u.length-1;){var y=Math.floor((g+m)/2),b=kl(p(y-1),2),w=b[0],x=b[1],S=kl(p(y),1)[0];if(w||S||(g=y+1),w&&S&&(m=y-1),!w&&S){f=x;break}v++}return f||h}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):Cl(r)}return Cl(r)},Al="#808080",_l=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,o=void 0===i?0:i,a=e.lineHeight,s=void 0===a?"1em":a,c=e.capHeight,l=void 0===c?"0.71em":c,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,g=void 0===p?"end":p,m=e.fill,v=void 0===m?Al:m,y=El(e,wl),b=(0,r.useMemo)((function(){return jl({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})}),[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),w=y.dx,x=y.dy,S=y.angle,E=y.className,k=y.breakAll,O=El(y,xl);if(!Pr(n)||!Pr(o))return null;var T,P=n+(Tr(w)?w:0),C=o+(Tr(x)?x:0);switch(g){case"start":T=bl("calc(".concat(l,")"));break;case"middle":T=bl("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:T=bl("calc(".concat(b.length-1," * -").concat(s,")"))}var j=[];if(d){var A=b[0].width,_=y.width;j.push("scale(".concat((Tr(_)?_/A:1)/A,")"))}return S&&j.push("rotate(".concat(S,", ").concat(P,", ").concat(C,")")),j.length&&(O.transform=j.join(" ")),r.createElement("text",Sl({},ui(O,!0),{x:P,y:C,className:fr("recharts-text",E),textAnchor:f,fill:v.includes("url")?Al:v}),b.map((function(e,t){var n=e.words.join(k?"":" ");return r.createElement("tspan",{x:P,dy:0===t?T:s,key:"".concat(n,"-").concat(t)},n)})))};const Il=Math.sqrt(50),Dl=Math.sqrt(10),Rl=Math.sqrt(2);function Nl(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Il?10:o>=Dl?5:o>=Rl?2:1;let s,c,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,i)*a,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=n&&n<2?Nl(e,t,2*n):[s,c,l]}function Ml(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?Nl(t,e,n):Nl(e,t,n);if(!(o>=i))return[];const s=o-i+1,c=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)c[l]=(o-l)/-a;else for(let l=0;l<s;++l)c[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)c[l]=(i+l)/-a;else for(let l=0;l<s;++l)c[l]=(i+l)*a;return c}function Hl(e,t,n){return Nl(e=+e,t=+t,n=+n)[2]}function $l(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Hl(t,e,n):Hl(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Ll(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ql(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fl(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=Ll,n=(t,n)=>Ll(e(t),n),r=(t,n)=>e(t)-n):(t=e===Ll||e===ql?e:Bl,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function Bl(){return 0}function Ul(e){return null===e?NaN:+e}const zl=Fl(Ll),Vl=zl.right,Wl=(zl.left,Fl(Ul).center,Vl);function Gl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Kl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Yl(){}var Xl=.7,Jl=1/Xl,Zl="\\s*([+-]?\\d+)\\s*",Ql="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tu=/^#([0-9a-f]{3,8})$/,nu=new RegExp("^rgb\\(".concat(Zl,",").concat(Zl,",").concat(Zl,"\\)$")),ru=new RegExp("^rgb\\(".concat(eu,",").concat(eu,",").concat(eu,"\\)$")),iu=new RegExp("^rgba\\(".concat(Zl,",").concat(Zl,",").concat(Zl,",").concat(Ql,"\\)$")),ou=new RegExp("^rgba\\(".concat(eu,",").concat(eu,",").concat(eu,",").concat(Ql,"\\)$")),au=new RegExp("^hsl\\(".concat(Ql,",").concat(eu,",").concat(eu,"\\)$")),su=new RegExp("^hsla\\(".concat(Ql,",").concat(eu,",").concat(eu,",").concat(Ql,"\\)$")),cu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function lu(){return this.rgb().formatHex()}function uu(){return this.rgb().formatRgb()}function du(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=tu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?hu(t):3===n?new gu(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?fu(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?fu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=nu.exec(e))?new gu(t[1],t[2],t[3],1):(t=ru.exec(e))?new gu(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=iu.exec(e))?fu(t[1],t[2],t[3],t[4]):(t=ou.exec(e))?fu(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=au.exec(e))?xu(t[1],t[2]/100,t[3]/100,1):(t=su.exec(e))?xu(t[1],t[2]/100,t[3]/100,t[4]):cu.hasOwnProperty(e)?hu(cu[e]):"transparent"===e?new gu(NaN,NaN,NaN,0):null}function hu(e){return new gu(e>>16&255,e>>8&255,255&e,1)}function fu(e,t,n,r){return r<=0&&(e=t=n=NaN),new gu(e,t,n,r)}function pu(e,t,n,r){return 1===arguments.length?((i=e)instanceof Yl||(i=du(i)),i?new gu((i=i.rgb()).r,i.g,i.b,i.opacity):new gu):new gu(e,t,n,null==r?1:r);var i}function gu(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function mu(){return"#".concat(wu(this.r)).concat(wu(this.g)).concat(wu(this.b))}function vu(){const e=yu(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(bu(this.r),", ").concat(bu(this.g),", ").concat(bu(this.b)).concat(1===e?")":", ".concat(e,")"))}function yu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wu(e){return((e=bu(e))<16?"0":"")+e.toString(16)}function xu(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Eu(e,t,n,r)}function Su(e){if(e instanceof Eu)return new Eu(e.h,e.s,e.l,e.opacity);if(e instanceof Yl||(e=du(e)),!e)return new Eu;if(e instanceof Eu)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new Eu(a,s,c,e.opacity)}function Eu(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ku(e){return(e=(e||0)%360)<0?e+360:e}function Ou(e){return Math.max(0,Math.min(1,e||0))}function Tu(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Pu(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}Gl(Yl,du,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lu,formatHex:lu,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Su(this).formatHsl()},formatRgb:uu,toString:uu}),Gl(gu,pu,Kl(Yl,{brighter(e){return e=null==e?Jl:Math.pow(Jl,e),new gu(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Xl:Math.pow(Xl,e),new gu(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gu(bu(this.r),bu(this.g),bu(this.b),yu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mu,formatHex:mu,formatHex8:function(){return"#".concat(wu(this.r)).concat(wu(this.g)).concat(wu(this.b)).concat(wu(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:vu,toString:vu})),Gl(Eu,(function(e,t,n,r){return 1===arguments.length?Su(e):new Eu(e,t,n,null==r?1:r)}),Kl(Yl,{brighter(e){return e=null==e?Jl:Math.pow(Jl,e),new Eu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Xl:Math.pow(Xl,e),new Eu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new gu(Tu(e>=240?e-240:e+120,i,r),Tu(e,i,r),Tu(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Eu(ku(this.h),Ou(this.s),Ou(this.l),yu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yu(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(ku(this.h),", ").concat(100*Ou(this.s),"%, ").concat(100*Ou(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const Cu=e=>()=>e;function ju(e,t){return function(n){return e+n*t}}function Au(e){return 1===(e=+e)?_u:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Cu(isNaN(t)?n:t)}}function _u(e,t){var n=t-e;return n?ju(e,n):Cu(isNaN(e)?t:e)}const Iu=function e(t){var n=Au(t);function r(e,t){var r=n((e=pu(e)).r,(t=pu(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=_u(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Du(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=pu(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}Du((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Pu((n-r/t)*t,a,i,o,s)}})),Du((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Pu((n-r/t)*t,i,o,a,s)}}));function Ru(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Bu(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function Nu(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Mu(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Hu(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Bu(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var $u=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lu=new RegExp($u.source,"g");function qu(e,t){var n,r,i,o=$u.lastIndex=Lu.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(n=$u.exec(e))&&(r=Lu.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:Mu(n,r)})),o=Lu.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})}function Fu(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Bu(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?Cu(t):("number"===i?Mu:"string"===i?(n=du(t))?(t=n,Iu):qu:t instanceof du?Iu:t instanceof Date?Nu:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Ru:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Hu:Mu:Fu))(e,t)}function Uu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function zu(e){return+e}var Vu=[0,1];function Wu(e){return e}function Gu(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Ku(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Gu(i,r),o=n(a,o)):(r=Gu(r,i),o=n(o,a)),function(e){return o(r(e))}}function Yu(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Gu(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=Wl(e,t,1,r)-1;return o[n](i[n](t))}}function Xu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ju(){var e,t,n,r,i,o,a=Vu,s=Vu,c=Bu,l=Wu;function u(){var e=Math.min(a.length,s.length);return l!==Wu&&(l=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?Yu:Ku,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,c)))(e(l(t)))}return d.invert=function(n){return l(t((o||(o=r(s,a.map(e),Mu)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,zu),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),c=Uu,u()},d.clamp=function(e){return arguments.length?(l=!!e||Wu,u()):l!==Wu},d.interpolate=function(e){return arguments.length?(c=e,u()):c},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function Zu(){return Ju()(Wu,Wu)}var Qu,ed=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function td(e){if(!(t=ed.exec(e)))throw new Error("invalid format: "+e);var t;return new nd({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function nd(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function rd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function id(e){return(e=rd(Math.abs(e)))?e[1]:NaN}function od(e,t){var n=rd(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}td.prototype=nd.prototype,nd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ad={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>od(100*e,t),r:od,s:function(e,t){var n=rd(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Qu=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+rd(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function sd(e){return e}var cd,ld,ud,dd=Array.prototype.map,hd=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function fd(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?sd:(t=dd.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(e.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?sd:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(dd.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=td(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,g=e.comma,m=e.precision,v=e.trim,y=e.type;"n"===y?(g=!0,y="g"):ad[y]||(void 0===m&&(m=12),v=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?o:/[%p]/.test(y)?c:"",x=ad[y],S=/[defgprs%]/.test(y);function E(e){var i,o,c,h=b,E=w;if("c"===y)E=x(e)+E,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),m),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==d&&(k=!1),h=(k?"("===d?d:l:"-"===d||"("===d?"":d)+h,E=("s"===y?hd[8+Qu/3]:"")+E+(k&&"("===d?")":""),S)for(i=-1,o=e.length;++i<o;)if(48>(c=e.charCodeAt(i))||c>57){E=(46===c?a+e.slice(i+1):e.slice(i))+E,e=e.slice(0,i);break}}g&&!f&&(e=r(e,1/0));var O=h.length+e.length+E.length,T=O<p?new Array(p-O+1).join(t):"";switch(g&&f&&(e=r(T+e,T.length?p-E.length:1/0),T=""),n){case"<":e=h+e+E+T;break;case"=":e=h+T+e+E;break;case"^":e=T.slice(0,O=T.length>>1)+h+e+E+T.slice(O);break;default:e=T+h+e+E}return s(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),E.toString=function(){return e+""},E}return{format:d,formatPrefix:function(e,t){var n=d(((e=td(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(id(t)/3))),i=Math.pow(10,-r),o=hd[8+r/3];return function(e){return n(i*e)+o}}}}function pd(e,t,n,r){var i,o=$l(e,t,n);switch((r=td(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(id(t)/3)))-id(Math.abs(e)))}(o,a))||(r.precision=i),ud(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,id(t)-id(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-id(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return ld(r)}function gd(e){var t=e.domain;return e.ticks=function(e){var n=t();return Ml(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return pd(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,c=o[a],l=o[s],u=10;for(l<c&&(i=c,c=l,l=i,i=a,a=s,s=i);u-- >0;){if((i=Hl(c,l,n))===r)return o[a]=c,o[s]=l,t(o);if(i>0)c=Math.floor(c/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,l=Math.floor(l*i)/i}r=i}return e},e}function md(){var e=Zu();return e.copy=function(){return Xu(e,md())},Hc.apply(e,arguments),gd(e)}function vd(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,zu),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return vd(e).unknown(t)},e=arguments.length?Array.from(e,zu):[0,1],gd(n)}function yd(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function bd(e){return Math.log(e)}function wd(e){return Math.exp(e)}function xd(e){return-Math.log(-e)}function Sd(e){return-Math.exp(-e)}function Ed(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kd(e){return(t,n)=>-e(-t,n)}function Od(e){const t=e(bd,wd),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?Ed:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=kd(r),i=kd(i),e(xd,Sd)):e(bd,wd),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const c=s<a;c&&([a,s]=[s,a]);let l,u,d=r(a),h=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(l=1;l<o;++l)if(u=d<0?l/i(-d):l*i(d),!(u<a)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(l=o-1;l>=1;--l)if(u=d>0?l/i(-d):l*i(d),!(u<a)){if(u>s)break;p.push(u)}2*p.length<f&&(p=Ml(a,s,f))}else p=Ml(d,h,Math.min(h-d,f)).map(i);return c?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=td(n)).precision||(n.trim=!0),n=ld(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(yd(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function Td(){const e=Od(Ju()).domain([1,10]);return e.copy=()=>Xu(e,Td()).base(e.base()),Hc.apply(e,arguments),e}function Pd(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Cd(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jd(e){var t=1,n=e(Pd(t),Cd(t));return n.constant=function(n){return arguments.length?e(Pd(t=+n),Cd(t)):t},gd(n)}function Ad(){var e=jd(Ju());return e.copy=function(){return Xu(e,Ad()).constant(e.constant())},Hc.apply(e,arguments)}function _d(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Id(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Dd(e){return e<0?-e*e:e*e}function Rd(e){var t=e(Wu,Wu),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Wu,Wu):.5===n?e(Id,Dd):e(_d(n),_d(1/n)):n},gd(t)}function Nd(){var e=Rd(Ju());return e.copy=function(){return Xu(e,Nd()).exponent(e.exponent())},Hc.apply(e,arguments),e}function Md(){return Nd.apply(null,arguments).exponent(.5)}function Hd(e){return Math.sign(e)*e*e}function $d(){var e,t=Zu(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(Hd(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,zu)).map(Hd)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return $d(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},Hc.apply(i,arguments),gd(i)}function Ld(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function qd(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function Fd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ll;if(e===Ll)return Bd;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Bd(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Ud(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?Bd:Fd(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),c=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*c*(o-c)/o)*(a-o/2<0?-1:1);Ud(e,t,Math.max(n,Math.floor(t-a*c/o+l)),Math.min(r,Math.floor(t+(o-a)*c/o+l)),i)}const o=e[t];let a=n,s=r;for(zd(e,n,t),i(e[r],o)>0&&zd(e,n,r);a<s;){for(zd(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?zd(e,n,s):(++s,zd(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function zd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Vd(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return qd(e);if(t>=1)return Ld(e);var r,i=(r-1)*t,o=Math.floor(i),a=Ld(Ud(e,o).subarray(0,o+1));return a+(qd(e.subarray(o+1))-a)*(i-o)}}function Wd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ul;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function Gd(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=Wd(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[Wl(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Ll),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return Gd().domain(t).range(n).unknown(e)},Hc.apply(o,arguments)}function Kd(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[Wl(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Kd().domain([t,n]).range(o).unknown(e)},Hc.apply(gd(a),arguments)}function Yd(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[Wl(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Yd().domain(t).range(n).unknown(e)},Hc.apply(i,arguments)}cd=fd({thousands:",",grouping:[3],currency:["$",""]}),ld=cd.format,ud=cd.formatPrefix;const Xd=1e3,Jd=6e4,Zd=36e5,Qd=864e5,eh=6048e5,th=2592e6,nh=31536e6,rh=new Date,ih=new Date;function oh(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>oh((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(rh.setTime(+t),ih.setTime(+r),e(rh),e(ih),Math.floor(n(rh,ih))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const ah=oh((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));ah.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?oh((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):ah:null);ah.range;const sh=oh((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*Xd)}),((e,t)=>(t-e)/Xd),(e=>e.getUTCSeconds())),ch=(sh.range,oh((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xd)}),((e,t)=>{e.setTime(+e+t*Jd)}),((e,t)=>(t-e)/Jd),(e=>e.getMinutes()))),lh=(ch.range,oh((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*Jd)}),((e,t)=>(t-e)/Jd),(e=>e.getUTCMinutes()))),uh=(lh.range,oh((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xd-e.getMinutes()*Jd)}),((e,t)=>{e.setTime(+e+t*Zd)}),((e,t)=>(t-e)/Zd),(e=>e.getHours()))),dh=(uh.range,oh((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*Zd)}),((e,t)=>(t-e)/Zd),(e=>e.getUTCHours()))),hh=(dh.range,oh((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jd)/Qd),(e=>e.getDate()-1))),fh=(hh.range,oh((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Qd),(e=>e.getUTCDate()-1))),ph=(fh.range,oh((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Qd),(e=>Math.floor(e/Qd))));ph.range;function gh(e){return oh((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jd)/eh))}const mh=gh(0),vh=gh(1),yh=gh(2),bh=gh(3),wh=gh(4),xh=gh(5),Sh=gh(6);mh.range,vh.range,yh.range,bh.range,wh.range,xh.range,Sh.range;function Eh(e){return oh((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/eh))}const kh=Eh(0),Oh=Eh(1),Th=Eh(2),Ph=Eh(3),Ch=Eh(4),jh=Eh(5),Ah=Eh(6),_h=(kh.range,Oh.range,Th.range,Ph.range,Ch.range,jh.range,Ah.range,oh((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),Ih=(_h.range,oh((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),Dh=(Ih.range,oh((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));Dh.every=e=>isFinite(e=Math.floor(e))&&e>0?oh((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;Dh.range;const Rh=oh((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));Rh.every=e=>isFinite(e=Math.floor(e))&&e>0?oh((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;Rh.range;function Nh(e,t,n,r,i,o){const a=[[sh,1,Xd],[sh,5,5e3],[sh,15,15e3],[sh,30,3e4],[o,1,Jd],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Zd],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Qd],[r,2,1728e5],[n,1,eh],[t,1,th],[t,3,7776e6],[e,1,nh]];function s(t,n,r){const i=Math.abs(n-t)/r,o=Fl((e=>{let[,,t]=e;return t})).right(a,i);if(o===a.length)return e.every($l(t/nh,n/nh,r));if(0===o)return ah.every(Math.max($l(t,n,r),1));const[s,c]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(c)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[Mh,Hh]=Nh(Rh,Ih,kh,ph,dh,lh),[$h,Lh]=Nh(Dh,_h,mh,hh,uh,ch);function qh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Uh,zh,Vh,Wh={"-":"",_:" ",0:"0"},Gh=/^\s*\d+/,Kh=/^%/,Yh=/[\\^$*+?|[\]().{}]/g;function Xh(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Jh(e){return e.replace(Yh,"\\$&")}function Zh(e){return new RegExp("^(?:"+e.map(Jh).join("|")+")","i")}function Qh(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function ef(e,t,n){var r=Gh.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function tf(e,t,n){var r=Gh.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function nf(e,t,n){var r=Gh.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function rf(e,t,n){var r=Gh.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function of(e,t,n){var r=Gh.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function af(e,t,n){var r=Gh.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function sf(e,t,n){var r=Gh.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cf(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lf(e,t,n){var r=Gh.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function uf(e,t,n){var r=Gh.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function df(e,t,n){var r=Gh.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function hf(e,t,n){var r=Gh.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ff(e,t,n){var r=Gh.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function pf(e,t,n){var r=Gh.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function gf(e,t,n){var r=Gh.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mf(e,t,n){var r=Gh.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function vf(e,t,n){var r=Gh.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yf(e,t,n){var r=Kh.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function bf(e,t,n){var r=Gh.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function wf(e,t,n){var r=Gh.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function xf(e,t){return Xh(e.getDate(),t,2)}function Sf(e,t){return Xh(e.getHours(),t,2)}function Ef(e,t){return Xh(e.getHours()%12||12,t,2)}function kf(e,t){return Xh(1+hh.count(Dh(e),e),t,3)}function Of(e,t){return Xh(e.getMilliseconds(),t,3)}function Tf(e,t){return Of(e,t)+"000"}function Pf(e,t){return Xh(e.getMonth()+1,t,2)}function Cf(e,t){return Xh(e.getMinutes(),t,2)}function jf(e,t){return Xh(e.getSeconds(),t,2)}function Af(e){var t=e.getDay();return 0===t?7:t}function _f(e,t){return Xh(mh.count(Dh(e)-1,e),t,2)}function If(e){var t=e.getDay();return t>=4||0===t?wh(e):wh.ceil(e)}function Df(e,t){return e=If(e),Xh(wh.count(Dh(e),e)+(4===Dh(e).getDay()),t,2)}function Rf(e){return e.getDay()}function Nf(e,t){return Xh(vh.count(Dh(e)-1,e),t,2)}function Mf(e,t){return Xh(e.getFullYear()%100,t,2)}function Hf(e,t){return Xh((e=If(e)).getFullYear()%100,t,2)}function $f(e,t){return Xh(e.getFullYear()%1e4,t,4)}function Lf(e,t){var n=e.getDay();return Xh((e=n>=4||0===n?wh(e):wh.ceil(e)).getFullYear()%1e4,t,4)}function qf(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xh(t/60|0,"0",2)+Xh(t%60,"0",2)}function Ff(e,t){return Xh(e.getUTCDate(),t,2)}function Bf(e,t){return Xh(e.getUTCHours(),t,2)}function Uf(e,t){return Xh(e.getUTCHours()%12||12,t,2)}function zf(e,t){return Xh(1+fh.count(Rh(e),e),t,3)}function Vf(e,t){return Xh(e.getUTCMilliseconds(),t,3)}function Wf(e,t){return Vf(e,t)+"000"}function Gf(e,t){return Xh(e.getUTCMonth()+1,t,2)}function Kf(e,t){return Xh(e.getUTCMinutes(),t,2)}function Yf(e,t){return Xh(e.getUTCSeconds(),t,2)}function Xf(e){var t=e.getUTCDay();return 0===t?7:t}function Jf(e,t){return Xh(kh.count(Rh(e)-1,e),t,2)}function Zf(e){var t=e.getUTCDay();return t>=4||0===t?Ch(e):Ch.ceil(e)}function Qf(e,t){return e=Zf(e),Xh(Ch.count(Rh(e),e)+(4===Rh(e).getUTCDay()),t,2)}function ep(e){return e.getUTCDay()}function tp(e,t){return Xh(Oh.count(Rh(e)-1,e),t,2)}function np(e,t){return Xh(e.getUTCFullYear()%100,t,2)}function rp(e,t){return Xh((e=Zf(e)).getUTCFullYear()%100,t,2)}function ip(e,t){return Xh(e.getUTCFullYear()%1e4,t,4)}function op(e,t){var n=e.getUTCDay();return Xh((e=n>=4||0===n?Ch(e):Ch.ceil(e)).getUTCFullYear()%1e4,t,4)}function ap(){return"+0000"}function sp(){return"%"}function cp(e){return+e}function lp(e){return Math.floor(+e/1e3)}function up(e){return new Date(e)}function dp(e){return e instanceof Date?+e:+new Date(+e)}function hp(e,t,n,r,i,o,a,s,c,l){var u=Zu(),d=u.invert,h=u.domain,f=l(".%L"),p=l(":%S"),g=l("%I:%M"),m=l("%I %p"),v=l("%a %d"),y=l("%b %d"),b=l("%B"),w=l("%Y");function x(e){return(c(e)<e?f:s(e)<e?p:a(e)<e?g:o(e)<e?m:r(e)<e?i(e)<e?v:y:n(e)<e?b:w)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,dp)):h().map(up)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:l(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(yd(n,e)):u},u.copy=function(){return Xu(u,hp(e,t,n,r,i,o,a,s,c,l))},u}function fp(){return Hc.apply(hp($h,Lh,Dh,_h,mh,hh,uh,ch,sh,zh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pp(){return Hc.apply(hp(Mh,Hh,Rh,Ih,kh,fh,dh,lh,sh,Vh).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gp(){var e,t,n,r,i,o=0,a=1,s=Wu,c=!1;function l(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),l):[s(0),s(1)]}}return l.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),l):[o,a]},l.clamp=function(e){return arguments.length?(c=!!e,l):c},l.interpolator=function(e){return arguments.length?(s=e,l):s},l.range=u(Bu),l.rangeRound=u(Uu),l.unknown=function(e){return arguments.length?(i=e,l):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),l}}function mp(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vp(){var e=gd(gp()(Wu));return e.copy=function(){return mp(e,vp())},$c.apply(e,arguments)}function yp(){var e=Od(gp()).domain([1,10]);return e.copy=function(){return mp(e,yp()).base(e.base())},$c.apply(e,arguments)}function bp(){var e=jd(gp());return e.copy=function(){return mp(e,bp()).constant(e.constant())},$c.apply(e,arguments)}function wp(){var e=Rd(gp());return e.copy=function(){return mp(e,wp()).exponent(e.exponent())},$c.apply(e,arguments)}function xp(){return wp.apply(null,arguments).exponent(.5)}function Sp(){var e=[],t=Wu;function n(n){if(null!=n&&!isNaN(n=+n))return t((Wl(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Ll),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>Vd(e,r/t)))},n.copy=function(){return Sp(t).domain(e)},$c.apply(n,arguments)}function Ep(){var e,t,n,r,i,o,a,s=0,c=.5,l=1,u=1,d=Wu,h=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=Bu);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(a){return arguments.length?([s,c,l]=a,e=o(s=+s),t=o(c=+c),n=o(l=+l),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,c,l]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Bu),f.rangeRound=p(Uu),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(c),n=a(l),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function kp(){var e=gd(Ep()(Wu));return e.copy=function(){return mp(e,kp())},$c.apply(e,arguments)}function Op(){var e=Od(Ep()).domain([.1,1,10]);return e.copy=function(){return mp(e,Op()).base(e.base())},$c.apply(e,arguments)}function Tp(){var e=jd(Ep());return e.copy=function(){return mp(e,Tp()).constant(e.constant())},$c.apply(e,arguments)}function Pp(){var e=Rd(Ep());return e.copy=function(){return mp(e,Pp()).exponent(e.exponent())},$c.apply(e,arguments)}function Cp(){return Pp.apply(null,arguments).exponent(.5)}function jp(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){Uh=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,l=Zh(i),u=Qh(i),d=Zh(o),h=Qh(o),f=Zh(a),p=Qh(a),g=Zh(s),m=Qh(s),v=Zh(c),y=Qh(c),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:xf,e:xf,f:Tf,g:Hf,G:Lf,H:Sf,I:Ef,j:kf,L:Of,m:Pf,M:Cf,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:cp,s:lp,S:jf,u:Af,U:_f,V:Df,w:Rf,W:Nf,x:null,X:null,y:Mf,Y:$f,Z:qf,"%":sp},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Ff,e:Ff,f:Wf,g:rp,G:op,H:Bf,I:Uf,j:zf,L:Vf,m:Gf,M:Kf,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:cp,s:lp,S:Yf,u:Xf,U:Jf,V:Qf,w:ep,W:tp,x:null,X:null,y:np,Y:ip,Z:ap,"%":sp},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:df,e:df,f:vf,g:sf,G:af,H:ff,I:ff,j:hf,L:mf,m:uf,M:pf,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:lf,Q:bf,s:wf,S:gf,u:tf,U:nf,V:rf,w:ef,W:of,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:sf,Y:af,Z:cf,"%":yf};function S(e,t){return function(n){var r,i,o,a=[],s=-1,c=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(c,s)),null!=(i=Wh[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),c=s+1);return a.push(e.slice(c,s)),a.join("")}}function E(e,t){return function(n){var r,i,o=Bh(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Fh(Bh(o.y,0,1))).getUTCDay(),r=i>4||0===i?Oh.ceil(r):Oh(r),r=fh.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=qh(Bh(o.y,0,1))).getDay(),r=i>4||0===i?vh.ceil(r):vh(r),r=hh.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Fh(Bh(o.y,0,1)).getUTCDay():qh(Bh(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Fh(o)):qh(o)}}function k(e,t,n,r){for(var i,o,a=0,s=t.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in Wh?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=E(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e+="",!0);return t.toString=function(){return e},t}}}(e),zh=Uh.format,Uh.parse,Vh=Uh.utcFormat,Uh.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function Ap(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function _p(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Ip(e,t){return e[t]}function Dp(e){const t=[];return t.key=e,t}var Rp=n(539),Np=n.n(Rp),Mp=n(6745),Hp=n.n(Mp),$p=n(3538),Lp=n.n($p),qp=n(9853),Fp=n.n(qp),Bp=n(8210),Up=n.n(Bp);function zp(e){return function(e){if(Array.isArray(e))return Vp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wp=function(e){return e},Gp={"@@functional/placeholder":!0},Kp=function(e){return e===Gp},Yp=function(e){return function t(){return 0===arguments.length||1===arguments.length&&Kp(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Xp=function e(t,n){return 1===t?n:Yp((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==Gp})).length;return a>=t?n.apply(void 0,i):e(t-a,Yp((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return Kp(e)?t.shift():e}));return n.apply(void 0,zp(o).concat(t))})))}))},Jp=function(e){return Xp(e.length,e)},Zp=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Qp=Jp((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),eg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Wp;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},tg=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ng=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var rg=Jp((function(e,t,n){var r=+e;return r+n*(+t-r)})),ig=Jp((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),og=Jp((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const ag={rangeStep:function(e,t,n){for(var r=new(Up())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(Up())(e).abs().log(10).toNumber())+1},interpolateNumber:rg,uninterpolateNumber:ig,uninterpolateTruncation:og};function sg(e){return function(e){if(Array.isArray(e))return ug(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||lg(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||lg(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lg(e,t){if(e){if("string"===typeof e)return ug(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ug(e,t):void 0}}function ug(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dg(e){var t=cg(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function hg(e,t,n){if(e.lte(0))return new(Up())(0);var r=ag.getDigitCount(e.toNumber()),i=new(Up())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(Up())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(Up())(Math.ceil(s))}function fg(e,t,n){var r=1,i=new(Up())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(Up())(10).pow(ag.getDigitCount(e)-1),i=new(Up())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(Up())(Math.floor(e)))}else 0===e?i=new(Up())(Math.floor((t-1)/2)):n||(i=new(Up())(Math.floor(e)));var a=Math.floor((t-1)/2);return eg(Qp((function(e){return i.add(new(Up())(e-a).mul(r)).toNumber()})),Zp)(0,t)}function pg(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(Up())(0),tickMin:new(Up())(0),tickMax:new(Up())(0)};var o,a=hg(new(Up())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(Up())(0):(o=new(Up())(e).add(t).div(2)).sub(new(Up())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new(Up())(t).sub(o).div(a).toNumber()),l=s+c+1;return l>n?pg(e,t,n,r,i+1):(l<n&&(c=t>0?c+(n-l):c,s=t>0?s:s+(n-l)),{step:a,tickMin:o.sub(new(Up())(s).mul(a)),tickMax:o.add(new(Up())(c).mul(a))})}var gg=ng((function(e){var t=cg(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=cg(dg([n,r]),2),c=s[0],l=s[1];if(c===-1/0||l===1/0){var u=l===1/0?[c].concat(sg(Zp(0,i-1).map((function(){return 1/0})))):[].concat(sg(Zp(0,i-1).map((function(){return-1/0}))),[l]);return n>r?tg(u):u}if(c===l)return fg(c,i,o);var d=pg(c,l,a,o),h=d.step,f=d.tickMin,p=d.tickMax,g=ag.rangeStep(f,p.add(new(Up())(.1).mul(h)),h);return n>r?tg(g):g})),mg=(ng((function(e){var t=cg(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=cg(dg([n,r]),2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[n,r];if(c===l)return fg(c,i,o);var u=hg(new(Up())(l).sub(c).div(a-1),o,0),d=eg(Qp((function(e){return new(Up())(c).add(new(Up())(e).mul(u)).toNumber()})),Zp)(0,a).filter((function(e){return e>=c&&e<=l}));return n>r?tg(d):d})),ng((function(e,t){var n=cg(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=cg(dg([r,i]),2),s=a[0],c=a[1];if(s===-1/0||c===1/0)return[r,i];if(s===c)return[s];var l=Math.max(t,2),u=hg(new(Up())(c).sub(s).div(l-1),o,0),d=[].concat(sg(ag.rangeStep(new(Up())(s),new(Up())(c).sub(new(Up())(.99).mul(u)),u)),[c]);return r>i?tg(d):d}))),vg=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function yg(e){return yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(e)}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bg.apply(this,arguments)}function wg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Eg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jg(r.key),r)}}function kg(e,t,n){return t=Tg(t),function(e,t){if(t&&("object"===yg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Og()?Reflect.construct(t,n||[],Tg(e).constructor):t.apply(e,n))}function Og(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Og=function(){return!!e})()}function Tg(e){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tg(e)}function Pg(e,t){return Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pg(e,t)}function Cg(e,t,n){return(t=jg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jg(e){var t=function(e,t){if("object"!=yg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yg(t)?t:t+""}var Ag=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kg(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pg(e,t)}(t,e),n=t,i=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,i=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,c=e.xAxis,l=e.yAxis,u=Sg(e,vg),d=ui(u,!1);"x"===this.props.direction&&"number"!==c.type&&Ti(!1);var h=a.map((function(e){var a=s(e,o),u=a.x,h=a.y,f=a.value,p=a.errorVal;if(!p)return null;var g,m,v=[];if(Array.isArray(p)){var y=wg(p,2);g=y[0],m=y[1]}else g=m=p;if("vertical"===n){var b=c.scale,w=h+t,x=w+i,S=w-i,E=b(f-g),k=b(f+m);v.push({x1:k,y1:x,x2:k,y2:S}),v.push({x1:E,y1:w,x2:k,y2:w}),v.push({x1:E,y1:x,x2:E,y2:S})}else if("horizontal"===n){var O=l.scale,T=u+t,P=T-i,C=T+i,j=O(f-g),A=O(f+m);v.push({x1:P,y1:A,x2:C,y2:A}),v.push({x1:T,y1:j,x2:T,y2:A}),v.push({x1:P,y1:j,x2:C,y2:j})}return r.createElement(Ri,bg({className:"recharts-errorBar",key:"bar-".concat(v.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},d),v.map((function(e){return r.createElement("line",bg({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return r.createElement(Ri,{className:"recharts-errorBars"},h)}}],i&&Eg(n.prototype,i),o&&Eg(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);function _g(e){return _g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(e)}function Ig(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ig(Object(n),!0).forEach((function(t){Rg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ig(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_g(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Cg(Ag,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Cg(Ag,"displayName","ErrorBar");var Ng=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=ai(t,Za);if(!o)return null;var a,s=Za.defaultProps,c=void 0!==s?Dg(Dg({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?Dg(Dg({},n),t.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:c.iconType||a||"square",color:zg(t),value:o||i,payload:r}})),Dg(Dg(Dg({},c),Za.getWithHeight(o,r)),{},{payload:a,item:o})};function Mg(e){return Mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(e)}function Hg(e){return function(e){if(Array.isArray(e))return $g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return $g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lg(Object(n),!0).forEach((function(t){Fg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Mg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bg(e,t,n){return Mr()(e)||Mr()(t)?n:Pr(t)?xr()(e,t,n):$r()(t)?t(e):n}function Ug(e,t,n,r){var i=Lp()(e,(function(e){return Bg(e,t)}));if("number"===n){var o=i.filter((function(e){return Tr(e)||parseFloat(e)}));return o.length?[Hp()(o),Np()(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!Mr()(e)})):i).map((function(e){return Pr(e)||e instanceof Date?e:""}))}var zg=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?qg(qg({},e.type.defaultProps),e.props):e.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},Vg=function(e,t,n,r,i){var o=oi(t.props.children,Ag).filter((function(e){return function(e,t,n){return!!Mr()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(o&&o.length){var a=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=Bg(t,n);if(Mr()(r))return e;var i=Array.isArray(r)?[Hp()(r),Np()(r)]:[r,r],o=a.reduce((function(e,n){var r=Bg(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},Wg=function(e,t,n,r,i){var o=t.map((function(t){var o=t.props.dataKey;return"number"===n&&o&&Vg(e,t,o,r)||Ug(e,o,n,i)}));if("number"===n)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},Gg=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},Kg=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var i,o,a=e.map((function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate}));return i||a.push(t),o||a.push(n),a},Yg=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,c=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return c="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*kr(a[0]-a[1])*c:c,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+c,value:e,offset:c}})).filter((function(e){return!br()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+c,value:e,index:t,offset:c}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+c,value:e,offset:c}})):r.domain().map((function(e,t){return{coordinate:r(e)+c,value:i?i[e]:e,index:t,offset:c}}))},Xg=new WeakMap,Jg=function(e,t){if("function"!==typeof t)return e;Xg.has(e)||Xg.set(e,new WeakMap);var n=Xg.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},Zg=1e-4,Qg={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=br()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}jp(e,t)}},none:jp,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}jp(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,c=0,l=0;s<i;++s){for(var u=e[t[s]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[a][1]||0)-(p[a-1][1]||0)}c+=d,l+=h*d}n[a-1][1]+=n[a-1][0]=o,c&&(o-=l/c)}n[a-1][1]+=n[a-1][0]=o,jp(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=br()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},em=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=Qg[n],o=function(){var e=Ko([]),t=_p,n=jp,r=Ip;function i(i){var o,a,s=Array.from(e.apply(this,arguments),Dp),c=s.length,l=-1;for(const e of i)for(o=0,++l;o<c;++o)(s[o][l]=[0,+r(e,s[o].key,l,i)]).data=e;for(o=0,a=Ap(t(s));o<c;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:Ko(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:Ko(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?_p:"function"===typeof e?e:Ko(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?jp:e,i):n},i}().keys(r).value((function(e,t){return+Bg(e,t,0)})).order(_p).offset(i);return o(e)};function tm(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Mr()(i[t.dataKey])){var s=Dr(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=Bg(i,Mr()(a)?t.dataKey:a);return Mr()(c)?null:t.scale(c)}var nm=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=Bg(o,t.dataKey,t.domain[a]);return Mr()(s)?null:t.scale(s)-i/2+r},rm=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=function(e){return e.reduce((function(e,t){return[Hp()(t.concat([e[0]]).filter(Tr)),Np()(t.concat([e[1]]).filter(Tr))]}),[1/0,-1/0])}(r.slice(t,n+1));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},im=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,om=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,am=function(e,t,n){if($r()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(Tr(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(im.test(e[0])){var i=+im.exec(e[0])[1];r[0]=t[0]-i}else $r()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(Tr(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(om.test(e[1])){var o=+om.exec(e[1])[1];r[1]=t[1]+o}else $r()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},sm=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=ki()(t,(function(e){return e.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var c=i[a],l=i[a-1];o=Math.min((c.coordinate||0)-(l.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},cm=function(e,t,n){return e&&e.length?Fp()(e,xr()(n,"type.defaultProps.domain"))?t:e:t},lm=function(e,t){var n=e.type.defaultProps?qg(qg({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,c=n.chartType,l=n.hide;return qg(qg({},ui(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:zg(e),value:Bg(t,r),type:s,payload:t,chartType:c,hide:l})};function um(e){return um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(e)}function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dm(Object(n),!0).forEach((function(t){fm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=um(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=um(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==um(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pm=["Webkit","Moz","O","ms"];function gm(e){return gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(e)}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mm.apply(this,arguments)}function vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ym(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vm(Object(n),!0).forEach((function(t){km(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Om(r.key),r)}}function wm(e,t,n){return t=Sm(t),function(e,t){if(t&&("object"===gm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xm()?Reflect.construct(t,n||[],Sm(e).constructor):t.apply(e,n))}function xm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xm=function(){return!!e})()}function Sm(e){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sm(e)}function Em(e,t){return Em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Em(e,t)}function km(e,t,n){return(t=Om(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Om(e){var t=function(e,t){if("object"!=gm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gm(t)?t:t+""}var Tm=function(e){return e.changedTouches&&!!e.changedTouches.length},Pm=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),km(n=wm(this,t,[e]),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),km(n,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),km(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:i})})),n.detachDragEndListener()})),km(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),km(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),km(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),km(n,"handleSlideDragStart",(function(e){var t=Tm(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Em(e,t)}(t,e),n=t,i=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,c=Math.min(n,r),l=Math.max(n,r),u=t.getIndexInRange(i,c),d=t.getIndexInRange(i,l);return{startIndex:u-u%a,endIndex:d===s?s:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=Bg(n[e],i,e);return $r()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,c=o.travellerWidth,l=o.startIndex,u=o.endIndex,d=o.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+s-c-i,a+s-c-r):h<0&&(h=Math.max(h,a-r,a-i));var f=this.getIndex({startX:r+h,endX:i+h});f.startIndex===l&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=Tm(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,c=s.x,l=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},g=e.pageX-n;g>0?g=Math.min(g,c+l-u-a):g<0&&(g=Math.max(g,c-a)),p[r]=a+g;var m=this.getIndex(p),v=m.startIndex,y=m.endIndex;this.setState(km(km({},r,a+g),"brushMoveStartX",e.pageX),(function(){d&&function(){var e=f.length-1;return"startX"===r&&(i>o?v%h===0:y%h===0)||i<o&&y===e||"endX"===r&&(i>o?y%h===0:v%h===0)||i>o&&y===e}()&&d(m)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],c=i.indexOf(s);if(-1!==c){var l=c+e;if(!(-1===l||l>=i.length)){var u=i[l];"startX"===t&&u>=a||"endX"===t&&u<=o||this.setState(km({},t,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,o=e.height,a=e.fill,s=e.stroke;return r.createElement("rect",{stroke:s,fill:a,x:t,y:n,width:i,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,o=e.height,a=e.data,s=e.children,c=e.padding,l=r.Children.only(s);return l?r.cloneElement(l,{x:t,y:n,width:i,height:o,margin:c,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,n){var i,o,a=this,s=this.props,c=s.y,l=s.travellerWidth,u=s.height,d=s.traveller,h=s.ariaLabel,f=s.data,p=s.startIndex,g=s.endIndex,m=Math.max(e,this.props.x),v=ym(ym({},ui(this.props,!1)),{},{x:m,y:c,width:l,height:u}),y=h||"Min value: ".concat(null===(i=f[p])||void 0===i?void 0:i.name,", Max value: ").concat(null===(o=f[g])||void 0===o?void 0:o.name);return r.createElement(Ri,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,v))}},{key:"renderSlide",value:function(e,t){var n=this.props,i=n.y,o=n.height,a=n.stroke,s=n.travellerWidth,c=Math.min(e,t)+s,l=Math.max(Math.abs(t-e)-s,0);return r.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:c,y:i,width:l,height:o})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,i=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,c=this.state,l=c.startX,u=c.endX,d={pointerEvents:"none",fill:s};return r.createElement(Ri,{className:"recharts-brush-texts"},r.createElement(_l,mm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,u)-5,y:i+o/2},d),this.getTextOfTick(t)),r.createElement(_l,mm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,u)+a+5,y:i+o/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,i=e.children,o=e.x,a=e.y,s=e.width,c=e.height,l=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,g=u.isTravellerMoving,m=u.isTravellerFocused;if(!t||!t.length||!Tr(o)||!Tr(a)||!Tr(s)||!Tr(c)||s<=0||c<=0)return null;var v=fr("recharts-brush",n),y=1===r.Children.count(i),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=pm.reduce((function(e,r){return hm(hm({},e),{},fm({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return r.createElement(Ri,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||g||m||l)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,i=e.width,o=e.height,a=e.stroke,s=Math.floor(n+o/2)-1;return r.createElement(r.Fragment,null,r.createElement("rect",{x:t,y:n,width:i,height:o,fill:a,stroke:"none"}),r.createElement("line",{x1:t+1,y1:s,x2:t+i-1,y2:s,fill:"none",stroke:"#fff"}),r.createElement("line",{x1:t+1,y1:s+2,x2:t+i-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return r.isValidElement(e)?r.cloneElement(e,n):$r()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,c=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return ym({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,c=Kc().domain(Si()(0,s)).range([i,i+o-a]),l=c.domain().map((function(e){return c(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(r),scale:c,scaleValues:l}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:c}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var l=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:l}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],i&&bm(n.prototype,i),o&&bm(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);function Cm(e){return Cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(e)}function jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Am(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jm(Object(n),!0).forEach((function(t){_m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _m(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Cm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cm(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}km(Pm,"displayName","Brush"),km(Pm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Im=Math.PI/180,Dm=function(e){return 180*e/Math.PI},Rm=function(e,t,n,r){return{x:e+Math.cos(-Im*r)*n,y:t+Math.sin(-Im*r)*n}},Nm=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,c=Math.acos(s);return r>o&&(c=2*Math.PI-c),{radius:a,angle:Dm(c),angleInRadian:c}},Mm=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},Hm=function(e,t){var n=e.x,r=e.y,i=Nm({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,c=t.outerRadius;if(o<s||o>c)return!1;if(0===o)return!0;var l,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=u.startAngle,h=u.endAngle,f=a;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;l=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;l=f>=h&&f<=d}return l?Am(Am({},t),{},{radius:o,angle:Mm(f,t)}):null};function $m(e){return $m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(e)}var Lm=["offset"];function qm(e){return function(e){if(Array.isArray(e))return Fm(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Fm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bm(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Um(Object(n),!0).forEach((function(t){Vm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Um(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=$m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$m(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wm.apply(this,arguments)}var Gm=function(e,t,n){var i,o,a=e.position,s=e.viewBox,c=e.offset,l=e.className,u=s,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,g=u.startAngle,m=u.endAngle,v=u.clockWise,y=(f+p)/2,b=function(e,t){return kr(t-e)*Math.min(Math.abs(t-e),360)}(g,m),w=b>=0?1:-1;"insideStart"===a?(i=g+w*c,o=v):"insideEnd"===a?(i=m-w*c,o=!v):"end"===a&&(i=m+w*c,o=v),o=b<=0?o:!o;var x=Rm(d,h,y,i),S=Rm(d,h,y,i+359*(o?1:-1)),E="M".concat(x.x,",").concat(x.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(o?0:1,",\n    ").concat(S.x,",").concat(S.y),k=Mr()(e.id)?jr("recharts-radial-line-"):e.id;return r.createElement("text",Wm({},n,{dominantBaseline:"central",className:fr("recharts-radial-bar-label",l)}),r.createElement("defs",null,r.createElement("path",{id:k,d:E})),r.createElement("textPath",{xlinkHref:"#".concat(k)},t))};function Km(e){var t,n=e.offset,i=zm({offset:void 0===n?5:n},Bm(e,Lm)),o=i.viewBox,a=i.position,s=i.value,c=i.children,l=i.content,u=i.className,d=void 0===u?"":u,h=i.textBreakAll;if(!o||Mr()(s)&&Mr()(c)&&!(0,r.isValidElement)(l)&&!$r()(l))return null;if((0,r.isValidElement)(l))return(0,r.cloneElement)(l,i);if($r()(l)){if(t=(0,r.createElement)(l,i),(0,r.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=Mr()(e.children)?t:e.children;return $r()(n)?n(r):r}(i);var f=function(e){return"cx"in e&&Tr(e.cx)}(o),p=ui(i,!0);if(f&&("insideStart"===a||"insideEnd"===a||"end"===a))return Gm(i,t,p);var g=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,c=i.outerRadius,l=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=Rm(o,a,c+n,l),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=Rm(o,a,(s+c)/2,l);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(i):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,c=o.width,l=o.height,u=l>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",p=c>=0?1:-1,g=p*r,m=p>0?"end":"start",v=p>0?"start":"end";if("top"===i)return zm(zm({},{x:a+c/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:c}:{});if("bottom"===i)return zm(zm({},{x:a+c/2,y:s+l+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+l),0),width:c}:{});if("left"===i){var y={x:a-g,y:s+l/2,textAnchor:m,verticalAnchor:"middle"};return zm(zm({},y),n?{width:Math.max(y.x-n.x,0),height:l}:{})}if("right"===i){var b={x:a+c+g,y:s+l/2,textAnchor:v,verticalAnchor:"middle"};return zm(zm({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:l}:{})}var w=n?{width:c,height:l}:{};return"insideLeft"===i?zm({x:a+g,y:s+l/2,textAnchor:v,verticalAnchor:"middle"},w):"insideRight"===i?zm({x:a+c-g,y:s+l/2,textAnchor:m,verticalAnchor:"middle"},w):"insideTop"===i?zm({x:a+c/2,y:s+d,textAnchor:"middle",verticalAnchor:f},w):"insideBottom"===i?zm({x:a+c/2,y:s+l-d,textAnchor:"middle",verticalAnchor:h},w):"insideTopLeft"===i?zm({x:a+g,y:s+d,textAnchor:v,verticalAnchor:f},w):"insideTopRight"===i?zm({x:a+c-g,y:s+d,textAnchor:m,verticalAnchor:f},w):"insideBottomLeft"===i?zm({x:a+g,y:s+l-d,textAnchor:v,verticalAnchor:h},w):"insideBottomRight"===i?zm({x:a+c-g,y:s+l-d,textAnchor:m,verticalAnchor:h},w):qr()(i)&&(Tr(i.x)||Or(i.x))&&(Tr(i.y)||Or(i.y))?zm({x:a+Ar(i.x,c),y:s+Ar(i.y,l),textAnchor:"end",verticalAnchor:"end"},w):zm({x:a+c/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},w)}(i);return r.createElement(_l,Wm({className:fr("recharts-label",d)},p,g,{breakAll:h}),t)}Km.displayName="Label";var Ym=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,c=e.innerRadius,l=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,g=e.height,m=e.clockWise,v=e.labelViewBox;if(v)return v;if(Tr(p)&&Tr(g)){if(Tr(u)&&Tr(d))return{x:u,y:d,width:p,height:g};if(Tr(h)&&Tr(f))return{x:h,y:f,width:p,height:g}}return Tr(u)&&Tr(d)?{x:u,y:d,width:0,height:0}:Tr(t)&&Tr(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:c||0,outerRadius:l||s||a||0,clockWise:m}:e.viewBox?e.viewBox:{}};Km.parseViewBox=Ym,Km.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=Ym(e),a=oi(i,Km).map((function(e,n){return(0,r.cloneElement)(e,{viewBox:t||o,key:"label-".concat(n)})}));if(!n)return a;var s=function(e,t){return e?!0===e?r.createElement(Km,{key:"label-implicit",viewBox:t}):Pr(e)?r.createElement(Km,{key:"label-implicit",viewBox:t,value:e}):(0,r.isValidElement)(e)?e.type===Km?(0,r.cloneElement)(e,{key:"label-implicit",viewBox:t}):r.createElement(Km,{key:"label-implicit",content:e,viewBox:t}):$r()(e)?r.createElement(Km,{key:"label-implicit",content:e,viewBox:t}):qr()(e)?r.createElement(Km,Wm({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||o);return[s].concat(qm(a))};var Xm=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},Jm=n(1733),Zm=n.n(Jm),Qm=n(7002),ev=n.n(Qm),tv=function(e){return null};tv.displayName="Cell";var nv=n(4065),rv=n.n(nv);function iv(e){return iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(e)}var ov=["valueAccessor"],av=["data","dataKey","clockWise","id","textBreakAll"];function sv(e){return function(e){if(Array.isArray(e))return cv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return cv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lv.apply(this,arguments)}function uv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uv(Object(n),!0).forEach((function(t){hv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=iv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var pv=function(e){return Array.isArray(e.value)?rv()(e.value):e.value};function gv(e){var t=e.valueAccessor,n=void 0===t?pv:t,i=fv(e,ov),o=i.data,a=i.dataKey,s=i.clockWise,c=i.id,l=i.textBreakAll,u=fv(i,av);return o&&o.length?r.createElement(Ri,{className:"recharts-label-list"},o.map((function(e,t){var i=Mr()(a)?n(e,t):Bg(e&&e.payload,a),o=Mr()(c)?{}:{id:"".concat(c,"-").concat(t)};return r.createElement(Km,lv({},ui(e,!0),u,o,{parentViewBox:e.parentViewBox,value:i,textBreakAll:l,viewBox:Km.parseViewBox(Mr()(s)?e:dv(dv({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}gv.displayName="LabelList",gv.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=oi(e.children,gv).map((function(e,n){return(0,r.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));if(!n)return i;var o=function(e,t){return e?!0===e?r.createElement(gv,{key:"labelList-implicit",data:t}):r.isValidElement(e)||$r()(e)?r.createElement(gv,{key:"labelList-implicit",data:t,content:e}):qr()(e)?r.createElement(gv,lv({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[o].concat(sv(i))};var mv=n(2322),vv=n.n(mv),yv=n(6361),bv=n.n(yv);function wv(e){return wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(e)}function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xv.apply(this,arguments)}function Sv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ev(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ev(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ov(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kv(Object(n),!0).forEach((function(t){Tv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=wv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pv=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},Cv={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jv=function(e){var t=Ov(Ov({},Cv),e),n=(0,r.useRef)(),i=Sv((0,r.useState)(-1),2),o=i[0],a=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,c=t.y,l=t.upperWidth,u=t.lowerWidth,d=t.height,h=t.className,f=t.animationEasing,p=t.animationDuration,g=t.animationBegin,m=t.isUpdateAnimationActive;if(s!==+s||c!==+c||l!==+l||u!==+u||d!==+d||0===l&&0===u||0===d)return null;var v=fr("recharts-trapezoid",h);return m?r.createElement(Oc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:c},to:{upperWidth:l,lowerWidth:u,height:d,x:s,y:c},duration:p,animationEasing:f,isActive:m},(function(e){var i=e.upperWidth,a=e.lowerWidth,s=e.height,c=e.x,l=e.y;return r.createElement(Oc,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:f},r.createElement("path",xv({},ui(t,!0),{className:v,d:Pv(c,l,i,a,s),ref:n})))})):r.createElement("g",null,r.createElement("path",xv({},ui(t,!0),{className:v,d:Pv(s,c,l,u,d)})))};function Av(e){return Av="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(e)}function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_v.apply(this,arguments)}function Iv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iv(Object(n),!0).forEach((function(t){Rv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Av(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Av(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Av(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nv=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,c=e.cornerIsExternal,l=s*(a?1:-1)+r,u=Math.asin(s/l)/Im,d=c?i:i+o*u,h=c?i-o*u:i;return{center:Rm(t,n,l,d),circleTangency:Rm(t,n,r,d),lineTangency:Rm(t,n,l*Math.cos(u*Im),h),theta:u}},Mv=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return kr(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,c=Rm(t,n,i,o),l=Rm(t,n,i,s),u="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(l.x,",").concat(l.y,"\n  ");if(r>0){var d=Rm(t,n,r,o),h=Rm(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},Hv={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$v=function(e){var t=Dv(Dv({},Hv),e),n=t.cx,i=t.cy,o=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,c=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=t.className;if(a<o||u===d)return null;var f,p=fr("recharts-sector",h),g=a-o,m=Ar(s,g,0,!0);return f=m>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,c=e.startAngle,l=e.endAngle,u=kr(l-c),d=Nv({cx:t,cy:n,radius:i,angle:c,sign:u,cornerRadius:o,cornerIsExternal:s}),h=d.circleTangency,f=d.lineTangency,p=d.theta,g=Nv({cx:t,cy:n,radius:i,angle:l,sign:-u,cornerRadius:o,cornerIsExternal:s}),m=g.circleTangency,v=g.lineTangency,y=g.theta,b=s?Math.abs(c-l):Math.abs(c-l)-p-y;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):Mv({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:l});var w="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,"\n  ");if(r>0){var x=Nv({cx:t,cy:n,radius:r,angle:c,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),S=x.circleTangency,E=x.lineTangency,k=x.theta,O=Nv({cx:t,cy:n,radius:r,angle:l,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),T=O.circleTangency,P=O.lineTangency,C=O.theta,j=s?Math.abs(c-l):Math.abs(c-l)-k-C;if(j<0&&0===o)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+="L".concat(P.x,",").concat(P.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(T.x,",").concat(T.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(j>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"Z")}else w+="L".concat(t,",").concat(n,"Z");return w}({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:l,startAngle:u,endAngle:d}):Mv({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),r.createElement("path",_v({},ui(t,!0),{className:p,d:f,role:"img"}))},Lv=["option","shapeType","propTransformer","activeClassName","isActive"];function qv(e){return qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(e)}function Fv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bv(Object(n),!0).forEach((function(t){zv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=qv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vv(e,t){return Uv(Uv({},t),e)}function Wv(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return r.createElement(Mc,n);case"trapezoid":return r.createElement(jv,n);case"sector":return r.createElement($v,n);case"symbols":if(function(e){return"symbols"===e}(t))return r.createElement(Ta,n);break;default:return null}}function Gv(e){var t,n=e.option,i=e.shapeType,o=e.propTransformer,a=void 0===o?Vv:o,s=e.activeClassName,c=void 0===s?"recharts-active-shape":s,l=e.isActive,u=Fv(e,Lv);if((0,r.isValidElement)(n))t=(0,r.cloneElement)(n,Uv(Uv({},u),function(e){return(0,r.isValidElement)(e)?e.props:e}(n)));else if($r()(n))t=n(u);else if(vv()(n)&&!bv()(n)){var d=a(n,u);t=r.createElement(Wv,{shapeType:i,elementProps:d})}else{var h=u;t=r.createElement(Wv,{shapeType:i,elementProps:h})}return l?r.createElement(Ri,{className:c},t):t}function Kv(e,t){return null!=t&&"trapezoids"in e.props}function Yv(e,t){return null!=t&&"sectors"in e.props}function Xv(e,t){return null!=t&&"points"in e.props}function Jv(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function Zv(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Qv(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function ey(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return Kv(e,t)?n="trapezoids":Yv(e,t)?n="sectors":Xv(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return Kv(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:Yv(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:Xv(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=Fp()(o,e),s=n.props[i].filter((function(e){var r=function(e,t){var n;return Kv(e,t)?n=Jv:Yv(e,t)?n=Zv:Xv(e,t)&&(n=Qv),n}(n,t);return r(e,t)})),c=n.props[i].indexOf(s[s.length-1]);return a&&r===c}));return r.indexOf(a[a.length-1])}var ty=["x","y"];function ny(e){return ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(e)}function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ry.apply(this,arguments)}function iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iy(Object(n),!0).forEach((function(t){ay(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ay(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ny(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ny(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ny(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cy(e,t){var n=e.x,r=e.y,i=sy(e,ty),o="".concat(n),a=parseInt(o,10),s="".concat(r),c=parseInt(s,10),l="".concat(t.height||i.height),u=parseInt(l,10),d="".concat(t.width||i.width),h=parseInt(d,10);return oy(oy(oy(oy(oy({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function ly(e){return r.createElement(Gv,ry({shapeType:"rectangle",propTransformer:cy,activeClassName:"recharts-active-bar"},e))}var uy,dy=["value","background"];function hy(e){return hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(e)}function fy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},py.apply(this,arguments)}function gy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function my(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gy(Object(n),!0).forEach((function(t){Sy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ey(r.key),r)}}function yy(e,t,n){return t=wy(t),function(e,t){if(t&&("object"===hy(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,by()?Reflect.construct(t,n||[],wy(e).constructor):t.apply(e,n))}function by(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(by=function(){return!!e})()}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wy(e)}function xy(e,t){return xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xy(e,t)}function Sy(e,t,n){return(t=Ey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ey(e){var t=function(e,t){if("object"!=hy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hy(t)?t:t+""}var ky=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Sy(e=yy(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),Sy(e,"id",jr("recharts-bar-")),Sy(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),Sy(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xy(e,t)}(t,e),n=t,i=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,i=n.shape,o=n.dataKey,a=n.activeIndex,s=n.activeBar,c=ui(this.props,!1);return e&&e.map((function(e,n){var l=n===a,u=l?s:i,d=my(my(my({},c),e),{},{isActive:l,option:u,index:n,dataKey:o,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return r.createElement(Ri,py({className:"recharts-bar-rectangle"},Yr(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value)}),r.createElement(ly,d))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,i=t.layout,o=t.isAnimationActive,a=t.animationBegin,s=t.animationDuration,c=t.animationEasing,l=t.animationId,u=this.state.prevData;return r.createElement(Oc,{begin:a,duration:s,isActive:o,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var o=t.t,a=n.map((function(e,t){var n=u&&u[t];if(n){var r=Ir(n.x,e.x),a=Ir(n.y,e.y),s=Ir(n.width,e.width),c=Ir(n.height,e.height);return my(my({},e),{},{x:r(o),y:a(o),width:s(o),height:c(o)})}if("horizontal"===i){var l=Ir(0,e.height)(o);return my(my({},e),{},{y:e.y+e.height-l,height:l})}var d=Ir(0,e.width)(o);return my(my({},e),{},{width:d})}));return r.createElement(Ri,null,e.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&Fp()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,i=t.dataKey,o=t.activeIndex,a=ui(this.props.background,!1);return n.map((function(t,n){t.value;var s=t.background,c=fy(t,dy);if(!s)return null;var l=my(my(my(my(my({},c),{},{fill:"#eee"},s),a),Yr(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:i,index:n,className:"recharts-bar-background-rectangle"});return r.createElement(ly,py({key:"background-bar-".concat(n),option:e.props.background,isActive:n===o},l))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.data,o=n.xAxis,a=n.yAxis,s=n.layout,c=oi(n.children,Ag);if(!c)return null;var l="vertical"===s?i[0].height/2:i[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Bg(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(Ri,d,c.map((function(e){return r.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:i,xAxis:o,yAxis:a,layout:s,offset:l,dataPointFormatter:u})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,i=e.className,o=e.xAxis,a=e.yAxis,s=e.left,c=e.top,l=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,g=fr("recharts-bar",i),m=o&&o.allowDataOverflow,v=a&&a.allowDataOverflow,y=m||v,b=Mr()(f)?this.id:f;return r.createElement(Ri,{className:g},m||v?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(b)},r.createElement("rect",{x:m?s:s-l/2,y:v?c:c-u/2,width:m?l:2*l,height:v?u:2*u}))):null,r.createElement(Ri,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(b,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,b),(!d||p)&&gv.renderCallByParent(this.props,n))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],i&&vy(n.prototype,i),o&&vy(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);function Oy(e){return Oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(e)}function Ty(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ay(r.key),r)}}function Py(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Py(Object(n),!0).forEach((function(t){jy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jy(e,t,n){return(t=Ay(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ay(e){var t=function(e,t){if("object"!=Oy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oy(t)?t:t+""}uy=ky,Sy(ky,"displayName","Bar"),Sy(ky,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!so.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),Sy(ky,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,l=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,g=n.type.defaultProps,m=void 0!==g?my(my({},g),n.props):n.props,v=m.dataKey,y=m.children,b=m.minPointSize,w="horizontal"===p?a:o,x=l?w.scale.domain():null,S=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:w}),E=oi(y,tv),k=d.map((function(e,t){var r,d,h,g,m,y;l?r=function(e,t){if(!t||2!==t.length||!Tr(t[0])||!Tr(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Tr(e[0])||e[0]<n)&&(i[0]=n),(!Tr(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(l[u+t],x):(r=Bg(e,v),Array.isArray(r)||(r=[S,r]));var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i="number"===typeof n;return i?e(n,r):(i||Ti(!1),t)}}(b,uy.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var k,O=[a.scale(r[0]),a.scale(r[1])],T=O[0],P=O[1];d=nm({axis:o,ticks:s,bandSize:i,offset:f.offset,entry:e,index:t}),h=null!==(k=null!==P&&void 0!==P?P:T)&&void 0!==k?k:void 0,g=f.size;var C=T-P;if(m=Number.isNaN(C)?0:C,y={x:d,y:a.y,width:g,height:a.height},Math.abs(w)>0&&Math.abs(m)<Math.abs(w)){var j=kr(m||w)*(Math.abs(w)-Math.abs(m));h-=j,m+=j}}else{var A=[o.scale(r[0]),o.scale(r[1])],_=A[0],I=A[1];if(d=_,h=nm({axis:a,ticks:c,bandSize:i,offset:f.offset,entry:e,index:t}),g=I-_,m=f.size,y={x:o.x,y:h,width:o.width,height:m},Math.abs(w)>0&&Math.abs(g)<Math.abs(w))g+=kr(g||w)*(Math.abs(w)-Math.abs(g))}return my(my(my({},e),{},{x:d,y:h,width:g,height:m,value:l?r:r[1],payload:e,background:y},E&&E[t]&&E[t].props),{},{tooltipPayload:[lm(n,e)],tooltipPosition:{x:d+g/2,y:h+m/2}})}));return my({data:k,layout:p},h)}));var _y=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},Iy=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&Ty(t.prototype,n),r&&Ty(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();jy(Iy,"EPS",1e-4);var Dy=function(e){var t=Object.keys(e).reduce((function(t,n){return Cy(Cy({},t),{},jy({},n,Iy.create(e[n])))}),{});return Cy(Cy({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return Zm()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return ev()(e,(function(e,n){return t[n].isInRange(e)}))}})};function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ry.apply(this,arguments)}function Ny(e){return Ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(e)}function My(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?My(Object(n),!0).forEach((function(t){Uy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):My(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zy(r.key),r)}}function Ly(e,t,n){return t=Fy(t),function(e,t){if(t&&("object"===Ny(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qy()?Reflect.construct(t,n||[],Fy(e).constructor):t.apply(e,n))}function qy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qy=function(){return!!e})()}function Fy(e){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fy(e)}function By(e,t){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},By(e,t)}function Uy(e,t,n){return(t=zy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zy(e){var t=function(e,t){if("object"!=Ny(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ny(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ny(t)?t:t+""}var Vy=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ly(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&By(e,t)}(t,e),n=t,i=[{key:"render",value:function(){var e=this.props,n=e.x,i=e.y,o=e.r,a=e.alwaysShow,s=e.clipPathId,c=Pr(n),l=Pr(i);if(Rr(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!l)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=Dy({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return Xm(e,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,p=f.shape,g=f.className,m=Hy(Hy({clipPath:Xm(this.props,"hidden")?"url(#".concat(s,")"):void 0},ui(this.props,!0)),{},{cx:d,cy:h});return r.createElement(Ri,{className:fr("recharts-reference-dot",g)},t.renderDot(p,m),Km.renderCallByParent(this.props,{x:d-o,y:h-o,width:2*o,height:2*o}))}}],i&&$y(n.prototype,i),o&&$y(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);Uy(Vy,"displayName","ReferenceDot"),Uy(Vy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Uy(Vy,"renderDot",(function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):$r()(e)?e(t):r.createElement(es,Ry({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var Wy=n(4597),Gy=n.n(Wy),Ky=n(8990),Yy=n.n(Ky),Xy=n(5797),Jy=n.n(Xy)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var Zy=(0,r.createContext)(void 0),Qy=(0,r.createContext)(void 0),eb=(0,r.createContext)(void 0),tb=(0,r.createContext)({}),nb=(0,r.createContext)(void 0),rb=(0,r.createContext)(0),ib=(0,r.createContext)(0),ob=function(e){var t=e.state,n=t.xAxisMap,i=t.yAxisMap,o=t.offset,a=e.clipPathId,s=e.children,c=e.width,l=e.height,u=Jy(o);return r.createElement(Zy.Provider,{value:n},r.createElement(Qy.Provider,{value:i},r.createElement(tb.Provider,{value:o},r.createElement(eb.Provider,{value:u},r.createElement(nb.Provider,{value:a},r.createElement(rb.Provider,{value:l},r.createElement(ib.Provider,{value:c},s)))))))};var ab=function(e){var t=(0,r.useContext)(Zy);null==t&&Ti(!1);var n=t[e];return null==n&&Ti(!1),n},sb=function(e){var t=(0,r.useContext)(Qy);null==t&&Ti(!1);var n=t[e];return null==n&&Ti(!1),n},cb=function(){return(0,r.useContext)(ib)},lb=function(){return(0,r.useContext)(rb)};function ub(e){return ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(e)}function db(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bb(r.key),r)}}function hb(e,t,n){return t=pb(t),function(e,t){if(t&&("object"===ub(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fb()?Reflect.construct(t,n||[],pb(e).constructor):t.apply(e,n))}function fb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fb=function(){return!!e})()}function pb(e){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pb(e)}function gb(e,t){return gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gb(e,t)}function mb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mb(Object(n),!0).forEach((function(t){yb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yb(e,t,n){return(t=bb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bb(e){var t=function(e,t){if("object"!=ub(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ub(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ub(t)?t:t+""}function wb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sb.apply(this,arguments)}function Eb(e){var t=e.x,n=e.y,i=e.segment,o=e.xAxisId,a=e.yAxisId,s=e.shape,c=e.className,l=e.alwaysShow,u=(0,r.useContext)(nb),d=ab(o),h=sb(a),f=(0,r.useContext)(eb);if(!u||!f)return null;Rr(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,o,a,s,c){var l=i.x,u=i.y,d=i.width,h=i.height;if(n){var f=c.y,p=e.y.apply(f,{position:o});if(Xm(c,"discard")&&!e.y.isInRange(p))return null;var g=[{x:l+d,y:p},{x:l,y:p}];return"left"===s?g.reverse():g}if(t){var m=c.x,v=e.x.apply(m,{position:o});if(Xm(c,"discard")&&!e.x.isInRange(v))return null;var y=[{x:v,y:u+h},{x:v,y:u}];return"top"===a?y.reverse():y}if(r){var b=c.segment.map((function(t){return e.apply(t,{position:o})}));return Xm(c,"discard")&&Gy()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(Dy({x:d.scale,y:h.scale}),Pr(t),Pr(n),i&&2===i.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var g=wb(p,2),m=g[0],v=m.x,y=m.y,b=g[1],w=b.x,x=b.y,S=vb(vb({clipPath:Xm(e,"hidden")?"url(#".concat(u,")"):void 0},ui(e,!0)),{},{x1:v,y1:y,x2:w,y2:x});return r.createElement(Ri,{className:fr("recharts-reference-line",c)},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):$r()(e)?e(t):r.createElement("line",Sb({},t,{className:"recharts-reference-line-line"}))}(s,S),Km.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return _y({x:t,y:n},{x:r,y:i})}({x1:v,y1:y,x2:w,y2:x})))}var kb=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hb(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gb(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(Eb,this.props)}}])&&db(n.prototype,i),o&&db(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ob.apply(this,arguments)}function Tb(e){return Tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(e)}function Pb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pb(Object(n),!0).forEach((function(t){Rb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nb(r.key),r)}}function Ab(e,t,n){return t=Ib(t),function(e,t){if(t&&("object"===Tb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_b()?Reflect.construct(t,n||[],Ib(e).constructor):t.apply(e,n))}function _b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_b=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ib(e)}function Db(e,t){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Db(e,t)}function Rb(e,t,n){return(t=Nb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nb(e){var t=function(e,t){if("object"!=Tb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tb(t)?t:t+""}yb(kb,"displayName","ReferenceLine"),yb(kb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Mb=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ab(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Db(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this.props,n=e.x1,i=e.x2,o=e.y1,a=e.y2,s=e.className,c=e.alwaysShow,l=e.clipPathId;Rr(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Pr(n),d=Pr(i),h=Pr(o),f=Pr(a),p=this.props.shape;if(!u&&!d&&!h&&!f&&!p)return null;var g=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,c=i.y2,l=i.xAxis,u=i.yAxis;if(!l||!u)return null;var d=Dy({x:l.scale,y:u.scale}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(c,{position:"end"}):d.y.rangeMax};return!Xm(i,"discard")||d.isInRange(h)&&d.isInRange(f)?_y(h,f):null}(u,d,h,f,this.props);if(!g&&!p)return null;var m=Xm(this.props,"hidden")?"url(#".concat(l,")"):void 0;return r.createElement(Ri,{className:fr("recharts-reference-area",s)},t.renderRect(p,Cb(Cb({clipPath:m},ui(this.props,!0)),g)),Km.renderCallByParent(this.props,g))}}])&&jb(n.prototype,i),o&&jb(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);function Hb(e){return function(e){if(Array.isArray(e))return $b(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return $b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Rb(Mb,"displayName","ReferenceArea"),Rb(Mb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Rb(Mb,"renderRect",(function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):$r()(e)?e(t):r.createElement(Mc,Ob({},t,{className:"recharts-reference-area-rect"}))}));var Lb=function(e,t,n,r,i){var o=oi(e,kb),a=oi(e,Vy),s=[].concat(Hb(o),Hb(a)),c=oi(e,Mb),l="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[l]===n&&Xm(t.props,"extendDomain")&&Tr(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),d)),c.length){var h="".concat(u,"1"),f="".concat(u,"2");d=c.reduce((function(e,t){if(t.props[l]===n&&Xm(t.props,"extendDomain")&&Tr(t.props[h])&&Tr(t.props[f])){var r=t.props[h],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),d)}return i&&i.length&&(d=i.reduce((function(e,t){return Tr(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},qb=n(7283),Fb=new(n.n(qb)()),Bb="recharts.syncMouseEvents";function Ub(e){return Ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(e)}function zb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wb(r.key),r)}}function Vb(e,t,n){return(t=Wb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wb(e){var t=function(e,t){if("object"!=Ub(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ub(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ub(t)?t:t+""}var Gb=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Vb(this,"activeIndex",0),Vb(this,"coordinateList",[]),Vb(this,"layout","horizontal")},(t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,c=e.offset,l=void 0===c?null:c,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==l&&void 0!==l?l:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,c=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,l=r+a+s,u=i+this.offset.top+o/2+c;this.mouseHandlerCallback({pageX:l,pageY:u})}}}])&&zb(e.prototype,t),n&&zb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function Kb(){}function Yb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Xb(e){this._context=e}function Jb(e){this._context=e}function Zb(e){this._context=e}Xb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Jb.prototype={areaStart:Kb,areaEnd:Kb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Zb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Yb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class Qb{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function ew(e){this._context=e}function tw(e){this._context=e}function nw(e){return new tw(e)}function rw(e){return e<0?-1:1}function iw(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(rw(o)+rw(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function ow(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function aw(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function sw(e){this._context=e}function cw(e){this._context=new lw(e)}function lw(e){this._context=e}function uw(e){this._context=e}function dw(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function hw(e,t){this._context=e,this._t=t}function fw(e){return e[0]}function pw(e){return e[1]}function gw(e,t){var n=Ko(!0),r=null,i=nw,o=null,a=ma(s);function s(s){var c,l,u,d=(s=Ap(s)).length,h=!1;for(null==r&&(o=i(u=a())),c=0;c<=d;++c)!(c<d&&n(l=s[c],c,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(l,c,s),+t(l,c,s));if(u)return o=null,u+""||null}return e="function"===typeof e?e:void 0===e?fw:Ko(e),t="function"===typeof t?t:void 0===t?pw:Ko(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:Ko(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:Ko(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:Ko(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function mw(e,t,n){var r=null,i=Ko(!0),o=null,a=nw,s=null,c=ma(l);function l(l){var u,d,h,f,p,g=(l=Ap(l)).length,m=!1,v=new Array(g),y=new Array(g);for(null==o&&(s=a(p=c())),u=0;u<=g;++u){if(!(u<g&&i(f=l[u],u,l))===m)if(m=!m)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(v[h],y[h]);s.lineEnd(),s.areaEnd()}m&&(v[u]=+e(f,u,l),y[u]=+t(f,u,l),s.point(r?+r(f,u,l):v[u],n?+n(f,u,l):y[u]))}if(p)return s=null,p+""||null}function u(){return gw().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?fw:Ko(+e),t="function"===typeof t?t:Ko(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?pw:Ko(+n),l.x=function(t){return arguments.length?(e="function"===typeof t?t:Ko(+t),r=null,l):e},l.x0=function(t){return arguments.length?(e="function"===typeof t?t:Ko(+t),l):e},l.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Ko(+e),l):r},l.y=function(e){return arguments.length?(t="function"===typeof e?e:Ko(+e),n=null,l):t},l.y0=function(e){return arguments.length?(t="function"===typeof e?e:Ko(+e),l):t},l.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Ko(+e),l):n},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(n)},l.lineX1=function(){return u().x(r).y(t)},l.defined=function(e){return arguments.length?(i="function"===typeof e?e:Ko(!!e),l):i},l.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),l):a},l.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),l):o},l}function vw(e){return vw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vw(e)}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yw.apply(this,arguments)}function bw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ww(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bw(Object(n),!0).forEach((function(t){xw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=vw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ew.prototype={areaStart:Kb,areaEnd:Kb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},tw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},sw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:aw(this,this._t0,ow(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,aw(this,ow(this,n=iw(this,e,t)),n);break;default:aw(this,this._t0,n=iw(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(cw.prototype=Object.create(sw.prototype)).point=function(e,t){sw.prototype.point.call(this,t,e)},lw.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=dw(e),i=dw(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},hw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Sw={curveBasisClosed:function(e){return new Jb(e)},curveBasisOpen:function(e){return new Zb(e)},curveBasis:function(e){return new Xb(e)},curveBumpX:function(e){return new Qb(e,!0)},curveBumpY:function(e){return new Qb(e,!1)},curveLinearClosed:function(e){return new ew(e)},curveLinear:nw,curveMonotoneX:function(e){return new sw(e)},curveMonotoneY:function(e){return new cw(e)},curveNatural:function(e){return new uw(e)},curveStep:function(e){return new hw(e,.5)},curveStepAfter:function(e){return new hw(e,1)},curveStepBefore:function(e){return new hw(e,0)}},Ew=function(e){return e.x===+e.x&&e.y===+e.y},kw=function(e){return e.x},Ow=function(e){return e.y},Tw=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,c=e.connectNulls,l=void 0!==c&&c,u=function(e,t){if($r()(e))return e;var n="curve".concat(Oo()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?Sw[n]||nw:Sw["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=l?o.filter((function(e){return Ew(e)})):o;if(Array.isArray(a)){var h=l?a.filter((function(e){return Ew(e)})):a,f=d.map((function(e,t){return ww(ww({},e),{},{base:h[t]})}));return(t="vertical"===s?mw().y(Ow).x1(kw).x0((function(e){return e.base.x})):mw().x(kw).y1(Ow).y0((function(e){return e.base.y}))).defined(Ew).curve(u),t(f)}return(t="vertical"===s&&Tr(a)?mw().y(Ow).x1(kw).x0(a):Tr(a)?mw().x(kw).y1(Ow).y0(a):gw().x(kw).y(Ow)).defined(Ew).curve(u),t(d)},Pw=function(e){var t=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?Tw(e):i;return r.createElement("path",yw({},ui(e,!1),Kr(e),{className:fr("recharts-curve",t),d:a,ref:o}))};function Cw(e){return Cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cw(e)}var jw=["x","y","top","left","width","height","className"];function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aw.apply(this,arguments)}function _w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Cw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Rw=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},Nw=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,o=void 0===i?0:i,a=e.top,s=void 0===a?0:a,c=e.left,l=void 0===c?0:c,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,g=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_w(Object(n),!0).forEach((function(t){Iw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:o,top:s,left:l,width:d,height:f},Dw(e,jw));return Tr(n)&&Tr(o)&&Tr(d)&&Tr(f)&&Tr(s)&&Tr(l)?r.createElement("path",Aw({},ui(g,!0),{className:fr("recharts-cross",p),d:Rw(n,o,d,f,s,l)})):null};function Mw(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[Rm(t,n,r,i),Rm(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function Hw(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Mw(t);var s=t.cx,c=t.cy,l=t.innerRadius,u=t.outerRadius,d=t.angle,h=Rm(s,c,l,d),f=Rm(s,c,u,d);r=h.x,i=h.y,o=f.x,a=f.y}return[{x:r,y:i},{x:o,y:a}]}function $w(e){return $w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$w(e)}function Lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lw(Object(n),!0).forEach((function(t){Fw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=$w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$w(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bw(e){var t,n,i,o=e.element,a=e.tooltipEventType,s=e.isActive,c=e.activeCoordinate,l=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,g=null!==(t=o.props.cursor)&&void 0!==t?t:null===(n=o.type.defaultProps)||void 0===n?void 0:n.cursor;if(!o||!g||!s||!c||"ScatterChart"!==p&&"axis"!==a)return null;var m=Pw;if("ScatterChart"===p)i=c,m=Nw;else if("BarChart"===p)i=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,c,u,h),m=Mc;else if("radial"===f){var v=Mw(c),y=v.cx,b=v.cy,w=v.radius;i={cx:y,cy:b,startAngle:v.startAngle,endAngle:v.endAngle,innerRadius:w,outerRadius:w},m=$v}else i={points:Hw(f,c,u)},m=Pw;var x=qw(qw(qw(qw({stroke:"#ccc",pointerEvents:"none"},u),i),ui(g,!1)),{},{payload:l,payloadIndex:d,className:fr("recharts-tooltip-cursor",g.className)});return(0,r.isValidElement)(g)?(0,r.cloneElement)(g,x):(0,r.createElement)(m,x)}var Uw=["item"],zw=["children","className","width","height","style","compact","title","desc"];function Vw(e){return Vw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vw(e)}function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ww.apply(this,arguments)}function Gw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||tx(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ax(r.key),r)}}function Xw(e,t,n){return t=Zw(t),function(e,t){if(t&&("object"===Vw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jw()?Reflect.construct(t,n||[],Zw(e).constructor):t.apply(e,n))}function Jw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Jw=function(){return!!e})()}function Zw(e){return Zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zw(e)}function Qw(e,t){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qw(e,t)}function ex(e){return function(e){if(Array.isArray(e))return nx(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tx(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tx(e,t){if(e){if("string"===typeof e)return nx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nx(e,t):void 0}}function nx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ix(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rx(Object(n),!0).forEach((function(t){ox(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ox(e,t,n){return(t=ax(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ax(e){var t=function(e,t){if("object"!=Vw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vw(t)?t:t+""}var sx={xAxis:["bottom","top"],yAxis:["left","right"]},cx={width:"100%",height:"100%"},lx={x:0,y:0};function ux(e){return e}var dx=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(ex(e),ex(n)):e}),[]);return o.length>0?o:e&&e.length&&Tr(r)&&Tr(i)?e.slice(r,i+1):[]};function hx(e){return"number"===e?[0,"auto"]:void 0}var fx=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=dx(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,s){var c,l,u=null!==(c=s.props.data)&&void 0!==c?c:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?l=Dr(void 0===u?a:u,o.dataKey,r):l=u&&u[n]||a[n];return l?[].concat(ex(i),[lm(s,l)]):i}),[])},px=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,c=e.tooltipTicks,l=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,c=0;c<a;c++){var l=c>0?r[c-1].coordinate:r[a-1].coordinate,u=r[c].coordinate,d=c>=a-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(kr(u-l)!==kr(d-u)){var f=[];if(kr(d-u)===kr(s[1]-s[0])){h=d;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+l)/2),f[1]=Math.max(p,(p+l)/2)}else{h=l;var g=d+s[1]-s[0];f[0]=Math.min(u,(g+u)/2),f[1]=Math.max(u,(g+u)/2)}var m=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>m[0]&&e<=m[1]||e>=f[0]&&e<=f[1]){o=r[c].index;break}}else{var v=Math.min(l,d),y=Math.max(l,d);if(e>(v+u)/2&&e<=(y+u)/2){o=r[c].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,c,s);if(l>=0&&c){var u=c[l]&&c[l].value,d=fx(e,t,l,u),h=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return ix(ix(ix({},r),Rm(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,c=r.angle;return ix(ix(ix({},r),Rm(r.cx,r.cy,s,c)),{},{angle:c,radius:s})}return lx}(n,a,l,i);return{activeTooltipIndex:l,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},gx=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=e.stackOffset,h=Gg(l,i);return n.reduce((function(t,n){var f,p=void 0!==n.type.defaultProps?ix(ix({},n.type.defaultProps),n.props):n.props,g=p.type,m=p.dataKey,v=p.allowDataOverflow,y=p.allowDuplicatedCategory,b=p.scale,w=p.ticks,x=p.includeHidden,S=p[o];if(t[S])return t;var E,k,O,T=dx(e.data,{graphicalItems:r.filter((function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===S})),dataStartIndex:s,dataEndIndex:c}),P=T.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&Tr(r)&&Tr(i))return!0}return!1})(p.domain,v,g)&&(E=am(p.domain,null,v),!h||"number"!==g&&"auto"===b||(O=Ug(T,m,"category")));var C=hx(g);if(!E||0===E.length){var j,A=null!==(j=p.domain)&&void 0!==j?j:C;if(m){if(E=Ug(T,m,g),"category"===g&&h){var _=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(E);y&&_?(k=E,E=Si()(0,P)):y||(E=cm(A,E,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(ex(e),[t])}),[]))}else if("category"===g)E=y?E.filter((function(e){return""!==e&&!Mr()(e)})):cm(A,E,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||Mr()(t)?e:[].concat(ex(e),[t])}),[]);else if("number"===g){var I=function(e,t,n,r,i){var o=t.map((function(t){return Vg(e,t,n,i,r)})).filter((function(e){return!Mr()(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(T,r.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===S&&(x||!i)})),m,i,l);I&&(E=I)}!h||"number"!==g&&"auto"===b||(O=Ug(T,m,"category"))}else E=h?Si()(0,P):a&&a[S]&&a[S].hasStack&&"number"===g?"expand"===d?[0,1]:rm(a[S].stackGroups,s,c):Wg(T,r.filter((function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===S&&(x||!n)})),g,l,!0);if("number"===g)E=Lb(u,E,S,i,w),A&&(E=am(A,E,v));else if("category"===g&&A){var D=A;E.every((function(e){return D.indexOf(e)>=0}))&&(E=D)}}return ix(ix({},t),{},ox({},S,ix(ix({},p),{},{axisType:i,domain:E,categoricalDomain:O,duplicateDomain:k,originalDomain:null!==(f=p.domain)&&void 0!==f?f:C,isCategorical:h,layout:l})))}),{})},mx=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.children,u="".concat(r,"Id"),d=oi(l,i),h={};return d&&d.length?h=gx(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:c}):o&&o.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=dx(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:c}),h=d.length,f=Gg(l,i),p=-1;return n.reduce((function(e,t){var g,m=(void 0!==t.type.defaultProps?ix(ix({},t.type.defaultProps),t.props):t.props)[o],v=hx("number");return e[m]?e:(p++,f?g=Si()(0,h):a&&a[m]&&a[m].hasStack?(g=rm(a[m].stackGroups,s,c),g=Lb(u,g,m,i)):(g=am(v,Wg(d,n.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===m&&!i})),"number",l),r.defaultProps.allowDataOverflow),g=Lb(u,g,m,i)),ix(ix({},e),{},ox({},m,ix(ix({axisType:i},r.defaultProps),{},{hide:!0,orientation:xr()(sx,"".concat(i,".").concat(p%2),null),domain:g,originalDomain:v,isCategorical:f,layout:l}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:c})),h},vx=function(e){var t=e.children,n=e.defaultShowTooltip,r=ai(t,Pm),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},yx=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},bx=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,c=n.height,l=n.children,u=n.margin||{},d=ai(l,Pm),h=ai(l,Za),f=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:ix(ix({},e),{},ox({},r,e[r]+n.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:ix(ix({},e),{},ox({},r,xr()(e,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),g=ix(ix({},p),f),m=g.bottom;d&&(g.bottom+=d.props.height||Pm.defaultProps.height),h&&t&&(g=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),c=Ng({children:i,legendWidth:s});if(c){var l=r||{},u=l.width,d=l.height,h=c.align,f=c.verticalAlign,p=c.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&Tr(e[h]))return qg(qg({},e),{},Fg({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&Tr(e[f]))return qg(qg({},e),{},Fg({},f,e[f]+(d||0)))}return e}(g,0,n,t));var v=s-g.left-g.right,y=c-g.top-g.bottom;return ix(ix({brushBottom:m},g),{},{width:Math.max(v,0),height:Math.max(y,0)})},wx=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},xx=["type","layout","connectNulls","ref"],Sx=["key"];function Ex(e){return Ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex(e)}function kx(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ox.apply(this,arguments)}function Tx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Px(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tx(Object(n),!0).forEach((function(t){Nx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cx(e){return function(e){if(Array.isArray(e))return jx(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return jx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ax(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mx(r.key),r)}}function _x(e,t,n){return t=Dx(t),function(e,t){if(t&&("object"===Ex(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ix()?Reflect.construct(t,n||[],Dx(e).constructor):t.apply(e,n))}function Ix(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ix=function(){return!!e})()}function Dx(e){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dx(e)}function Rx(e,t){return Rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rx(e,t)}function Nx(e,t,n){return(t=Mx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mx(e){var t=function(e,t){if("object"!=Ex(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ex(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ex(t)?t:t+""}var Hx=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Nx(e=_x(this,t,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),Nx(e,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),Nx(e,"getStrokeDasharray",(function(n,r,i){var o=i.reduce((function(e,t){return e+t}));if(!o)return e.generateSimpleStrokeDasharray(r,n);for(var a=Math.floor(n/o),s=n%o,c=r-n,l=[],u=0,d=0;u<i.length;d+=i[u],++u)if(d+i[u]>s){l=[].concat(Cx(i.slice(0,u)),[s-d]);break}var h=l.length%2===0?[0,c]:[c];return[].concat(Cx(t.repeat(i,a)),Cx(l),h).map((function(e){return"".concat(e,"px")})).join(", ")})),Nx(e,"id",jr("recharts-line-")),Nx(e,"pathRef",(function(t){e.mainCurve=t})),Nx(e,"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),Nx(e,"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rx(e,t)}(t,e),n=t,i=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.points,o=n.xAxis,a=n.yAxis,s=n.layout,c=oi(n.children,Ag);if(!c)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Bg(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(Ri,u,c.map((function(e){return r.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:i,xAxis:o,yAxis:a,layout:s,dataPointFormatter:l})})))}},{key:"renderDots",value:function(e,n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.dot,s=o.points,c=o.dataKey,l=ui(this.props,!1),u=ui(a,!0),d=s.map((function(e,n){var r=Px(Px(Px({key:"dot-".concat(n),r:3},l),u),{},{value:e.value,dataKey:c,cx:e.x,cy:e.y,index:n,payload:e.payload});return t.renderDotItem(a,r)})),h={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return r.createElement(Ri,Ox({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,t,n,i){var o=this.props,a=o.type,s=o.layout,c=o.connectNulls,l=(o.ref,kx(o,xx)),u=Px(Px(Px({},ui(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},i),{},{type:a,layout:s,connectNulls:c});return r.createElement(Pw,Ox({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,i=this.props,o=i.points,a=i.strokeDasharray,s=i.isAnimationActive,c=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,h=i.animateNewValues,f=i.width,p=i.height,g=this.state,m=g.prevPoints,v=g.totalLength;return r.createElement(Oc,{begin:c,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var i=r.t;if(m){var s=m.length/o.length,c=o.map((function(e,t){var n=Math.floor(t*s);if(m[n]){var r=m[n],o=Ir(r.x,e.x),a=Ir(r.y,e.y);return Px(Px({},e),{},{x:o(i),y:a(i)})}if(h){var c=Ir(2*f,e.x),l=Ir(p/2,e.y);return Px(Px({},e),{},{x:c(i),y:l(i)})}return Px(Px({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(c,e,t)}var l,u=Ir(0,v)(i);if(a){var d="".concat(a).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));l=n.getStrokeDasharray(u,v,d)}else l=n.generateSimpleStrokeDasharray(v,u);return n.renderCurveStatically(o,e,t,{strokeDasharray:l})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!Fp()(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,i=t.dot,o=t.points,a=t.className,s=t.xAxis,c=t.yAxis,l=t.top,u=t.left,d=t.width,h=t.height,f=t.isAnimationActive,p=t.id;if(n||!o||!o.length)return null;var g=this.state.isAnimationFinished,m=1===o.length,v=fr("recharts-line",a),y=s&&s.allowDataOverflow,b=c&&c.allowDataOverflow,w=y||b,x=Mr()(p)?this.id:p,S=null!==(e=ui(i,!1))&&void 0!==e?e:{r:3,strokeWidth:2},E=S.r,k=void 0===E?3:E,O=S.strokeWidth,T=void 0===O?2:O,P=(function(e){return e&&"object"===Qr(e)&&"clipDot"in e}(i)?i:{}).clipDot,C=void 0===P||P,j=2*k+T;return r.createElement(Ri,{className:v},y||b?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(x)},r.createElement("rect",{x:y?u:u-d/2,y:b?l:l-h/2,width:y?d:2*d,height:b?h:2*h})),!C&&r.createElement("clipPath",{id:"clipPath-dots-".concat(x)},r.createElement("rect",{x:u-j/2,y:l-j/2,width:d+j,height:h+j}))):null,!m&&this.renderCurve(w,x),this.renderErrorBar(w,x),(m||i)&&this.renderDots(w,C,x),(!f||g)&&gv.renderCallByParent(this.props,o))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(Cx(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(Cx(r),Cx(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if($r()(e))n=e(t);else{var i=t.key,o=kx(t,Sx),a=fr("recharts-line-dot","boolean"!==typeof e?e.className:"");n=r.createElement(es,Ox({key:i},o,{className:a}))}return n}}],i&&Ax(n.prototype,i),o&&Ax(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);function $x(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function Lx(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function qx(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function Fx(e){return Fx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fx(e)}function Bx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ux(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bx(Object(n),!0).forEach((function(t){zx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zx(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Fx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vx(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,c=e.interval,l=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(Tr(c)||so.isSsr)return function(e,t){return $x(e,t+1)}(i,"number"===typeof c&&Tr(c)?c:0);var h=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?nl(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=function(e,r){var i=$r()(l)?l(e.value,r):e.value;return"width"===f?Lx(nl(i,{fontSize:t,letterSpacing:n}),p,d):nl(i,{fontSize:t,letterSpacing:n})[f]},m=i.length>=2?kr(i[1].coordinate-i[0].coordinate):1,v=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,m,f);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,c=t.end,l=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[l];if(void 0===t)return{v:$x(r,u)};var o,a=l,h=function(){return void 0===o&&(o=n(t,a)),o},f=t.coordinate,p=0===l||qx(e,f,h,d,c);p||(l=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),l+=u)};u<=a.length;)if(o=h())return o.v;return[]}(m,v,g,i,a):(h="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,c=t.start,l=t.end;if(o){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-l);a[s-1]=u=Ux(Ux({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),qx(e,u.tickCoord,(function(){return d}),c,l)&&(l=u.tickCoord-e*(d/2+i),a[s-1]=Ux(Ux({},u),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*s()/2-c);a[t]=o=Ux(Ux({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=Ux(Ux({},o),{},{tickCoord:o.coordinate});qx(e,o.tickCoord,s,c,l)&&(c=o.tickCoord+e*(s()/2+i),a[t]=Ux(Ux({},o),{},{isShow:!0}))},g=0;g<f;g++)p(g);return a}(m,v,g,i,a,"preserveStartEnd"===c):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,c=t.end,l=function(t){var r,l=o[t],u=function(){return void 0===r&&(r=n(l,t)),r};if(t===a-1){var d=e*(l.coordinate+e*u()/2-c);o[t]=l=Ux(Ux({},l),{},{tickCoord:d>0?l.coordinate-d*e:l.coordinate})}else o[t]=l=Ux(Ux({},l),{},{tickCoord:l.coordinate});qx(e,l.tickCoord,u,s,c)&&(c=l.tickCoord-e*(u()/2+i),o[t]=Ux(Ux({},l),{},{isShow:!0}))},u=a-1;u>=0;u--)l(u);return o}(m,v,g,i,a),h.filter((function(e){return e.isShow})))}Nx(Hx,"displayName","Line"),Nx(Hx,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!so.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),Nx(Hx,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,c=e.displayedData,l=e.offset,u=t.layout,d=c.map((function(e,t){var c=Bg(e,a);return"horizontal"===u?{x:tm({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:Mr()(c)?null:r.scale(c),value:c,payload:e}:{x:Mr()(c)?null:n.scale(c),y:tm({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:c,payload:e}}));return Px({points:d,layout:u},l)}));var Wx=["viewBox"],Gx=["viewBox"],Kx=["ticks"];function Yx(e){return Yx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yx(e)}function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xx.apply(this,arguments)}function Jx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jx(Object(n),!0).forEach((function(t){oS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qx(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aS(r.key),r)}}function tS(e,t,n){return t=rS(t),function(e,t){if(t&&("object"===Yx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nS()?Reflect.construct(t,n||[],rS(e).constructor):t.apply(e,n))}function nS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nS=function(){return!!e})()}function rS(e){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rS(e)}function iS(e,t){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iS(e,t)}function oS(e,t,n){return(t=aS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aS(e){var t=function(e,t){if("object"!=Yx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yx(t)?t:t+""}var sS=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=tS(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iS(e,t)}(t,e),n=t,i=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=Qx(e,Wx),i=this.props,o=i.viewBox,a=Qx(i,Gx);return!Br(n,o)||!Br(r,a)||!Br(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,c=s.x,l=s.y,u=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,g=s.tickMargin,m=p?-1:1,v=e.tickSize||f,y=Tr(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(i=l+ +!p*d)-m*v)-m*g,o=y;break;case"left":r=i=e.coordinate,o=(t=(n=c+ +!p*u)-m*v)-m*g,a=y;break;case"right":r=i=e.coordinate,o=(t=(n=c+ +p*u)+m*v)+m*g,a=y;break;default:t=n=e.coordinate,a=(r=(i=l+ +p*d)+m*v)+m*g,o=y}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,o=e.height,a=e.orientation,s=e.mirror,c=e.axisLine,l=Zx(Zx(Zx({},ui(this.props,!1)),ui(c,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!s||"bottom"===a&&s);l=Zx(Zx({},l),{},{x1:t,y1:n+u*o,x2:t+i,y2:n+u*o})}else{var d=+("left"===a&&!s||"right"===a&&s);l=Zx(Zx({},l),{},{x1:t+d*i,y1:n,x2:t+d*i,y2:n+o})}return r.createElement("line",Xx({},l,{className:fr("recharts-cartesian-axis-line",xr()(c,"className"))}))}},{key:"renderTicks",value:function(e,n,i){var o=this,a=this.props,s=a.tickLine,c=a.stroke,l=a.tick,u=a.tickFormatter,d=a.unit,h=Vx(Zx(Zx({},this.props),{},{ticks:e}),n,i),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=ui(this.props,!1),m=ui(l,!1),v=Zx(Zx({},g),{},{fill:"none"},ui(s,!1)),y=h.map((function(e,n){var i=o.getTickLineCoord(e),a=i.line,y=i.tick,b=Zx(Zx(Zx(Zx({textAnchor:f,verticalAnchor:p},g),{},{stroke:"none",fill:c},m),y),{},{index:n,payload:e,visibleTicksCount:h.length,tickFormatter:u});return r.createElement(Ri,Xx({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Yr(o.props,e,n)),s&&r.createElement("line",Xx({},v,a,{className:fr("recharts-cartesian-axis-tick-line",xr()(s,"className"))})),l&&t.renderTickItem(l,b,"".concat($r()(u)?u(e.value,n):e.value).concat(d||"")))}));return r.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,i=t.width,o=t.height,a=t.ticksGenerator,s=t.className;if(t.hide)return null;var c=this.props,l=c.ticks,u=Qx(c,Kx),d=l;return $r()(a)&&(d=l&&l.length>0?a(this.props):a(u)),i<=0||o<=0||!d||!d.length?null:r.createElement(Ri,{className:fr("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),Km.renderCallByParent(this.props))}}],o=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):$r()(e)?e(t):r.createElement(_l,Xx({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],i&&eS(n.prototype,i),o&&eS(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);function cS(e){return cS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cS(e)}function lS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gS(r.key),r)}}function uS(e,t,n){return t=hS(t),function(e,t){if(t&&("object"===cS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dS()?Reflect.construct(t,n||[],hS(e).constructor):t.apply(e,n))}function dS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dS=function(){return!!e})()}function hS(e){return hS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hS(e)}function fS(e,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fS(e,t)}function pS(e,t,n){return(t=gS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gS(e){var t=function(e,t){if("object"!=cS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cS(t)?t:t+""}function mS(){return mS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mS.apply(this,arguments)}function vS(e){var t=e.xAxisId,n=cb(),i=lb(),o=ab(t);return null==o?null:r.createElement(sS,mS({},o,{className:fr("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(e){return Yg(e,!0)}}))}oS(sS,"displayName","CartesianAxis"),oS(sS,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uS(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(vS,this.props)}}])&&lS(n.prototype,i),o&&lS(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);function bS(e){return bS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bS(e)}function wS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TS(r.key),r)}}function xS(e,t,n){return t=ES(t),function(e,t){if(t&&("object"===bS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,SS()?Reflect.construct(t,n||[],ES(e).constructor):t.apply(e,n))}function SS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(SS=function(){return!!e})()}function ES(e){return ES=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ES(e)}function kS(e,t){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kS(e,t)}function OS(e,t,n){return(t=TS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TS(e){var t=function(e,t){if("object"!=bS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bS(t)?t:t+""}function PS(){return PS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PS.apply(this,arguments)}pS(yS,"displayName","XAxis"),pS(yS,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var CS=function(e){var t=e.yAxisId,n=cb(),i=lb(),o=sb(t);return null==o?null:r.createElement(sS,PS({},o,{className:fr("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(e){return Yg(e,!0)}}))},jS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xS(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kS(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(CS,this.props)}}])&&wS(n.prototype,i),o&&wS(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);OS(jS,"displayName","YAxis"),OS(jS,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var AS=function(e){var t=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=void 0===i?"axis":i,a=e.validateTooltipEventTypes,s=void 0===a?["axis"]:a,c=e.axisComponents,l=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,l=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=yx(u),g=p.numericAxisName,m=p.cateAxisName,v=function(e){return!(!e||!e.length)&&e.some((function(e){var t=ti(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),y=[];return n.forEach((function(n,p){var b=dx(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),w=void 0!==n.type.defaultProps?ix(ix({},n.type.defaultProps),n.props):n.props,x=w.dataKey,S=w.maxBarSize,E=w["".concat(g,"Id")],k=w["".concat(m,"Id")],O=c.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],i=w["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||Ti(!1);var o=r[i];return ix(ix({},e),{},ox(ox({},n.axisType,o),"".concat(n.axisType,"Ticks"),Yg(o)))}),{}),T=O[m],P=O["".concat(m,"Ticks")],C=r&&r[E]&&r[E].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?qg(qg({},e.type.defaultProps),e.props):e.props).stackId;if(Pr(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[E].stackGroups),j=ti(n.type).indexOf("Bar")>=0,A=sm(T,P),_=[],I=v&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,c=a.length;s<c;s++)for(var l=i[a[s]].stackGroups,u=Object.keys(l),d=0,h=u.length;d<h;d++){var f=l[u[d]],p=f.items,g=f.cateAxisId,m=p.filter((function(e){return ti(e.type).indexOf("Bar")>=0}));if(m&&m.length){var v=m[0].type.defaultProps,y=void 0!==v?qg(qg({},v),m[0].props):m[0].props,b=y.barSize,w=y[g];o[w]||(o[w]=[]);var x=Mr()(b)?t:b;o[w].push({item:m[0],stackList:m.slice(1),barSize:Mr()(x)?void 0:Ar(x,n,0)})}}return o}({barSize:l,stackGroups:r,totalSize:wx(O,m)});if(j){var D,R,N=Mr()(S)?f:S,M=null!==(D=null!==(R=sm(T,P,!0))&&void 0!==R?R:N)&&void 0!==D?D:0;_=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var c,l=Ar(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,h=r/s,f=o.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(s-1)*l)>=r&&(f-=(s-1)*l,l=0),f>=r&&h>0&&(d=!0,f=s*(h*=.9));var p={offset:((r-f)/2|0)-l,size:0};c=o.reduce((function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+l,size:d?h:t.barSize}},r=[].concat(Hg(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:p})})),r}),u)}else{var g=Ar(n,r,0,!0);r-2*g-(s-1)*l<=0&&(l=0);var m=(r-2*g-(s-1)*l)/s;m>1&&(m>>=0);var v=a===+a?Math.min(m,a):m;c=o.reduce((function(e,t,n){var r=[].concat(Hg(e),[{item:t.item,position:{offset:g+(m+l)*n+(m-v)/2,size:v}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),u)}return c}({barGap:d,barCategoryGap:h,bandSize:M!==A?M:A,sizeList:I[k],maxBarSize:N}),M!==A&&(_=_.map((function(e){return ix(ix({},e),{},{position:ix(ix({},e.position),{},{offset:e.position.offset-M/2})})})))}var H,$,L=n&&n.type&&n.type.getComposedData;L&&y.push({props:ix(ix({},L(ix(ix({},O),{},{displayedData:b,props:e,dataKey:x,item:n,bandSize:A,barPosition:_,offset:i,stackedData:C,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},ox(ox(ox({key:n.key||"item-".concat(p)},g,O[g]),m,O[m]),"animationId",o)),childIndex:(H=n,$=e.children,ii($).indexOf(H)),item:n})})),y},f=function(e,r){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!si({props:i}))return null;var l=i.children,d=i.layout,f=i.stackOffset,p=i.data,g=i.reverseStackOrder,m=yx(d),v=m.numericAxisName,y=m.cateAxisName,b=oi(l,n),w=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?qg(qg({},t.type.defaultProps),t.props):t.props,a=o.stackId;if(o.hide)return e;var s=o[n],c=e[s]||{hasStack:!1,stackGroups:{}};if(Pr(a)){var l=c.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};l.items.push(t),c.hasStack=!0,c.stackGroups[a]=l}else c.stackGroups[jr("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return qg(qg({},e),{},Fg({},s,c))}),{});return Object.keys(a).reduce((function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return qg(qg({},t),{},Fg({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:em(e,a.items,i)}))}),{})),qg(qg({},t),{},Fg({},o,s))}),{})}(p,b,"".concat(v,"Id"),"".concat(y,"Id"),f,g),x=c.reduce((function(e,t){var n="".concat(t.axisType,"Map");return ix(ix({},e),{},ox({},n,mx(i,ix(ix({},t),{},{graphicalItems:b,stackGroups:t.axisType===v&&w,dataStartIndex:o,dataEndIndex:a}))))}),{}),S=bx(ix(ix({},x),{},{props:i,graphicalItems:b}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(x).forEach((function(e){x[e]=u(i,x[e],S,e.replace("Map",""),t)}));var E=function(e){var t=_r(e),n=Yg(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ki()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:sm(t,n)}}(x["".concat(y,"Map")]),k=h(i,ix(ix({},x),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:w,offset:S}));return ix(ix({formattedGraphicalItems:k,graphicalItems:b,offset:S,stackGroups:w},E),x)},p=function(e){function n(e){var i,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),ox(a=Xw(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ox(a,"accessibilityManager",new Gb),ox(a,"handleLegendBBoxUpdate",(function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(ix({legendBBox:e},f({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},ix(ix({},a.state),{},{legendBBox:e}))))}})),ox(a,"handleReceiveSyncEvent",(function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(t)}})),ox(a,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState((function(){return ix({dataStartIndex:t,dataEndIndex:n},f({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))})),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),ox(a,"handleMouseEnter",(function(e){var t=a.getMouseInfo(e);if(t){var n=ix(ix({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;$r()(r)&&r(n,e)}})),ox(a,"triggeredAfterMouseMove",(function(e){var t=a.getMouseInfo(e),n=t?ix(ix({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;$r()(r)&&r(n,e)})),ox(a,"handleItemMouseEnter",(function(e){a.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),ox(a,"handleItemMouseLeave",(function(){a.setState((function(){return{isTooltipActive:!1}}))})),ox(a,"handleMouseMove",(function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)})),ox(a,"handleMouseLeave",(function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;$r()(n)&&n(t,e)})),ox(a,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&ei[t]?ei[t]:null}(e),r=xr()(a.props,"".concat(n));n&&$r()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)})),ox(a,"handleClick",(function(e){var t=a.getMouseInfo(e);if(t){var n=ix(ix({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;$r()(r)&&r(n,e)}})),ox(a,"handleMouseDown",(function(e){var t=a.props.onMouseDown;$r()(t)&&t(a.getMouseInfo(e),e)})),ox(a,"handleMouseUp",(function(e){var t=a.props.onMouseUp;$r()(t)&&t(a.getMouseInfo(e),e)})),ox(a,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),ox(a,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])})),ox(a,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])})),ox(a,"handleDoubleClick",(function(e){var t=a.props.onDoubleClick;$r()(t)&&t(a.getMouseInfo(e),e)})),ox(a,"handleContextMenu",(function(e){var t=a.props.onContextMenu;$r()(t)&&t(a.getMouseInfo(e),e)})),ox(a,"triggerSyncEvent",(function(e){void 0!==a.props.syncId&&Fb.emit(Bb,a.props.syncId,e,a.eventEmitterSymbol)})),ox(a,"applySyncEvent",(function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(ix({dataStartIndex:o,dataEndIndex:s},f({props:a.props,dataStartIndex:o,dataEndIndex:s,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var c=e.chartX,l=e.chartY,u=e.activeTooltipIndex,d=a.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(p,e);else if("value"===r){u=-1;for(var g=0;g<p.length;g++)if(p[g].value===e.activeLabel){u=g;break}}var m=ix(ix({},h),{},{x:h.left,y:h.top}),v=Math.min(c,m.x+m.width),y=Math.min(l,m.y+m.height),b=p[u]&&p[u].value,w=fx(a.state,a.props.data,u),x=p[u]?{x:"horizontal"===n?p[u].coordinate:v,y:"horizontal"===n?y:p[u].coordinate}:lx;a.setState(ix(ix({},e),{},{activeLabel:b,activeCoordinate:x,activePayload:w,activeTooltipIndex:u}))}else a.setState(e)})),ox(a,"renderCursor",(function(e){var n,i=a.state,o=i.isTooltipActive,s=i.activeCoordinate,c=i.activePayload,l=i.offset,u=i.activeTooltipIndex,d=i.tooltipAxisBandSize,h=a.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:o,p=a.props.layout,g=e.key||"_recharts-cursor";return r.createElement(Bw,{key:g,activeCoordinate:s,activePayload:c,activeTooltipIndex:u,chartName:t,element:e,isActive:f,layout:p,offset:l,tooltipAxisBandSize:d,tooltipEventType:h})})),ox(a,"renderPolarAxis",(function(e,t,n){var i=xr()(e,"type.axisType"),o=xr()(a.state,"".concat(i,"Map")),s=e.type.defaultProps,c=void 0!==s?ix(ix({},s),e.props):e.props,l=o&&o[c["".concat(i,"Id")]];return(0,r.cloneElement)(e,ix(ix({},l),{},{className:fr(i,l.className),key:e.key||"".concat(t,"-").concat(n),ticks:Yg(l,!0)}))})),ox(a,"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,i=t.polarAngles,o=t.polarRadius,s=a.state,c=s.radiusAxisMap,l=s.angleAxisMap,u=_r(c),d=_r(l),h=d.cx,f=d.cy,p=d.innerRadius,g=d.outerRadius;return(0,r.cloneElement)(e,{polarAngles:Array.isArray(i)?i:Yg(d,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(o)?o:Yg(u,!0).map((function(e){return e.coordinate})),cx:h,cy:f,innerRadius:p,outerRadius:g,key:e.key||"polar-grid",radialLines:n})})),ox(a,"renderLegend",(function(){var e=a.state.formattedGraphicalItems,t=a.props,n=t.children,i=t.width,o=t.height,s=a.props.margin||{},c=i-(s.left||0)-(s.right||0),u=Ng({children:n,formattedGraphicalItems:e,legendWidth:c,legendContent:l});if(!u)return null;var d=u.item,h=Kw(u,Uw);return(0,r.cloneElement)(d,ix(ix({},h),{},{chartWidth:i,chartHeight:o,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))})),ox(a,"renderTooltip",(function(){var e,t=a.props,n=t.children,i=t.accessibilityLayer,o=ai(n,Eo);if(!o)return null;var s=a.state,c=s.isTooltipActive,l=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,f=null!==(e=o.props.active)&&void 0!==e?e:c;return(0,r.cloneElement)(o,{viewBox:ix(ix({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:l,accessibilityLayer:i})})),ox(a,"renderBrush",(function(e){var t=a.props,n=t.margin,i=t.data,o=a.state,s=o.offset,c=o.dataStartIndex,l=o.dataEndIndex,u=o.updateId;return(0,r.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:Jg(a.handleBrushChange,e.props.onChange),data:i,x:Tr(e.props.x)?e.props.x:s.left,y:Tr(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:Tr(e.props.width)?e.props.width:s.width,startIndex:c,endIndex:l,updateId:"brush-".concat(u)})})),ox(a,"renderReferenceElement",(function(e,t,n){if(!e)return null;var i=a.clipPathId,o=a.state,s=o.xAxisMap,c=o.yAxisMap,l=o.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,g=void 0===p?u.yAxisId:p;return(0,r.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[f],yAxis:c[g],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:i})})),ox(a,"renderActivePoints",(function(e){var t=e.item,r=e.activePoint,i=e.basePoint,o=e.childIndex,a=e.isRange,s=[],c=t.props.key,l=void 0!==t.item.type.defaultProps?ix(ix({},t.item.type.defaultProps),t.item.props):t.item.props,u=l.activeDot,d=ix(ix({index:o,dataKey:l.dataKey,cx:r.x,cy:r.y,r:4,fill:zg(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},ui(u,!1)),Kr(u));return s.push(n.renderActiveDot(u,d,"".concat(c,"-activePoint-").concat(o))),i?s.push(n.renderActiveDot(u,ix(ix({},d),{},{cx:i.x,cy:i.y}),"".concat(c,"-basePoint-").concat(o))):a&&s.push(null),s})),ox(a,"renderGraphicChild",(function(e,t,n){var i=a.filterFormatItem(e,t,n);if(!i)return null;var o=a.getTooltipEventType(),s=a.state,c=s.isTooltipActive,l=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=ai(a.props.children,Eo),f=i.props,p=f.points,g=f.isRange,m=f.baseLine,v=void 0!==i.item.type.defaultProps?ix(ix({},i.item.type.defaultProps),i.item.props):i.item.props,y=v.activeDot,b=v.hide,w=v.activeBar,x=v.activeShape,S=Boolean(!b&&c&&h&&(y||w||x)),E={};"axis"!==o&&h&&"click"===h.props.trigger?E={onClick:Jg(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(E={onMouseLeave:Jg(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Jg(a.handleItemMouseEnter,e.props.onMouseEnter)});var k=(0,r.cloneElement)(e,ix(ix({},i.props),E));if(S){if(!(u>=0)){var O,T=(null!==(O=a.getItemByXY(a.state.activeCoordinate))&&void 0!==O?O:{graphicalItem:k}).graphicalItem,P=T.item,C=void 0===P?e:P,j=T.childIndex,A=ix(ix(ix({},i.props),E),{},{activeIndex:j});return[(0,r.cloneElement)(C,A),null,null]}var _,I;if(l.dataKey&&!l.allowDuplicatedCategory){var D="function"===typeof l.dataKey?function(e){return"function"===typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());_=Dr(p,D,d),I=g&&m&&Dr(m,D,d)}else _=null===p||void 0===p?void 0:p[u],I=g&&m&&m[u];if(x||w){var R=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,r.cloneElement)(e,ix(ix(ix({},i.props),E),{},{activeIndex:R})),null,null]}if(!Mr()(_))return[k].concat(ex(a.renderActivePoints({item:i,activePoint:_,basePoint:I,childIndex:u,isRange:g})))}return g?[k,null,null]:[k,null]})),ox(a,"renderCustomized",(function(e,t,n){return(0,r.cloneElement)(e,ix(ix({key:"recharts-customized-".concat(n)},a.props),a.state))})),ox(a,"renderMap",{CartesianGrid:{handler:ux,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:ux},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:ux},YAxis:{handler:ux},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(i=e.id)&&void 0!==i?i:jr("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=gr()(a.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),a.state={},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qw(e,t)}(n,e),i=n,a=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=ai(t,Eo);if(o){var a=o.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,c=fx(this.state,n,a,s),l=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:l,y:u}:{y:l,x:u},h=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));h&&(d=ix(ix({},d),h.props.points[a].tooltipPosition),c=h.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:c,activeCoordinate:d};this.setState(f),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){di([ai(e.children,Eo)],[ai(this.props.children,Eo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=ai(this.props.children,Eo);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:o}return o}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var c=this.state,l=c.xAxisMap,u=c.yAxisMap;if("axis"!==this.getTooltipEventType()&&l&&u){var d=_r(l).scale,h=_r(u).scale,f=d&&d.invert?d.invert(o.chartX):null,p=h&&h.invert?h.invert(o.chartY):null;return ix(ix({},o),{},{xValue:f,yValue:p})}var g=px(this.state,this.props.data,this.props.layout,s);return g?ix(ix({},o),g):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,c=s.angleAxisMap,l=s.radiusAxisMap;if(c&&l){var u=_r(c);return Hm({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=ai(e,Eo),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),ix(ix({},Kr(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){Fb.on(Bb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Fb.removeListener(Bb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===ti(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,i=t.top,o=t.height,a=t.width;return r.createElement("defs",null,r.createElement("clipPath",{id:e},r.createElement("rect",{x:n,y:i,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=Gw(t,2),r=n[0],i=n[1];return ix(ix({},e),{},ox({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=Gw(t,2),r=n[0],i=n[1];return ix(ix({},e),{},ox({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,c=a.item,l=void 0!==c.type.defaultProps?ix(ix({},c.type.defaultProps),c.props):c.props,u=ti(c.type);if("Bar"===u){var d=(s.data||[]).find((function(t){return Rc(e,t)}));if(d)return{graphicalItem:a,payload:d}}else if("RadialBar"===u){var h=(s.data||[]).find((function(t){return Hm(e,t)}));if(h)return{graphicalItem:a,payload:h}}else if(Kv(a,r)||Yv(a,r)||Xv(a,r)){var f=ey({graphicalItem:a,activeTooltipItem:r,itemData:l.data}),p=void 0===l.activeIndex?f:l.activeIndex;return{graphicalItem:ix(ix({},a),{},{childIndex:p}),payload:Xv(a,r)?l.data[f]:a.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!si(this))return null;var t,n,i=this.props,o=i.children,a=i.className,s=i.width,c=i.height,l=i.style,u=i.compact,d=i.title,h=i.desc,f=Kw(i,zw),p=ui(f,!1);if(u)return r.createElement(ob,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement(Ai,Ww({},p,{width:s,height:c,title:d,desc:h}),this.renderClipPath(),fi(o,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var g=this.parseEventsOfWrapper();return r.createElement(ob,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement("div",Ww({className:fr("recharts-wrapper",a),style:ix({position:"relative",cursor:"default",width:s,height:c},l)},g,{ref:function(t){e.container=t}}),r.createElement(Ai,Ww({},p,{width:s,height:c,title:d,desc:h,style:cx}),this.renderClipPath(),fi(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],a&&Yw(i.prototype,a),c&&Yw(i,c),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,a,c}(r.Component);ox(p,"displayName",t),ox(p,"defaultProps",ix({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ox(p,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,c=e.stackOffset,l=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=vx(e);return ix(ix(ix({},h),{},{updateId:0},f(ix(ix({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:c,prevMargin:l,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||c!==t.prevStackOffset||!Br(l,t.prevMargin)){var p=vx(e),g={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},m=ix(ix({},px(t,r,s)),{},{updateId:t.updateId+1}),v=ix(ix(ix({},p),g),m);return ix(ix(ix({},v),f(ix({props:e},v),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:c,prevMargin:l,prevChildren:i})}if(!di(i,t.prevChildren)){var y,b,w,x,S=ai(i,Pm),E=S&&null!==(y=null===(b=S.props)||void 0===b?void 0:b.startIndex)&&void 0!==y?y:u,k=S&&null!==(w=null===(x=S.props)||void 0===x?void 0:x.endIndex)&&void 0!==w?w:d,O=E!==u||k!==d,T=!Mr()(r)&&!O?t.updateId:t.updateId+1;return ix(ix({updateId:T},f(ix(ix({props:e},t),{},{updateId:T,dataStartIndex:E,dataEndIndex:k}),t)),{},{prevChildren:i,dataStartIndex:E,dataEndIndex:k})}return null})),ox(p,"renderActiveDot",(function(e,t,n){var i;return i=(0,r.isValidElement)(e)?(0,r.cloneElement)(e,t):$r()(e)?e(t):r.createElement(es,t),r.createElement(Ri,{className:"recharts-active-dot",key:n},i)}));var g=(0,r.forwardRef)((function(e,t){return r.createElement(p,Ww({},e,{ref:t}))}));return g.displayName=p.displayName,g}({chartName:"LineChart",GraphicalChild:Hx,axisComponents:[{axisType:"xAxis",AxisComp:yS},{axisType:"yAxis",AxisComp:jS}],formatAxisMap:function(t,n,r,i,o){var a=t.width,s=t.height,c=t.layout,l=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!ai(l,ky);return u.reduce((function(a,s){var l,u,f,p,g,m=n[s],v=m.orientation,y=m.domain,b=m.padding,w=void 0===b?{}:b,x=m.mirror,S=m.reversed,E="".concat(v).concat(x?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var k=y[1]-y[0],O=1/0,T=m.categoricalDomain.sort();if(T.forEach((function(e,t){t>0&&(O=Math.min((e||0)-(T[t-1]||0),O))})),Number.isFinite(O)){var P=O/k,C="vertical"===m.layout?r.height:r.width;if("gap"===m.padding&&(l=P*C/2),"no-gap"===m.padding){var j=Ar(t.barCategoryGap,P*C),A=P*C/2;l=A-j-(A-j)/C*j}}}u="xAxis"===i?[r.left+(w.left||0)+(l||0),r.left+r.width-(w.right||0)-(l||0)]:"yAxis"===i?"horizontal"===c?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(l||0),r.top+r.height-(w.bottom||0)-(l||0)]:m.range,S&&(u=[u[1],u[0]]);var _=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:Wc(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:md(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Kc(),realScaleType:"point"}:"category"===o?{scale:Wc(),realScaleType:"band"}:{scale:md(),realScaleType:"linear"};if(vr()(i)){var c="scale".concat(Oo()(i));return{scale:(e[c]||Kc)(),realScaleType:e[c]?c:"point"}}return $r()(i)?{scale:i}:{scale:Kc(),realScaleType:"point"}}(m,o,h),I=_.scale,D=_.realScaleType;I.domain(y).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Zg,o=Math.max(r[0],r[1])+Zg,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(I);var R=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var c=e.domain();if(!c.length)return null;var l=gg(c,i,a);return e.domain([Hp()(l),Np()(l)]),{niceTicks:l}}if(i&&"number"===r){var u=e.domain();return{niceTicks:mg(u,i,a)}}return null}(I,Cy(Cy({},m),{},{realScaleType:D}));"xAxis"===i?(g="top"===v&&!x||"bottom"===v&&x,f=r.left,p=d[E]-g*m.height):"yAxis"===i&&(g="left"===v&&!x||"right"===v&&x,f=d[E]-g*m.width,p=r.top);var N=Cy(Cy(Cy({},m),R),{},{realScaleType:D,x:f,y:p,scale:I,width:"xAxis"===i?r.width:m.width,height:"yAxis"===i?r.height:m.height});return N.bandSize=sm(N,R),m.hide||"xAxis"!==i?m.hide||(d[E]+=(g?-1:1)*N.width):d[E]+=(g?-1:1)*N.height,Cy(Cy({},a),{},jy({},s,N))}),{})}}),_S=["x1","y1","x2","y2","key"],IS=["offset"];function DS(e){return DS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DS(e)}function RS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RS(Object(n),!0).forEach((function(t){MS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function MS(e,t,n){return t=function(e){var t=function(e,t){if("object"!=DS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DS(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HS(){return HS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HS.apply(this,arguments)}function $S(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var LS=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,c=e.ry;return r.createElement("rect",{x:i,y:o,ry:c,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function qS(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if($r()(e))n=e(t);else{var i=t.x1,o=t.y1,a=t.x2,s=t.y2,c=t.key,l=$S(t,_S),u=ui(l,!1),d=(u.offset,$S(u,IS));n=r.createElement("line",HS({},d,{x1:i,y1:o,x2:a,y2:s,fill:"none",key:c}))}return n}function FS(e){var t=e.x,n=e.width,i=e.horizontal,o=void 0===i||i,a=e.horizontalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=NS(NS({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(i),index:i});return qS(o,a)}));return r.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function BS(e){var t=e.y,n=e.height,i=e.vertical,o=void 0===i||i,a=e.verticalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=NS(NS({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(i),index:i});return qS(o,a)}));return r.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function US(e){var t=e.horizontalFill,n=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,c=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var u=c.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==u[0]&&u.unshift(0);var d=u.map((function(e,c){var l=!u[c+1]?o+s-e:u[c+1]-e;if(l<=0)return null;var d=c%t.length;return r.createElement("rect",{key:"react-".concat(c),y:e,x:i,height:l,width:a,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return r.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function zS(e){var t=e.vertical,n=void 0===t||t,i=e.verticalFill,o=e.fillOpacity,a=e.x,s=e.y,c=e.width,l=e.height,u=e.verticalPoints;if(!n||!i||!i.length)return null;var d=u.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==d[0]&&d.unshift(0);var h=d.map((function(e,t){var n=!d[t+1]?a+c-e:d[t+1]-e;if(n<=0)return null;var u=t%i.length;return r.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:l,stroke:"none",fill:i[u],fillOpacity:o,className:"recharts-cartesian-grid-bg"})}));return r.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var VS=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return Kg(Vx(NS(NS(NS({},sS.defaultProps),n),{},{ticks:Yg(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},WS=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return Kg(Vx(NS(NS(NS({},sS.defaultProps),n),{},{ticks:Yg(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},GS={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function KS(e){var t,n,i,o,a,s,c=cb(),l=lb(),u=(0,r.useContext)(tb),d=NS(NS({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:GS.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:GS.fill,horizontal:null!==(i=e.horizontal)&&void 0!==i?i:GS.horizontal,horizontalFill:null!==(o=e.horizontalFill)&&void 0!==o?o:GS.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:GS.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:GS.verticalFill,x:Tr(e.x)?e.x:u.left,y:Tr(e.y)?e.y:u.top,width:Tr(e.width)?e.width:u.width,height:Tr(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=function(){var e=(0,r.useContext)(Zy);return _r(e)}(),w=function(){var e=(0,r.useContext)(Qy);return Yy()(e,(function(e){return ev()(e.domain,Number.isFinite)}))||_r(e)}();if(!Tr(p)||p<=0||!Tr(g)||g<=0||!Tr(h)||h!==+h||!Tr(f)||f!==+f)return null;var x=d.verticalCoordinatesGenerator||VS,S=d.horizontalCoordinatesGenerator||WS,E=d.horizontalPoints,k=d.verticalPoints;if((!E||!E.length)&&$r()(S)){var O=v&&v.length,T=S({yAxis:w?NS(NS({},w),{},{ticks:O?v:w.ticks}):void 0,width:c,height:l,offset:u},!!O||m);Rr(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(DS(T),"]")),Array.isArray(T)&&(E=T)}if((!k||!k.length)&&$r()(x)){var P=y&&y.length,C=x({xAxis:b?NS(NS({},b),{},{ticks:P?y:b.ticks}):void 0,width:c,height:l,offset:u},!!P||m);Rr(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(DS(C),"]")),Array.isArray(C)&&(k=C)}return r.createElement("g",{className:"recharts-cartesian-grid"},r.createElement(LS,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),r.createElement(FS,HS({},d,{offset:u,horizontalPoints:E,xAxis:b,yAxis:w})),r.createElement(BS,HS({},d,{offset:u,verticalPoints:k,xAxis:b,yAxis:w})),r.createElement(US,HS({},d,{horizontalPoints:E})),r.createElement(zS,HS({},d,{verticalPoints:k})))}function YS(){var e;const[t,n]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0);(0,r.useEffect)((()=>{(async()=>{try{const e=await je.getPermissions();n(e)}catch(e){console.error("Error loading permissions:",e)}finally{o(!1)}})()}),[]);return i?(0,Nn.jsx)("div",{className:"p-4",children:"Loading..."}):null!==t&&void 0!==t&&null!==(e=t.dashboard)&&void 0!==e&&e.read?(0,Nn.jsxs)("div",{className:"p-4 bg-light h-100",children:[(0,Nn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Nn.jsx)("h2",{children:"Dashboard Overview"}),(0,Nn.jsxs)("div",{className:"btn-group",children:[(0,Nn.jsx)("button",{className:"btn btn-outline-primary",children:"Daily"}),(0,Nn.jsx)("button",{className:"btn btn-outline-primary",children:"Weekly"}),(0,Nn.jsx)("button",{className:"btn btn-outline-primary",children:"Monthly"})]})]}),(0,Nn.jsx)("div",{className:"row g-3 mb-4",children:[{title:"Active Calls",value:"12",color:"primary"},{title:"Waiting Calls",value:"5",color:"warning"},{title:"Average Wait Time",value:"2:30",color:"info"},{title:"Resolved Today",value:"45",color:"success"}].map(((e,t)=>(0,Nn.jsx)("div",{className:"col-md-3",children:(0,Nn.jsx)("div",{className:"card h-100",children:(0,Nn.jsxs)("div",{className:"card-body",children:[(0,Nn.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:e.title}),(0,Nn.jsx)("h2",{className:"card-title text-".concat(e.color),children:e.value})]})})},t)))}),(0,Nn.jsxs)("div",{className:"row g-3",children:[(0,Nn.jsx)("div",{className:"col-md-8",children:(0,Nn.jsx)("div",{className:"card",children:(0,Nn.jsxs)("div",{className:"card-body",children:[(0,Nn.jsx)("h5",{className:"card-title",children:"Call Volume Today"}),(0,Nn.jsx)("div",{style:{height:"300px"},children:(0,Nn.jsx)(wi,{width:"100%",height:"100%",children:(0,Nn.jsxs)(AS,{data:[{time:"9:00",calls:12},{time:"10:00",calls:19},{time:"11:00",calls:15},{time:"12:00",calls:22},{time:"13:00",calls:17},{time:"14:00",calls:25}],children:[(0,Nn.jsx)(KS,{strokeDasharray:"3 3"}),(0,Nn.jsx)(yS,{dataKey:"time"}),(0,Nn.jsx)(jS,{}),(0,Nn.jsx)(Eo,{}),(0,Nn.jsx)(Za,{}),(0,Nn.jsx)(Hx,{type:"monotone",dataKey:"calls",stroke:"#8884d8"})]})})})]})})}),(0,Nn.jsx)("div",{className:"col-md-4",children:(0,Nn.jsx)("div",{className:"card",children:(0,Nn.jsxs)("div",{className:"card-body",children:[(0,Nn.jsx)("h5",{className:"card-title",children:"Active Agents"}),(0,Nn.jsx)("div",{className:"list-group",children:["John Doe","Jane Smith","Mike Johnson"].map(((e,t)=>(0,Nn.jsxs)("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e,(0,Nn.jsx)("span",{className:"badge bg-success",children:"Online"})]},t)))})]})})})]})]}):(0,Nn.jsx)("div",{className:"p-4",children:"You don't have permission to view this page."})}KS.displayName="CartesianGrid";const XS=Bn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),JS=Bn("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),ZS=Bn("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),QS=Bn("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function eE(){const{activeCall:e,callDuration:t,handleMuteCall:n,handleHoldCall:i,handleEndCall:o,handleAnswerCall:a,handleRejectCall:s,handleDial:c,selectedContact:l,setSelectedContact:u}=cr(),[d,h]=(0,r.useState)([]),[f,p]=(0,r.useState)([]),[g,m]=(0,r.useState)(!1),[v,y]=(0,r.useState)(""),b=e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))},w=(0,r.useMemo)((()=>{if(!d)return[];const t=[...d];return null!==e&&void 0!==e&&e.number&&!t.some((t=>t.phone===e.number))&&t.unshift({id:"active-call",phone:e.number,isActive:!0,queue_name:e.isInbound?"Incoming Call":"Outbound Call"}),t.filter(((e,t,n)=>t===n.findIndex((t=>t.phone===e.phone))))}),[d,e]);(0,r.useEffect)((()=>{x()}),[]);const x=async()=>{try{const e=await je.getContacts();h(e)}catch(e){console.error("Error loading contacts:",e)}};return(0,Nn.jsxs)("div",{className:"d-flex w-100",children:[(0,Nn.jsxs)("div",{className:"border-end bg-light",style:{width:"300px"},children:[(0,Nn.jsx)("div",{className:"p-3 border-bottom",children:(0,Nn.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Nn.jsx)("input",{type:"text",className:"form-control",placeholder:"Search contacts...",value:v,onChange:e=>y(e.target.value)}),(0,Nn.jsx)("button",{className:"btn btn-primary",onClick:()=>m(!0),title:"Make a call",children:(0,Nn.jsx)(XS,{size:18})})]})}),g&&(0,Nn.jsx)("div",{className:"position-absolute mt-1 start-50 translate-middle-x z-index-1000",children:(0,Nn.jsx)(ir,{onClose:()=>m(!1),onDial:async e=>{try{await c(e),m(!1)}catch(t){console.error("Error making call:",t)}}})}),w.map((r=>(0,Nn.jsx)("div",{className:"chat-item p-3 border-bottom cursor-pointer ".concat(r.isActive?"bg-light":""),onClick:()=>u(r),children:(0,Nn.jsxs)("div",{className:"d-flex flex-column",children:[(0,Nn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Nn.jsx)("div",{className:"bg-primary rounded-circle p-2 text-white me-2",children:r.name?r.name.charAt(0):"#"}),(0,Nn.jsxs)("div",{children:[(0,Nn.jsx)("h6",{className:"mb-0",children:r.name||r.phone}),(0,Nn.jsx)("small",{className:"text-muted",children:r.isActive&&e?"active"===e.status?"In Call (".concat(b(t),")"):e.isInbound?"Incoming Call":e.status:r.queue_name})]})]}),r.isActive&&e&&(0,Nn.jsxs)("div",{className:"d-flex gap-2 mt-2",children:[e.isInbound&&"ringing"===e.status&&(0,Nn.jsxs)(Nn.Fragment,{children:[(0,Nn.jsxs)("button",{className:"btn btn-sm btn-success",onClick:e=>{e.stopPropagation(),a()},children:[(0,Nn.jsx)(er,{size:16})," Answer"]}),(0,Nn.jsxs)("button",{className:"btn btn-sm btn-danger",onClick:e=>{e.stopPropagation(),s()},children:[(0,Nn.jsx)(tr,{size:16})," Reject"]})]}),"active"===e.status&&(0,Nn.jsxs)(Nn.Fragment,{children:[(0,Nn.jsx)("button",{className:"btn btn-sm ".concat(e.isHeld?"btn-warning":"btn-outline-warning"),onClick:e=>{e.stopPropagation(),i()},children:(0,Nn.jsx)(JS,{size:16})}),(0,Nn.jsx)("button",{className:"btn btn-sm ".concat(e.isMuted?"btn-secondary":"btn-outline-secondary"),onClick:e=>{e.stopPropagation(),n()},children:(0,Nn.jsx)(ZS,{size:16})})]}),("active"===e.status||!e.isInbound&&["trying","connecting","ringing"].includes(e.status))&&(0,Nn.jsx)("button",{className:"btn btn-sm btn-danger ms-auto",onClick:e=>{e.stopPropagation(),o()},children:(0,Nn.jsx)(tr,{size:16})})]})]})},r.id)))]}),l&&(0,Nn.jsxs)("div",{className:"flex-grow-1",children:[(0,Nn.jsx)("div",{className:"p-3 border-bottom bg-white",children:(0,Nn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Nn.jsxs)("div",{children:[(0,Nn.jsx)("h5",{className:"mb-0",children:l.phone}),(0,Nn.jsx)("small",{className:"text-muted",children:"active"===(null===e||void 0===e?void 0:e.status)?"In Call (".concat(b(t),")"):"ringing"===(null===e||void 0===e?void 0:e.status)?e.isInbound?"Incoming Call":"Ringing...":null})]}),(0,Nn.jsxs)("div",{className:"d-flex gap-2",children:["active"===(null===e||void 0===e?void 0:e.status)&&(0,Nn.jsxs)(Nn.Fragment,{children:[(0,Nn.jsxs)("button",{className:"btn btn-light ".concat(e.isHeld?"active":""),onClick:i,children:[(0,Nn.jsx)(JS,{size:18})," Hold"]}),(0,Nn.jsxs)("button",{className:"btn btn-light ".concat(e.isMuted?"active":""),onClick:n,children:[(0,Nn.jsx)(ZS,{size:18})," Mute"]}),(0,Nn.jsxs)("button",{className:"btn btn-danger",onClick:o,children:[(0,Nn.jsx)(tr,{size:18})," End"]})]}),l.isTemporary&&(0,Nn.jsxs)("button",{className:"btn btn-primary",onClick:()=>console.log("Add contact clicked"),children:[(0,Nn.jsx)(QS,{size:18})," Add Contact"]})]})]})}),(0,Nn.jsx)("div",{className:"p-3 border-bottom",children:(0,Nn.jsxs)("div",{className:"row",children:[(0,Nn.jsxs)("div",{className:"col-md-4",children:[(0,Nn.jsxs)("div",{className:"mb-3",children:[(0,Nn.jsx)("label",{className:"text-muted small",children:"Phone Number"}),(0,Nn.jsx)("div",{children:l.phone})]}),l.email&&(0,Nn.jsxs)("div",{className:"mb-3",children:[(0,Nn.jsx)("label",{className:"text-muted small",children:"Email"}),(0,Nn.jsx)("div",{children:l.email})]})]}),(0,Nn.jsxs)("div",{className:"col-md-4",children:[l.dnis&&(0,Nn.jsxs)("div",{className:"mb-3",children:[(0,Nn.jsx)("label",{className:"text-muted small",children:"DNIS"}),(0,Nn.jsx)("div",{children:l.dnis})]}),l.queue_name&&(0,Nn.jsxs)("div",{className:"mb-3",children:[(0,Nn.jsx)("label",{className:"text-muted small",children:"Queue"}),(0,Nn.jsx)("div",{children:l.queue_name})]})]}),(0,Nn.jsx)("div",{className:"col-md-4",children:l.address&&(0,Nn.jsxs)("div",{className:"mb-3",children:[(0,Nn.jsx)("label",{className:"text-muted small",children:"Address"}),(0,Nn.jsx)("div",{children:l.address})]})})]})}),(0,Nn.jsxs)("div",{className:"p-3",children:[(0,Nn.jsx)("h6",{className:"mb-3",children:"Contact History"}),f.map(((e,t)=>(0,Nn.jsxs)("div",{className:"mb-4",children:[(0,Nn.jsx)("div",{className:"text-muted mb-2",children:e.created_at}),(0,Nn.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,Nn.jsx)("div",{className:"bg-".concat("active"===e.status?"success":"secondary"," rounded-circle p-2 text-white me-3"),children:(0,Nn.jsx)(er,{size:16})}),(0,Nn.jsxs)("div",{className:"flex-grow-1",children:[(0,Nn.jsx)("div",{children:e.status}),(0,Nn.jsxs)("small",{className:"text-muted",children:[e.agent_name," \u2022 ",e.queue_name]})]}),(0,Nn.jsx)("div",{className:"text-end",children:(0,Nn.jsx)("div",{children:e.duration})})]})]},t)))]})]})]})}const tE=Bn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),nE=Bn("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),rE=Bn("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function iE(){const e=Q(),[t,n]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[i,o]=(0,r.useState)({current:!1,new:!1,confirm:!1}),[a,s]=(0,r.useState)(""),[c,l]=(0,r.useState)(""),[u,d]=(0,r.useState)(!1),h=e=>{const{name:t,value:r}=e.target;n((e=>Re(Re({},e),{},{[t]:r}))),s("")},f=e=>{o((t=>Re(Re({},t),{},{[e]:!t[e]})))};return(0,Nn.jsx)("div",{className:"container py-5",children:(0,Nn.jsx)("div",{className:"row justify-content-center",children:(0,Nn.jsx)("div",{className:"col-md-6 col-lg-5",children:(0,Nn.jsx)("div",{className:"card shadow",children:(0,Nn.jsxs)("div",{className:"card-body p-4",children:[(0,Nn.jsxs)("div",{className:"text-center mb-4",children:[(0,Nn.jsx)("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3 d-inline-block mb-3",children:(0,Nn.jsx)(tE,{size:24,className:"text-primary"})}),(0,Nn.jsx)("h4",{className:"card-title mb-1",children:"Change Password"}),(0,Nn.jsx)("p",{className:"text-muted",children:"Enter your current password and new password"})]}),a&&(0,Nn.jsx)("div",{className:"alert alert-danger",role:"alert",children:a}),c&&(0,Nn.jsx)("div",{className:"alert alert-success",role:"alert",children:c}),(0,Nn.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),s(""),l(""),d(!0),t.newPassword!==t.confirmPassword)return s("New passwords do not match"),void d(!1);if(t.newPassword.length<6)return s("New password must be at least 6 characters long"),void d(!1);try{await je.changePassword({currentPassword:t.currentPassword,newPassword:t.newPassword}),l("Password changed successfully"),n({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout((()=>{e("/dashboard")}),2e3)}catch(a){s(a.message||"Error changing password")}finally{d(!1)}},children:[(0,Nn.jsxs)("div",{className:"mb-3",children:[(0,Nn.jsx)("label",{className:"form-label",children:"Current Password"}),(0,Nn.jsxs)("div",{className:"input-group",children:[(0,Nn.jsx)("input",{type:i.current?"text":"password",className:"form-control",name:"currentPassword",value:t.currentPassword,onChange:h,required:!0,disabled:u}),(0,Nn.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>f("current"),children:i.current?(0,Nn.jsx)(nE,{size:18}):(0,Nn.jsx)(rE,{size:18})})]})]}),(0,Nn.jsxs)("div",{className:"mb-3",children:[(0,Nn.jsx)("label",{className:"form-label",children:"New Password"}),(0,Nn.jsxs)("div",{className:"input-group",children:[(0,Nn.jsx)("input",{type:i.new?"text":"password",className:"form-control",name:"newPassword",value:t.newPassword,onChange:h,required:!0,disabled:u}),(0,Nn.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>f("new"),children:i.new?(0,Nn.jsx)(nE,{size:18}):(0,Nn.jsx)(rE,{size:18})})]})]}),(0,Nn.jsxs)("div",{className:"mb-4",children:[(0,Nn.jsx)("label",{className:"form-label",children:"Confirm New Password"}),(0,Nn.jsxs)("div",{className:"input-group",children:[(0,Nn.jsx)("input",{type:i.confirm?"text":"password",className:"form-control",name:"confirmPassword",value:t.confirmPassword,onChange:h,required:!0,disabled:u}),(0,Nn.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>f("confirm"),children:i.confirm?(0,Nn.jsx)(nE,{size:18}):(0,Nn.jsx)(rE,{size:18})})]})]}),(0,Nn.jsxs)("div",{className:"d-grid gap-2",children:[(0,Nn.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Changing Password...":"Change Password"}),(0,Nn.jsx)("button",{type:"button",className:"btn btn-light",onClick:()=>e(-1),disabled:u,children:"Cancel"})]})]})]})})})})})}const oE=e=>{let{children:t}=e;return localStorage.getItem("token")?(0,Nn.jsxs)("div",{className:"vh-100 d-flex flex-column",children:[(0,Nn.jsx)("div",{className:"position-fixed top-0 start-0 end-0 bg-white",style:{zIndex:1030},children:(0,Nn.jsx)(ur,{})}),(0,Nn.jsxs)("div",{className:"flex-grow-1 d-flex mt-5",children:[(0,Nn.jsx)("div",{className:"position-fixed start-0 bottom-0",style:{top:"61px",width:"60px"},children:(0,Nn.jsx)(zn,{})}),(0,Nn.jsx)("div",{className:"flex-grow-1 overflow-auto",style:{marginLeft:"60px",marginTop:"1rem"},children:t})]})]}):(0,Nn.jsx)(ge,{to:"/",replace:!0})};function aE(){return(0,Nn.jsx)($n,{children:(0,Nn.jsx)(lr,{children:(0,Nn.jsx)(Ee,{children:(0,Nn.jsxs)(ye,{children:[(0,Nn.jsx)(me,{path:"/",element:(0,Nn.jsx)(dr,{})}),(0,Nn.jsx)(me,{path:"/dashboard",element:(0,Nn.jsx)(oE,{children:(0,Nn.jsx)(YS,{})})}),(0,Nn.jsx)(me,{path:"/contacts",element:(0,Nn.jsx)(oE,{children:(0,Nn.jsx)(eE,{})})}),(0,Nn.jsx)(me,{path:"/change-password",element:(0,Nn.jsx)(oE,{children:(0,Nn.jsx)(iE,{})})}),(0,Nn.jsx)(me,{path:"*",element:(0,Nn.jsx)(ge,{to:"/dashboard",replace:!0})})]})})})})}const sE=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};o.createRoot(document.getElementById("root")).render((0,Nn.jsx)(r.StrictMode,{children:(0,Nn.jsx)(aE,{})})),sE()})()})();
//# sourceMappingURL=main.d1cb6cfb.js.map